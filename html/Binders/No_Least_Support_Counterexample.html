<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory No_Least_Support_Counterexample</title>
</head>


<body>
<div class="head">
<h1>Theory No_Least_Support_Counterexample</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="No_Least_Support_Counterexample.html"><span>No_Least_Support_Counterexample</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
   </span><span class="quoted"><span>"</span><a href="../Isabelle_Prelim/HOL-Library.Stream.html"><span>HOL-Library.Stream</span></a><span>"</span></span><span>
   </span><span class="quoted"><span>"</span><a href="../Isabelle_Prelim/HOL-Library.Countable_Set_Type.html"><span>HOL-Library.Countable_Set_Type</span></a><span>"</span></span><span>
   </span><span class="quoted"><span>"</span><a href="../../HOL/HOL-Cardinals/Cardinals.html"><span>HOL-Cardinals.Cardinals</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="comment1"><span>(* An uncountable variable type:  *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.var|type"><span>var</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.suc|type"><span>suc</span></a><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.cbij_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.cbij_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.cbij_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="No_Least_Support_Counterexample.cbij|const"><span>cbij</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="comment1"><span>(* countable-support bijections *)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cbij</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span>bij</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.card_of_var|fact"><span class="entity_def" id="No_Least_Support_Counterexample.card_of_var|thm"><span>card_of_var</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso2|const"><span>=o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_suc|const"><span>card_suc</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_card_suc|fact"><span>card_order_card_suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.card_suc_greater_set|fact"><span class="entity_def" id="No_Least_Support_Counterexample.card_suc_greater_set|thm"><span>card_suc_greater_set</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order|const"><span>card_order</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq3|const"><span>≤o</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_suc|const"><span>card_suc</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_suc_greater|fact"><span>card_suc_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.countable_iff_le_card_var|fact"><span class="entity_def" id="No_Least_Support_Counterexample.countable_iff_le_card_var|thm"><span>countable_iff_le_card_var</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set_Type.html#Countable_Set_Type.countable_card_of_nat|fact"><span>countable_card_of_nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Greatest_Fixpoint.html#BNF_Greatest_Fixpoint.card_suc_ordLess_imp_ordLeq|fact"><span>card_suc_ordLess_imp_ordLeq</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.card_suc_greater_set|fact"><span>card_suc_greater_set</span></a><span>
    </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordIso_trans|fact"><span>ordLess_ordIso_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.card_of_var|fact"><span>card_of_var</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
    </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordIso_trans|fact"><span>ordLess_ordIso_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.card_of_var|fact"><span>card_of_var</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.countable_sset|fact"><span class="entity_def" id="No_Least_Support_Counterexample.countable_sset|thm"><span>countable_sset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span>sset</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.stream_eq_nth|fact"><span class="entity_def" id="No_Least_Support_Counterexample.stream_eq_nth|thm"><span>stream_eq_nth</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap_alt|fact"><span>smap_alt</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream_smap_nats|fact"><span>stream_smap_nats</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1046..1051">lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.exists_subset_compl|fact"><span class="entity_def" id="No_Least_Support_Counterexample.exists_subset_compl|thm"><span>exists_subset_compl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cinfinite|const"><span>Cinfinite</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq3|const"><span>≤o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso2|const"><span>=o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1210..1211">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1046..1051"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.card_of_Un1|fact"><span>card_of_Un1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso2|const"><span>=o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>::</span></span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1046..1051"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Boolean_Algebras.html#Boolean_Algebras.boolean_algebra_class.boolean_algebra.disj_cancel_right|fact"><span>boolean_algebra.disj_cancel_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.card_of_UNIV|fact"><span>card_of_UNIV</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.card_of_var|fact"><span>card_of_var</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable_Un_iff|fact"><span>countable_Un_iff</span></a><span>
      </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.countable_iff_le_card_var|fact"><span>countable_iff_le_card_var</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.not_ordLess_ordIso|fact"><span>not_ordLess_ordIso</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_iff_ordLess_or_ordIso|fact"><span>ordLeq_iff_ordLess_or_ordIso</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1210..1211"><span>1</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1046..1051"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordIso_trans|fact"><span>ordLess_ordIso_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>B</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1677..1678">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso2|const"><span>=o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="skolem"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.internalize_card_of_ordLeq2|fact"><span>internalize_card_of_ordLeq2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_imp_ordLeq|fact"><span>ordLess_imp_ordLeq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1677..1678"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.countable_cbij|fact"><span class="entity_def" id="No_Least_Support_Counterexample.countable_cbij|thm"><span>countable_cbij</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1891..1892">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="free"><span>A'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cbij|const"><span>cbij</span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span class="main"><span>∈</span></span><span class="free"><span>A'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2030..2031">D</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>D</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>D</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>D</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>DA</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso2|const"><span>=o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.exists_subset_compl|fact"><span>exists_subset_compl</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>A</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.Field_card_of|fact"><span>Field_card_of</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_Un_distrib|fact"><span>Int_Un_distrib</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_commute|fact"><span>Int_commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty|fact"><span>Un_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.card_of_UNIV|fact"><span>card_of_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.cinfinite_def|fact"><span>cinfinite_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable_Un_iff|fact"><span>countable_Un_iff</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.countable_iff_le_card_var|fact"><span>countable_iff_le_card_var</span></a><span>
       </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1891..1892"><span>s</span></a><span class="main"><span>(</span></span><span>1-3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cinfinite_card_suc|fact"><span>Cinfinite_card_suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.Field_card_suc|fact"><span>Field_card_suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.natLeq_Cinfinite|fact"><span>natLeq_Cinfinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.natLeq_card_order|fact"><span>natLeq_card_order</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>u</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>D</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_ordIso|fact"><span>card_of_ordIso</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_2530..2531">u</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>D</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?iu</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>iu</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="var"><span>?iu</span></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2530..2531"><span>u</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_betw_inv_into|fact"><span>bij_betw_inv_into</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_2761..2763">iu</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?iu</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="var"><span>?iu</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?iu</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_2872..2878">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="var"><span>?iu</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2954..2955">v</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?iu</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2030..2031"><span>D</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2872..2878"><span>v_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>cas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2030..2031"><span>D</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2761..2763"><span>iu</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2530..2531"><span>u</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2530..2531"><span>u</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2872..2878"><span>v_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_image|fact"><span>image_image</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>y</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2761..2763"><span>iu</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2530..2531"><span>u</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2954..2955"><span>v</span></a><span class="main"><span>(</span></span><span>1-3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.f_inv_into_f|fact"><span>f_inv_into_f</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv_into_into|fact"><span>inv_into_into</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3390..3392">bv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span>bij</span></a><span> </span><span class="skolem"><span>v</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_def|fact"><span>bij_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_def|fact"><span>inj_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3463..3465">sv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="skolem"><span>D</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2954..2955"><span>v</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>v</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_3390..3392"><span>bv</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_3463..3465"><span>sv</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1891..1892"><span>s</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2530..2531"><span>u</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cbij_def|fact"><span>cbij_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable_Un_iff|fact"><span>countable_Un_iff</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable_image|fact"><span>countable_image</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable_subset|fact"><span>countable_subset</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2030..2031"><span>D</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2530..2531"><span>u</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_3463..3465"><span>sv</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_2030..2031"><span>D</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_1891..1892"><span>s</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="comment1"><span>(* Almost-everywhere equality of streams: *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ys</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ys</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_suffix|fact"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_suffix|thm"><span>eq_ae_suffix</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sdrop|const"><span>sdrop</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sdrop|const"><span>sdrop</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_def|fact"><span>eq_ae_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max|const"><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max|const"><span>Max</span></a></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>{</span></span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><span class="free"><span class="free"><span>xs</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span></a></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span></a></span><span> </span><span class="free"><span class="free"><span>ys</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span></a></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span class="main"><span>}</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max.insert_remove|fact"><span>Max.insert_remove</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap_alt|fact"><span>smap_alt</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_id|fact"><span>stream.map_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.mono_Max_commute|fact"><span>mono_Max_commute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.order_class.mono_def|fact"><span>mono_def</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sdrop_snth|fact"><span>sdrop_snth</span></a><span>
      </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth.simps|fact"><span>snth.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect_empty_eq|fact"><span>Collect_empty_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max_less_iff|fact"><span>Max_less_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_semigroup_add_class.add.commute|fact"><span>add.commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.less_add_Suc2|fact"><span>less_add_Suc2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/SMT.html#SMT.verit_comp_simplify1|fact"><span>verit_comp_simplify1</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_subset|fact"><span>finite_subset</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.add_diff_inverse_nat|fact"><span>add_diff_inverse_nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.atLeast0LessThan|fact"><span>atLeast0LessThan</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.lessThan_iff|fact"><span>lessThan_iff</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sdrop_snth|fact"><span>sdrop_snth</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="comment1"><span>(* This is indeed an equivalence: *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_refl|fact"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_refl|thm"><span>eq_ae_refl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span> </span><span class="free"><span>us</span></span><span> </span><span class="free"><span>us</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_def|fact"><span>eq_ae_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_sym|fact"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_sym|thm"><span>eq_ae_sym</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span> </span><span class="free"><span>us</span></span><span> </span><span class="free"><span>vs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span> </span><span class="free"><span>vs</span></span><span> </span><span class="free"><span>us</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_def|fact"><span>eq_ae_def</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_subset|fact"><span>finite_subset</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_trans|fact"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_trans|thm"><span>eq_ae_trans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span> </span><span class="free"><span>us</span></span><span> </span><span class="free"><span>vs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span> </span><span class="free"><span>vs</span></span><span> </span><span class="free"><span>ws</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span> </span><span class="free"><span>us</span></span><span> </span><span class="free"><span>ws</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_suffix|fact"><span>eq_ae_suffix</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i j
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.max|const"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.max|const"><span>max</span></a></a><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_semigroup_add_class.add.commute|fact"><span>add.commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.linorder_class.max.commute|fact"><span>max.commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat_minus_add_max|fact"><span>nat_minus_add_max</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sdrop_add|fact"><span>sdrop_add</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_equivp|fact"><span class="entity_def" id="No_Least_Support_Counterexample.eq_ae_equivp|thm"><span>eq_ae_equivp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Equiv_Relations.html#Equiv_Relations.equivp|const"><span>equivp</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_refl|fact"><span>eq_ae_refl</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_sym|fact"><span>eq_ae_sym</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_trans|fact"><span>eq_ae_trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Equiv_Relations.html#Equiv_Relations.equivpI|fact"><span>equivpI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.reflpI|fact"><span>reflpI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.sympI|fact"><span>sympI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.transpI|fact"><span>transpI</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* E is taken to be a quotient type, consisting of equivalence classes 
of streams of variables under almost-everywhere-equality: *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.Quotient_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.abs_eq_iff|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.abs_induct|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.bi_total|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.left_total|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.id_abs_transfer|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.right_total|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.right_unique|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.rel_eq_transfer|fact"><span class="entity_def" id="No_Least_Support_Counterexample.arity_partial_term_of_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.partial_term_of_E_triv|fact"><span class="entity_def" id="No_Least_Support_Counterexample.partial_term_of_E_inst.partial_term_of_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.arity_term_of_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.term_of_E_triv|fact"><span class="entity_def" id="No_Least_Support_Counterexample.term_of_E_inst.term_of_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.cr_E_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.rep_E_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.abs_E_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.arity_typerep_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.typerep_E_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.typerep_E_inst.typerep_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_induct|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_induct|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_cases|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_cases|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_inject|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_inject|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_inverse|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_inverse|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.type_definition_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.arity_type_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E.lifting|bundle"><span class="entity_def" id="No_Least_Support_Counterexample.Quotient_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.abs_eq_iff|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.abs_induct|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.bi_total|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.left_total|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.id_abs_transfer|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.right_total|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.right_unique|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.rel_eq_transfer|thm"><span class="entity_def" id="No_Least_Support_Counterexample.arity_partial_term_of_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.partial_term_of_E_triv|thm"><span class="entity_def" id="No_Least_Support_Counterexample.partial_term_of_E_inst.partial_term_of_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.arity_term_of_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.term_of_E_triv|thm"><span class="entity_def" id="No_Least_Support_Counterexample.term_of_E_inst.term_of_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.cr_E_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.rep_E_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.abs_E_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.arity_typerep_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.typerep_E_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.typerep_E_inst.typerep_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_induct|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_induct|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_cases|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_cases|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_inject|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_inject|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E_inverse|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E_inverse|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E.type_definition_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.arity_type_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.partial_term_of_E_triv_raw|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.partial_term_of_E_inst.partial_term_of_E_def|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.term_of_E_triv_raw|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.term_of_E_inst.term_of_E_def|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.cr_E_def|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.rep_E_def|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.abs_E_def|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.typerep_E_def_raw|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.typerep_E_inst.typerep_E_def|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.E.type_definition_E|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.arity_type_E|axiom"><span class="entity_def" id="No_Least_Support_Counterexample.partial_term_of_E_inst.partial_term_of_E|const"><span class="entity_def" id="No_Least_Support_Counterexample.term_of_E_inst.term_of_E|const"><span class="entity_def" id="No_Least_Support_Counterexample.cr_E|const"><span class="entity_def" id="No_Least_Support_Counterexample.typerep_E_inst.typerep_E|const"><span class="entity_def" id="No_Least_Support_Counterexample.E.Abs_E|const"><span class="entity_def" id="No_Least_Support_Counterexample.E.Rep_E|const"><span>quotient_type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.Quotient3_E|fact"><span class="entity_def" id="No_Least_Support_Counterexample.E_equivp|fact"><span class="entity_def" id="No_Least_Support_Counterexample.Quotient3_E|thm"><span class="entity_def" id="No_Least_Support_Counterexample.E_equivp|thm"><span class="entity_def" id="No_Least_Support_Counterexample.rep_E|const"><span class="entity_def" id="No_Least_Support_Counterexample.abs_E|const"><span class="entity_def" id="No_Least_Support_Counterexample.E|type"><span>E</span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream|type"><span>stream</span></a><span>"</span></span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="quoted"><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae|const"><span>eq_ae</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_equivp|fact"><span>eq_ae_equivp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E.abs_eq|fact"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E.transfer|fact"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E.rsp|fact"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E.abs_eq|thm"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E.transfer|thm"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E.rsp|thm"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.perm_E|const"><span>perm_E</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.E|type"><span>E</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.E|type"><span>E</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∙</span></span><span>"</span></span><span> 65</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span>smap</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_suffix|fact"><span>eq_ae_suffix</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f s t i
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>i</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.supports_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.supports_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.supports_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="No_Least_Support_Counterexample.supports|const"><span>supports</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>supports</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cbij|const"><span>cbij</span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span class="main"><span>∈</span></span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.perm_E|const"><span>∙</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(* The next 3 lemmas show that "E" forms an aleph0-pre-nominal set *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.perm_E_id|fact"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E_id|thm"><span>perm_E_id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="main"><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.perm_E|const"><span>∙</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
 </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_refl|fact"><span>eq_ae_refl</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_id|fact"><span>stream.map_id</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.perm_E_comp|fact"><span class="entity_def" id="No_Least_Support_Counterexample.perm_E_comp|thm"><span>perm_E_comp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cbij|const"><span>cbij</span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cbij|const"><span>cbij</span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.perm_E|const"><span>∙</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.perm_E|const"><span>∙</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>τ</span></span><span> </span><span class="main"><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.perm_E|const"><span>∙</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_refl|fact"><span>eq_ae_refl</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_comp|fact"><span>stream.map_comp</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.countable_support|fact"><span class="entity_def" id="No_Least_Support_Counterexample.countable_support|thm"><span>countable_support</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports|const"><span>supports</span></a><span> </span><span class="bound"><span>A</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports_def|fact"><span>supports_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> s
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_refl|fact"><span>eq_ae_refl</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_ident|fact"><span>stream.map_ident</span></a><span> </span><span class="quasi_keyword"><span>cong</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_cong|fact"><span>stream.map_cong</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span>sset</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.countable_sset|fact"><span>countable_sset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="comment1"><span>(* Just like in the paper, we now take xs to be some nonrepetitive (i.e,, injective) stream: *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.f_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.f_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.f_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="No_Least_Support_Counterexample.f|const"><span>f</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.var|type"><span>var</span></a><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><span class="bound"><span>f</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.f_inj|fact"><span class="entity_def" id="No_Least_Support_Counterexample.f_inj|thm"><span>f_inj</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.f|const"><span>f</span></a><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.f|const"><span>f</span></a><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>j</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cinfinite_card_suc|fact"><span>Cinfinite_card_suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.Field_natLeq|fact"><span>Field_natLeq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.cinfinite_def|fact"><span>cinfinite_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.infinite_countable_subset|fact"><span>infinite_countable_subset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.injD|fact"><span>injD</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.f_def|fact"><span>f_def</span></a><span>
    </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.natLeq_card_order|fact"><span>natLeq_card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.natLeq_cinfinite|fact"><span>natLeq_cinfinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI_ex|fact"><span>someI_ex</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.xs_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.xs_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.xs_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="No_Least_Support_Counterexample.xs|const"><span>xs</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span>smap</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.f|const"><span>f</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span>nats</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.snth_xs|fact"><span class="entity_def" id="No_Least_Support_Counterexample.snth_xs|thm"><span>snth_xs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.f|const"><span>f</span></a><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs_def|fact"><span>xs_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="comment1"><span>(* This is the equivalence class of xs (under the almost-everywhere equality relation eq_ae): *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs.abs_eq|fact"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs.transfer|fact"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs.rsp|fact"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs_def|fact"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs.abs_eq|thm"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs.transfer|thm"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs.rsp|thm"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs_def|thm"><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.cls_xs|const"><span>cls_xs</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.E|type"><span>E</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(* Any of the sets {xs!n,xs!(n+1),...} supports cls_xs: *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.supports_cls_xs|fact"><span class="entity_def" id="No_Least_Support_Counterexample.supports_cls_xs|thm"><span>supports_cls_xs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports|const"><span>supports</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeast|const"><span>{</span></a></span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeast|const"><span>..}</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cls_xs|const"><span>cls_xs</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports_def|fact"><span>supports_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs_def|fact"><span>xs_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_comp|fact"><span>stream.map_comp</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_suffix|fact"><span>eq_ae_suffix</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_cong|fact"><span>stream.map_cong</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* Assuming the existence of a minimal supporting set for each element of E, we derive a contradiction: *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="entity_def" id="No_Least_Support_Counterexample.counterexample|fact"><span class="entity_def" id="No_Least_Support_Counterexample.counterexample|thm"><span>counterexample</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7085..7092">minimal</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>e</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports|const"><span>supports</span></a><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>e</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports|const"><span>supports</span></a><span> </span><span class="bound"><span>B</span></span><span> </span><span class="bound"><span>e</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_7085..7092"><span>minimal</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>A</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="skolem"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports|const"><span>supports</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cls_xs|const"><span>cls_xs</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports|const"><span>supports</span></a><span> </span><span class="bound"><span>B</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cls_xs|const"><span>cls_xs</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7331..7332">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeast|const"><span>{</span></a></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeast|const"><span>..}</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>n</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports_cls_xs|fact"><span>supports_cls_xs</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#offset_7331..7332"><span>*</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs_def|fact"><span>xs_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.countable_cbij|fact"><span>countable_cbij</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.range|const"><span>range</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.range|const"><span>range</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>A</span></span></span><span class="main"><span>]</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Countable_Set.html#Countable_Set.countable|const"><span>countable</span></a><span> </span><span class="skolem"><span>A</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cbij|const"><span>cbij</span></a><span> </span><span class="skolem"><span>σ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.range|const"><span>range</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.range|const"><span>range</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>snth</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs|const"><span>xs</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span class="main"><span>∈</span></span><span class="skolem"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>σ</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports|const"><span>supports</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.cls_xs|const"><span>cls_xs</span></a><span>›</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.supports_def|fact"><span>supports_def</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>rule_format</span></span><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> σ </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>σ</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.xs_def|fact"><span>xs_def</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_comp|fact"><span>stream.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.eq_ae_suffix|fact"><span>eq_ae_suffix</span></a><span> </span><a class="entity_ref" href="No_Least_Support_Counterexample.html#No_Least_Support_Counterexample.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>