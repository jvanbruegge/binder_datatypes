<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Iso_LC_ILC</title>
</head>


<body>
<div class="head">
<h1>Theory Iso_LC_ILC</h1>
</div>

<pre class="source"><span class="comment1"><span>(* Mazza's isomorphism between affine uniform ILC and LC *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Iso_LC_ILC.html"><span>Iso_LC_ILC</span></a><span> 
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Translation_LC_to_ILC.html"><span>Translation_LC_to_ILC</span></a><span> </span><a href="Translation_ILC_to_LC.html"><span>Translation_ILC_to_LC</span></a><span> </span><a href="ILC_affine.html"><span>ILC_affine</span></a><span> 
</span><span class="quoted"><span>"</span><a href="HOL-Library.Sublist.html"><span>HOL-Library.Sublist</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="../Untyped_Lambda_Calculus/LC_Beta_depth.html"><span>Untyped_Lambda_Calculus.LC_Beta_depth</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr_FFVars_super|fact"><span class="entity_def" id="Iso_LC_ILC.tr_FFVars_super|thm"><span>tr_FFVars_super</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>p'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super|const"><span class="const"><span>super</span></span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsnth|const"><span class="const"><span>dsnth</span></span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.natOf|const"><span class="const"><span>natOf</span></span></a><span> </span><span class="bound"><span>p'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>e</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_superOf|fact"><span>super_superOf</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr_FFVars_prefix|fact"><span class="entity_def" id="Iso_LC_ILC.tr_FFVars_prefix|thm"><span>tr_FFVars_prefix</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super|const"><span class="const"><span>super</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsnth|const"><span class="const"><span>dsnth</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.natOf|const"><span class="const"><span>natOf</span></span></a><span> </span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.prefix|const"><span class="const"><span>prefix</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>p'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>e</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsnth.rep_eq|fact"><span>dsnth.rep_eq</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset.rep_eq|fact"><span>dsset.rep_eq</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dtheN_dsnth|fact"><span>dtheN_dsnth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.injD|fact"><span>injD</span></a><span> 
     </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inject_natOf|fact"><span>inject_natOf</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_absorb|fact"><span>insert_absorb</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_disjoint|fact"><span>insert_disjoint</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.prefix_order.order_refl|fact"><span>prefix_order.order_refl</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_disj|fact"><span>super_disj</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_superOf|fact"><span>super_superOf</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.append_prefixD|fact"><span>append_prefixD</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.not_prefix_FFVars_tr_disjoint|fact"><span class="entity_def" id="Iso_LC_ILC.not_prefix_FFVars_tr_disjoint|thm"><span>not_prefix_FFVars_tr_disjoint</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.prefix|const"><span class="const"><span>prefix</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.prefix|const"><span class="const"><span>prefix</span></span></a><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e'</span></span><span> </span><span class="free"><span>p'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff|fact"><span>disjoint_iff</span></a><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.prefix_same_cases|fact"><span>prefix_same_cases</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr_FFVars_prefix|fact"><span>tr_FFVars_prefix</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr_FFVars_super|fact"><span>tr_FFVars_super</span></a><span class="main"><span>)</span></span><span>


</span><span class="comment1"><span>(* Mazza's lemma 15(1) (remember that 15(2) comes for free from our recursor) *)</span></span><span> </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.reneqv_tr|fact"><span>reneqv_tr</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.affine_tr|fact"><span class="entity_def" id="Iso_LC_ILC.affine_tr|thm"><span>affine_tr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_affine.html#ILC_affine.affine|const"><span class="const"><span>affine</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>e</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_affine.html#ILC_affine.affine_iApp_iff|fact"><span>affine_iApp_iff</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Zero_not_Suc|fact"><span>Zero_not_Suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append1_eq_conv|fact"><span>append1_eq_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append_eq_append_conv|fact"><span>append_eq_append_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Greatest_Fixpoint.html#BNF_Greatest_Fixpoint.length_append_singleton|fact"><span>length_append_singleton</span></a><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.prefix_def|fact"><span>prefix_def</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr_FFVars_prefix|fact"><span>tr_FFVars_prefix</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr_FFVars_super|fact"><span>tr_FFVars_super</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.Cons_prefix_Cons|fact"><span>Cons_prefix_Cons</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc_inject|fact"><span>Suc_inject</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.not_prefix_FFVars_tr_disjoint|fact"><span>not_prefix_FFVars_tr_disjoint</span></a><span> </span><a class="entity_ref" href="HOL-Library.Sublist.html#Sublist.same_prefix_prefix|fact"><span>same_prefix_prefix</span></a><span class="main"><span>)</span></span><span>


</span><span class="comment1"><span>(* Mazza Lemma 16 *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.reneqv_tr&apos;|fact"><span class="entity_def" id="Iso_LC_ILC.reneqv_tr&apos;|thm"><span>reneqv_tr'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.induct|fact"><span>reneqv.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dtheN|fact"><span>dtheN</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetD|fact"><span>subsetD</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_dsset_RSuper|fact"><span>super_dsset_RSuper</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.theSN_unique|fact"><span>theSN_unique</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iLam_uniform|fact"><span>tr'_iLam_uniform</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def|fact"><span>uniform_def</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def2|fact"><span>uniform_def2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> s t </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def|fact"><span>uniform_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def2|fact"><span>uniform_def2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.shd_sset|fact"><span>shd_sset</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="comment1"><span>(* Mazza's lemma 17 *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr_tvsubst_Var_reneqv|fact"><span class="entity_def" id="Iso_LC_ILC.tr_tvsubst_Var_reneqv|thm"><span>tr_tvsubst_Var_reneqv</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="comment1"><span>(* This assumption made by Mazza is not needed: 
assumes "⋀i j. i ≠ j ⟹ ¬ prefix (snth ps i) (snth ps j)" *)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span>
         </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span class="main"><span>:=</span></span><span class="free"><span>e</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ee</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span> 
         </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.itvsubst|const"><span class="const"><span>itvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>ee</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>ee</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>e</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.term.subst|fact"><span>term.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset_range|fact"><span>dsset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.imkSubst_idle|fact"><span>imkSubst_idle</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_iff|fact"><span>insert_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.rangeI|fact"><span>rangeI</span></a><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.reneqv_tr|fact"><span>reneqv_tr</span></a><span> 
        </span><a class="entity_ref" href="Supervariables.html#Supervariables.subOf_superOf|fact"><span>subOf_superOf</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_superOf|fact"><span>super_superOf</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_iVar|fact"><span>touchedSuper_iVar</span></a><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr_Var|fact"><span>tr_Var</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_2660..2663">App</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.term.subst|fact"><span>term.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_iApp_iff|fact"><span>reneqv_iApp_iff</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_2660..2663"><span>App.IH</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_trans|fact"><span>reneqv_trans</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_sym|fact"><span>reneqv_sym</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>    
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_2660..2663"><span>App.IH</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_trans|fact"><span>reneqv_trans</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_sym|fact"><span>reneqv_sym</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_2941..2944">Lam</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.term.subst|fact"><span>term.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.IImsupp_Var|fact"><span>IImsupp_Var</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr_Lam|fact"><span>tr_Lam</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iterm.subst|fact"><span>iterm.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_touchedSuper_IImsupp_imkSubst|fact"><span>uniformS_touchedSuper_IImsupp_imkSubst</span></a><span> 
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper|const"><span class="const"><span>touchedSuper</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.IImsupp|const"><span class="const"><span>ILC.IImsupp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_def|fact"><span>touchedSuper_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_touchedSuper_IImsupp_imkSubst&apos;|fact"><span>uniformS_touchedSuper_IImsupp_imkSubst'</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> e </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>e</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.shd|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.shd|const"><span class="const"><span>shd</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.shd_sset|fact"><span>shd_sset</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.FFVars_tr|fact"><span>FFVars_tr</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.subOf_superOf|fact"><span>subOf_superOf</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_iLam_iff|fact"><span>reneqv_iLam_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_2941..2944"><span>Lam.fresh</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="comment1"><span>(* difference from the above lemma (tr_tvsubst_Var_reneqv) 
is that we have a different position q' *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr_tvsubst_Var_reneqv&apos;|fact"><span class="entity_def" id="Iso_LC_ILC.tr_tvsubst_Var_reneqv&apos;|thm"><span>tr_tvsubst_Var_reneqv'</span></span></span><span class="main"><span>:</span></span><span>  
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span>
         </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span class="main"><span>:=</span></span><span class="free"><span>e</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ee</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span> 
         </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.itvsubst|const"><span class="const"><span>itvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>ee</span></span><span> </span><span class="free"><span>q'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_trans|fact"><span>reneqv_trans</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr_tvsubst_Var_reneqv|fact"><span>tr_tvsubst_Var_reneqv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="comment1"><span>(* *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.FFVars_touchedSuperT_imkSubst_UN_incl|fact"><span class="entity_def" id="Iso_LC_ILC.FFVars_touchedSuperT_imkSubst_UN_incl|thm"><span>FFVars_touchedSuperT_imkSubst_UN_incl</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4199..4201">xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.super|const"><span class="const"><span>super</span></span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4218..4219">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="free"><span>e2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="free"><span>e2'</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4264..4265">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>e2</span></span><span> </span><span class="bound"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="bound"><span>e2</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span class="const"><span>sset</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="bound"><span>e2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="bound"><span>e2'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span>
       </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="bound"><span>x'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4495..4496">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4522..4523">y</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="bound"><span>x'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset|const"><span class="const"><span>dsset</span></span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_4672..4676">True</span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_4682..4684">xx</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4672..4676"><span>True</span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_4717..4719">x'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset|const"><span class="const"><span>dsset</span></span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4199..4201"><span>xs</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4218..4219"><span>0</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4495..4496"><span>x</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT_def|fact"><span>touchedSuperT_def</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_def|fact"><span>touchedSuper_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>xi</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsnth|const"><span class="const"><span>dsnth</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4682..4684"><span>xx</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dtheN|fact"><span>dtheN</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_4906..4908">ii</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>xi'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsnth|const"><span class="const"><span>dsnth</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="skolem"><span>i'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4717..4719"><span>x'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dtheN|fact"><span>dtheN</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_5029..5032">ii'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>i'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>y'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>x'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4522..4523"><span>y</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4264..4265"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4906..4908"><span>ii</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5029..5032"><span>ii'</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4717..4719"><span>x'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_5238..5243">False</span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5249..5251">xx</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5238..5243"><span>False</span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_5270..5272">ii</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="ILC.html#ILC.iVar|const"><span class="const"><span>iVar</span></span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5331..5334">xs1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.super|const"><span class="const"><span>super</span></span></a><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset|const"><span class="const"><span>dsset</span></span></a><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5249..5251"><span>xx</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT_def|fact"><span>touchedSuperT_def</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_def|fact"><span>touchedSuper_def</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4522..4523"><span>y</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>   
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5456..5458">x'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset|const"><span class="const"><span>dsset</span></span></a><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4218..4219"><span>0</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4495..4496"><span>x</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5331..5334"><span>xs1</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT_def|fact"><span>touchedSuperT_def</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_def|fact"><span>touchedSuper_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset|const"><span class="const"><span>dsset</span></span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5331..5334"><span>xs1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.IntI|fact"><span>IntI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_disj|fact"><span>super_disj</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4199..4201"><span>xs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_5654..5657">ii'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="ILC.html#ILC.iVar|const"><span class="const"><span>iVar</span></span></a><span> </span><span class="skolem"><span>x'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5706..5708">y'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="skolem"><span>x'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_iVar|fact"><span>touchedSuper_iVar</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5456..5458"><span>x'</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5331..5334"><span>xs1</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5331..5334"><span>xs1</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_4522..4523"><span>y</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5270..5272"><span>ii</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5654..5657"><span>ii'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5706..5708"><span>y'</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5456..5458"><span>x'</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5877..5882">lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.FFVars_touchedSuperT_imkSubst_UN|fact"><span class="entity_def" id="Iso_LC_ILC.FFVars_touchedSuperT_imkSubst_UN|thm"><span>FFVars_touchedSuperT_imkSubst_UN</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.super|const"><span class="const"><span>super</span></span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="free"><span>e2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="free"><span>e2'</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>e2</span></span><span> </span><span class="bound"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="bound"><span>e2</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span class="const"><span>sset</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="bound"><span>e2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="bound"><span>e2'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
       </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="free"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="bound"><span>x'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.standard|method"><span class="operator"><span>standard</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.FFVars_touchedSuperT_imkSubst_UN_incl|fact"><span>FFVars_touchedSuperT_imkSubst_UN_incl</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5877..5882"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.FFVars_touchedSuperT_imkSubst_UN_incl|fact"><span>FFVars_touchedSuperT_imkSubst_UN_incl</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_5877..5882"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>  


</span><span class="comment1"><span>(* Lemma 18 from Mazza: *)</span></span><span>
</span><span class="comment1"><span>(* Here rule induction for good is needed. There is no way to do induction on "uniform" 
directly (and a genralization for reneqv is not clear); 
also structural induction on t would not work, as the proof would fail 
in the lambda case because we would not know xs is a supervariable 
(and we would not be able to recover it).

So "good" acts like a bit of an "interpolant" (a sweet spot) between "uniform" 
(which does not have induction) and "reneqv" (which being binary it is too heavy). 

And we actually need *fresh induction* for good (so an application of our 
rule induction meta-theory), because in the lambda-case we must avoid xs and the free vars of the 
ts's. 
*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr&apos;_itvsubst_good_uniformS|fact"><span class="entity_def" id="Iso_LC_ILC.tr&apos;_itvsubst_good_uniformS|thm"><span>tr'_itvsubst_good_uniformS</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7121..7124">txs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.super|const"><span class="const"><span>super</span></span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS|const"><span class="const"><span>uniformS</span></span></a><span> </span><span class="free"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7155..7156">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform|const"><span class="const"><span>uniform</span></span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.itvsubst|const"><span class="const"><span>itvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
       </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Supervariables.html#Supervariables.subOf|const"><span class="const"><span>subOf</span></span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>:=</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7290..7291">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_good.html#ILC_good.good|const"><span class="const"><span>good</span></span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7155..7156"><span>t</span></a><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.uniform_good|fact"><span>uniform_good</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7362..7364">t2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span class="const"><span>sset</span></span></a><span> </span><span class="free"><span>ts</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7419..7420">g</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>e2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span class="const"><span>sset</span></span></a><span> </span><span class="free"><span>ts</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.good|const"><span class="const"><span>good</span></span></a><span> </span><span class="bound"><span>e2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>e2</span></span><span> </span><span class="bound"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="bound"><span>e2</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>e2'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span class="const"><span>sset</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="bound"><span>e2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT|const"><span class="const"><span>touchedSuperT</span></span></a><span> </span><span class="bound"><span>e2'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7121..7124"><span>txs</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.uniformS_good|fact"><span>uniformS_good</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper|const"><span class="const"><span>touchedSuper</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span class="const"><span>sset</span></span></a><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper|const"><span class="const"><span>touchedSuper</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="skolem"><span>t2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7362..7364"><span>t2</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7419..7420"><span>g</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT_def|fact"><span>touchedSuperT_def</span></a><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_UN|fact"><span>touchedSuper_UN</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_iff|fact"><span>UN_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_iff|fact"><span>UN_iff</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_Union|fact"><span>touchedSuper_Union</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_7803..7804">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper|const"><span class="const"><span>touchedSuper</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset|const"><span class="const"><span>dsset</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.sset|const"><span class="const"><span>sset</span></span></a><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
    </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper|const"><span class="const"><span>touchedSuper</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset|const"><span class="const"><span>dsset</span></span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper|const"><span class="const"><span>touchedSuper</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.FFVars|const"><span class="const"><span>ILC.FFVars</span></span></a><span> </span><span class="skolem"><span>t2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_Un|fact"><span>touchedSuper_Un</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  
  </span><span class="comment1"><span>(* NB: while good t is needed for induction, 
    the "uniformS t assumption cannot be replaced by the following: 
     "(∀e2∈sset ts. good e2) ∧ (∀e2 e2'. {e2, e2'} ⊆ sset ts ⟶ touchedSuperT e2 = touchedSuperT e2')" 
      because this would fail to prove the Var case (where, as Mazza also notes, the lemma reneqv_tr' is essential). 
  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7290..7291"><span>t</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7121..7124"><span>txs</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span> </span><span class="quoted"><span class="free"><span>ts</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.strong_induct_good&apos;|fact"><span>strong_induct_good'</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>bsmall</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BSmall.html#BSmall.bsmall_def|fact"><span>bsmall_def</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7803..7804"><span>0</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7419..7420"><span>g</span></a><span> </span><a class="entity_ref" href="BSmall.html#BSmall.bsmall_def|fact"><span>bsmall_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_Un|fact"><span>finite_Un</span></a><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.good_finite_touchedSuperT|fact"><span>good_finite_touchedSuperT</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.super_bsmall|fact"><span>super_bsmall</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7362..7364"><span>t2</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuperT_def|fact"><span>touchedSuperT_def</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7121..7124"><span>txs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>iVar</span><span> </span><span class="skolem"><span>ys</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_bot_class.bot.extremum|fact"><span>bot.extremum</span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.imkSubst_def|fact"><span>imkSubst_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_subset|fact"><span>insert_subset</span></a><span> 
       </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqvS_def|fact"><span>reneqvS_def</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.reneqv_tr&apos;|fact"><span>reneqv_tr'</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.shd_sset|fact"><span>shd_sset</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup.idem|fact"><span>sup.idem</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_subOf_theN_eq|fact"><span>super_subOf_theN_eq</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def3|fact"><span>uniformS_def3</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dtheN|fact"><span>dtheN</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.imkSubst_idle|fact"><span>imkSubst_idle</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.theSN&apos;|fact"><span>theSN'</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.theSN_ex|fact"><span>theSN_ex</span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iVar|fact"><span>tr'_iVar</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>iLam</span><span> </span><span class="skolem"><span>e</span></span><span> </span><span class="skolem"><span>xsa</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iLam|fact"><span>tr'_iLam</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iterm.subst|fact"><span>iterm.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_touchedSuper_IImsupp_imkSubst&apos;&apos;|fact"><span>uniformS_touchedSuper_IImsupp_imkSubst''</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> e </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.shd|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.shd|const"><span class="const"><span>shd</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>ts</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.shd_sset|fact"><span>shd_sset</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_touchedSuper_dsset|fact"><span>super_touchedSuper_dsset</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.term.subst|fact"><span>term.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC.html#LC.IImsupp_Var&apos;|fact"><span>IImsupp_Var'</span></a><span class="main"><span>)</span></span><span> 
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.FFVars_tr&apos;|fact"><span>FFVars_tr'</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI1|fact"><span>Int_Un_emptyI1</span></a><span> 
           </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI2|fact"><span>Int_Un_emptyI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_absorb|fact"><span>Int_absorb</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff|fact"><span>disjoint_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_not_insert|fact"><span>empty_not_insert</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.shd_sset|fact"><span>shd_sset</span></a><span> 
           </span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf_subOf|fact"><span>superOf_subOf</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_touchedSuper_dsset|fact"><span>super_touchedSuper_dsset</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.touchedSuper_emp|fact"><span>touchedSuper_emp</span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.uniformS_good|fact"><span>uniformS_good</span></a><span class="main"><span>)</span></span><span>      
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iLam|fact"><span>tr'_iLam</span></a><span class="main"><span>)</span></span><span> 
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7419..7420"><span>g</span></a><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.good_imkSubst|fact"><span>good_imkSubst</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>iApp</span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="skolem"><span>es2</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp|fact"><span>tr'_iApp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iterm.subst|fact"><span>iterm.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp|fact"><span>tr'_iApp</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7419..7420"><span>g</span></a><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.good_imkSubst|fact"><span>good_imkSubst</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_7419..7420"><span>g</span></a><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.good_imkSubst|fact"><span>good_imkSubst</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.touchedSuperT_itvsubst|fact"><span>touchedSuperT_itvsubst</span></a><span> </span><span class="main"><span>)</span></span><span> 
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.uniformS_good|fact"><span>uniformS_good</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> e2 e2'  
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.FFVars_touchedSuperT_imkSubst_UN|fact"><span>FFVars_touchedSuperT_imkSubst_UN</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.shd_sset|fact"><span>shd_sset</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="comment1"><span>(* Theorem 19 from Mazza (his main theorem): *)</span></span><span>
</span><span class="comment1"><span>(* Theorem 19(1): *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr&apos;_tr|fact"><span class="entity_def" id="Iso_LC_ILC.tr&apos;_tr|thm"><span>tr'_tr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>e</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>e</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x p </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iVar|fact"><span>tr'_iVar</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset_range|fact"><span>dsset_range</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_eqD|fact"><span>fst_eqD</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.subOf_superOf|fact"><span>subOf_superOf</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_superOf|fact"><span>super_superOf</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.theSN|fact"><span>theSN</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.theSN_ex|fact"><span>theSN_ex</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(* Theorem 19(2): *)</span></span><span>
</span><span class="comment1"><span>(* We again need "good" induction for the same reason: because 
structural induction does not take 
care of the supervariable assumptiin in the lambda-case. But this 
time regular induction works, no need fresh induction like before. 
Note also that "uniform t" is also needed in the induction, otherwise 
the iApp case does not go through. 
*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr_tr&apos;|fact"><span class="entity_def" id="Iso_LC_ILC.tr_tr&apos;|thm"><span>tr_tr'</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11108..11109">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform|const"><span class="const"><span>uniform</span></span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
</span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11168..11170">tt</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_good.html#ILC_good.good|const"><span class="const"><span>good</span></span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.uniform_good|fact"><span>uniform_good</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_11108..11109"><span>t</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_11168..11170"><span>tt</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_11108..11109"><span>t</span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_good.html#ILC_good.good.induct|fact"><span>good.induct</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> xs x p </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iVar|fact"><span>reneqv.iVar</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>xs</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.dsset_range|fact"><span>dsset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.rangeI|fact"><span>rangeI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetD|fact"><span>subsetD</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf_subOf|fact"><span>superOf_subOf</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_dsset_RSuper|fact"><span>super_dsset_RSuper</span></a><span> 
       </span><a class="entity_ref" href="Supervariables.html#Supervariables.super_subOf_theN_eq|fact"><span>super_subOf_theN_eq</span></a><span> </span><a class="entity_ref" href="Supervariables.html#Supervariables.theSN&apos;|fact"><span>theSN'</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> xs t p </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iLam|fact"><span>tr'_iLam</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iLam|fact"><span>reneqv.iLam</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> t1 ts p </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp|fact"><span>tr'_iApp</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iApp|fact"><span>reneqv.iApp</span></a><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_iApp_iff|fact"><span>uniform_iApp_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span>  
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_bot_class.bot.extremum|fact"><span>bot.extremum</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_subset|fact"><span>insert_subset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_trans|fact"><span>reneqv_trans</span></a><span> 
         </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_sym|fact"><span>reneqv_sym</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth.simps|fact"><span>snth.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_iApp_case|fact"><span>uniform_iApp_case</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_iApp_iff|fact"><span>uniform_iApp_iff</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="comment1"><span>(* *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr&apos;_hred_red|fact"><span class="entity_def" id="Iso_LC_ILC.tr&apos;_hred_red|thm"><span>tr'_hred_red</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12070..12073">ttt</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_Head_Reduction.html#ILC_Head_Reduction.hred|const"><span class="const"><span>hred</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>tt</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12091..12092">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform|const"><span class="const"><span>uniform</span></span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Head_Reduction.html#LC_Head_Reduction.red|const"><span class="const"><span>red</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>tt</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_12070..12073"><span>ttt</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_12091..12092"><span>t</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Head_Reduction.html#LC_Head_Reduction.red_def|fact"><span>red_def</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.hred_def2|fact"><span>hred_def2</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_12091..12092"><span>t</span></a><span class="main"><span>]</span></span><span> 
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_iApp_iff|fact"><span>reneqv_iApp_iff</span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iLam_uniform|fact"><span>tr'_iLam_uniform</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr&apos;_itvsubst_good_uniformS|fact"><span>tr'_itvsubst_good_uniformS</span></a><span> 
   </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def3|fact"><span>uniform_def3</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_iLam_iff|fact"><span>uniform_iLam_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12319..12324">lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.tr&apos;_hred_red2|fact"><span class="entity_def" id="Iso_LC_ILC.tr&apos;_hred_red2|thm"><span>tr'_hred_red2</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS|const"><span class="const"><span>uniformS</span></span></a><span> </span><span class="free"><span>ts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><a class="entity_ref" href="ILC_Head_Reduction.html#ILC_Head_Reduction.hred|const"><span class="const"><span>hred</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="free"><span>ts'</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Head_Reduction.html#LC_Head_Reduction.red|const"><span class="const"><span>red</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>ts'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_12319..12324"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> 
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr&apos;_hred_red|fact"><span>tr'_hred_red</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_sset_uniform|fact"><span>uniformS_sset_uniform</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* *)</span></span><span>
</span><span class="comment1"><span>(* Theorem 19(3): *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.stepD_ustepD|fact"><span class="entity_def" id="Iso_LC_ILC.stepD_ustepD|thm"><span>stepD_ustepD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD|const"><span class="const"><span>stepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>ee</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>ts</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> 
       </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>ee</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD.induct|fact"><span>stepD.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Beta</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>qs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>qs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>qs</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.itvsubst|const"><span class="const"><span>itvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr_tvsubst_Var_reneqv&apos;|fact"><span>tr_tvsubst_Var_reneqv'</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> 
   </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>p</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.itvsubst|const"><span class="const"><a class="entity_ref" href="ILC.html#ILC.itvsubst|const"><span class="const"><span>itvsubst</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><a class="entity_ref" href="ILC.html#ILC.imkSubst|const"><span class="const"><span>imkSubst</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>n</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>e2</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="bound"><span class="bound"><span>p</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a></span></a><span> </span><span class="bound"><span class="bound"><span>n</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span></a></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a></span></a><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>e1</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="bound"><span class="bound"><span>p</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span></a></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.Beta|fact"><span>ustepD.Beta</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iApp|fact"><span>reneqv.iApp</span></a><span class="main"><span>)</span></span><span> 
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iLam|fact"><span>reneqv.iLam</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.reneqv_tr|fact"><span>reneqv_tr</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><a class="entity_ref" href="ILC_Head_Reduction.html#ILC_Head_Reduction.hred_def|fact"><span>hred_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i 
    </span><span class="comment1"><span>(* Below I put undefined because the choice of the position stream does not matter *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_trans|fact"><span>reneqv_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr_tvsubst_Var_reneqv&apos;|fact"><span>tr_tvsubst_Var_reneqv'</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>x</span></span></span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>e2</span></span></span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>e1</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> 
        </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_sym|fact"><span>reneqv_sym</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_imkSubst|fact"><span>reneqv_imkSubst</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqvS_def|fact"><span>reneqvS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>    
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_13749..13753">AppL</span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="skolem"><span>e1'</span></span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13778..13779">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>qs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_14018..14020">qs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>qs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_14070..14073">tts</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>qs</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>tts</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span> </span><span class="skolem"><span>tts</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1'</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>qs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_13749..13753"><span>AppL</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>qs</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_14186..14192">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tts'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>tts'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="skolem"><span>tts</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>tts'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_14186..14192"><span>tts'_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_13778..13779"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.iAppL|fact"><span>ustepD.iAppL</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_14070..14073"><span>tts</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_14018..14020"><span>qs</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.Stream.stream.map_comp|fact"><span>stream.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iApp|fact"><span>reneqv.iApp</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_14070..14073"><span>tts</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_14018..14020"><span>qs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>   
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_14730..14734">AppR</span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="skolem"><span>e2'</span></span><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>   
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14761..14762">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span> 
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword3"><span class="command"><span>define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>qss</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_15003..15006">qss</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>qss</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15066..15069">333</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>qss</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15003..15006"><span>qss</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>qs</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span class="tconst"><span>nat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span class="tconst"><span>list</span></span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream|type"><span class="tconst"><span>stream</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_15226..15228">qs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>qs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="skolem"><span>qss</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15255..15257">33</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>qs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15226..15228"><span>qs</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.smap_sflat|fact"><span>smap_sflat</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15066..15069"><span>333</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_14730..14734"><span>AppR</span></a><span>  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="entity_def" id="offset_15404..15407">tts</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>qs</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>tts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span> </span><span class="skolem"><span>tts</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e2'</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>qs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ttss</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_15517..15519">22</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>tts</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="skolem"><span>ttss</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.ex_sflat|fact"><span>ex_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15571..15574">222</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>ttss</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>tts</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat1|const"><span class="const"><span>nat1</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15517..15519"><span>22</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_15666..15672">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tts'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>tts'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e1</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>[</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>]</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ttss</span></span><span>"</span></span></span><span>  
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>tts'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15666..15672"><span>tts'_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_14761..14762"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.iAppR|fact"><span>ustepD.iAppR</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15404..15407"><span>tts</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15517..15519"><span>22</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15255..15257"><span>33</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iApp|fact"><span>reneqv.iApp</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span>  
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15571..15574"><span>222</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_15404..15407"><span>tts</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span>    
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_sym|fact"><span>reneqv_sym</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.reneqv_trans|fact"><span>reneqv_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Xi</span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>e</span></span><span> </span><span class="skolem"><span>e'</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_16325..16328">tts</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>tts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span> </span><span class="skolem"><span>tts</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e'</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_16422..16423">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
           </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="skolem"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><a class="entity_ref" href="Supervariables.html#Supervariables.superOf|const"><span class="const"><span>superOf</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tts</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_16422..16423"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.Xi|fact"><span>ustepD.Xi</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_16325..16328"><span>tts</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_16325..16328"><span>tts</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv.iLam|fact"><span>reneqv.iLam</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="comment1"><span>(* Theorem 19(4) (generalized for our (necessarily stream-based) version of 
uniform step (see previous discussion, when introducing ustepD, for why) *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD_stepD|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD_stepD|thm"><span>ustepD_stepD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD|const"><span class="const"><span>stepD</span></span></a><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>ss</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.induct|fact"><span>ustepD.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Beta</span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>es'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.red_stepD2|fact"><span>red_stepD2</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.tr&apos;_hred_red2|fact"><span>tr'_hred_red2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>iAppL</span><span> </span><span class="skolem"><span>ess</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>es'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_sset_uniform|fact"><span>uniformS_sset_uniform</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_sset_uniform|fact"><span>uniformS_sset_uniform</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD.AppL|fact"><span>stepD.AppL</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>iAppR</span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>ess</span></span><span> </span><span class="skolem"><span>ess'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_sset_uniform|fact"><span>uniformS_sset_uniform</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth2.simps|fact"><span>snth2.simps</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iApp_uniform|fact"><span>tr'_iApp_uniform</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_sset_uniform|fact"><span>uniformS_sset_uniform</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth2.simps|fact"><span>snth2.simps</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD.AppR|fact"><span>stepD.AppR</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span>  
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2_nat1|fact"><span>nat2_nat1</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth.simps|fact"><span>snth.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth2.simps|fact"><span>snth2.simps</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Xi</span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>es'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iLam_uniform|fact"><span>tr'_iLam_uniform</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_sset_uniform|fact"><span>uniformS_sset_uniform</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;_iLam_uniform|fact"><span>tr'_iLam_uniform</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_sset|fact"><span>snth_sset</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_sset_uniform|fact"><span>uniformS_sset_uniform</span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD_uniformS|fact"><span>ustepD_uniformS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD.Xi|fact"><span>stepD.Xi</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="comment1"><span>(* *)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.usetpD_snth_eq|fact"><span class="entity_def" id="Iso_LC_ILC.usetpD_snth_eq|thm"><span>usetpD_snth_eq</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ts</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ss</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ss</span></span><span> </span><span class="free"><span>j</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>i</span></span></span><span> </span><span class="quoted"><span class="free"><span>j</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.induct|fact"><span>ustepD.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="ILC_Head_Reduction.html#ILC_Head_Reduction.hred_determ|fact"><span>hred_determ</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iterm.inject|fact"><span>iterm.inject</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_smap2|fact"><span>snth_smap2</span></a><span class="main"><span>)</span></span><span>  
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2_nat1|fact"><span>nat2_nat1</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth2.simps|fact"><span>snth2.simps</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iLam_same_inject|fact"><span>iLam_same_inject</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_smap|fact"><span>snth_smap</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(* Closer to how Mazza defines things informally, namely
he only "paralelizes" the definition in the iAppR case 
(without acknowledging though that parallelization should happen hereditarily): 
 *)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.inducts|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.simps|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.induct|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.cases|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.intros|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.mono|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;_def|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.inducts|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.simps|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.induct|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.cases|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.intros(4)|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.intros(3)|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.intros(2)|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.intros(1)|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.mono|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;_def|thm"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;|const"><span>ustepD'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span class="tconst"><span>nat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.itrm|type"><span class="tconst"><span>itrm</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="ILC.html#ILC.itrm|type"><span class="tconst"><span>itrm</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.Beta|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.Beta|thm"><span>Beta</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform|const"><span class="const"><span>uniform</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="ILC_Head_Reduction.html#ILC_Head_Reduction.hred|const"><span class="const"><span>hred</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ustepD'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e'</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.iAppL|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.iAppL|thm"><span>iAppL</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS|const"><span class="const"><span>uniformS</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>es</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ustepD'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>d</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ustepD'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>d</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>es</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>e'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>es</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.iAppR|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.iAppR|thm"><span>iAppR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform|const"><span class="const"><span>uniform</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>d</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>es</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>es'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ustepD'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span class="const"><span>Suc</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>d</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>es</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>es'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.Xi|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;.Xi|thm"><span>Xi</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Supervariables.html#Supervariables.super|const"><span class="const"><span>super</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ustepD'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>d</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ustepD'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>d</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>e'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.uniformS_sconst|fact"><span class="entity_def" id="Iso_LC_ILC.uniformS_sconst|thm"><span>uniformS_sconst</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS|const"><span class="const"><span>uniformS</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform|const"><span class="const"><span>uniform</span></span></a><span> </span><span class="free"><span>e</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def3|fact"><span>uniform_def3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.stream_all2_sconst|fact"><span class="entity_def" id="Iso_LC_ILC.stream_all2_sconst|thm"><span>stream_all2_sconst</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.stream_all2|const"><span class="const"><span>stream_all2</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.sconst_iApp|fact"><span class="entity_def" id="Iso_LC_ILC.sconst_iApp|thm"><span>sconst_iApp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>es</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>es</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.sconst_iLam|fact"><span class="entity_def" id="Iso_LC_ILC.sconst_iLam|thm"><span>sconst_iLam</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.snth_sflat_scons|fact"><span class="entity_def" id="Iso_LC_ILC.snth_sflat_scons|thm"><span>snth_sflat_scons</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>es</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>es</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2|const"><span class="const"><span>nat2</span></span></a><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2|const"><span class="const"><span>nat2</span></span></a><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* This brings home the intuition that uniform reduction takes place synchronously 
on all the elements of the stream; namely, no matter how these are shuffled, 
the reduction predicate holds. 
*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.usetpD_snth_shuffle|fact"><span class="entity_def" id="Iso_LC_ILC.usetpD_snth_shuffle|thm"><span>usetpD_snth_shuffle</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_20644..20645">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>es</span></span><span> </span><span class="free"><span>es'</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>es</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>es'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_20644..20645"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.induct|fact"><span>ustepD.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Beta</span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>es'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.Beta|fact"><span>ustepD.Beta</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_20957..20962">iAppL</span><span> </span><span class="skolem"><span>ess</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>es'</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20986..20987">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>es</span></span><span> </span><span class="bound"><span>ess</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="bound"><span>es</span></span><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
                      </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>es</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_20986..20987"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.iAppL|fact"><span>ustepD.iAppL</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_20957..20962"><span>iAppL</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_20957..20962"><span>iAppL</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_21323..21328">iAppR</span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>ess</span></span><span> </span><span class="skolem"><span>ess'</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_21353..21354">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>es</span></span><span> </span><span class="bound"><span>ess</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="bound"><span>es</span></span><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
                      </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap2|const"><span class="const"><span>smap2</span></span></a><span> </span><a class="entity_ref" href="ILC.html#ILC.iApp|const"><span class="const"><span>iApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>es</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>g</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_21553..21554">g</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat1|const"><span class="const"><span>nat1</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2|const"><span class="const"><span>nat2</span></span></a><span> </span><span class="bound"><span>k</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="bound"><span>j</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_21553..21554"><span>g</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ees k </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2|const"><span class="const"><span>nat2</span></span></a><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_21793..21794">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>ess</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="bound"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_21353..21354"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.iAppR|fact"><span>ustepD.iAppR</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_21323..21328"><span>iAppR</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_21323..21328"><span>iAppR</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_21793..21794"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_22075..22077">Xi</span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="skolem"><span>es</span></span><span> </span><span class="skolem"><span>es'</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22100..22101">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="bound"><span>es</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>es</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
                     </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ILC.html#ILC.iLam|const"><span class="const"><span>iLam</span></span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream.smap|const"><span class="const"><span>smap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>es</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.nats|const"><span class="const"><span>nats</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_eq_nth|fact"><span>stream_eq_nth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_22100..22101"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.Xi|fact"><span>ustepD.Xi</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_22075..22077"><span>Xi</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#offset_22075..22077"><span>Xi</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD_sflat_sconst|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD_sflat_sconst|thm"><span>ustepD_sflat_sconst</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>es</span></span><span> </span><span class="free"><span>es'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>es</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>es'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.usetpD_snth_shuffle|fact"><span>usetpD_snth_shuffle</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>k</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2|const"><span class="const"><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2|const"><span class="const"><span>nat2</span></span></a></span></a><span> </span><span class="bound"><span class="bound"><span>k</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.snth_sflat_scons|fact"><span>snth_sflat_scons</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream_smap_nats|fact"><span>stream_smap_nats</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;_ustepD_sconst|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;_ustepD_sconst|thm"><span>ustepD'_ustepD_sconst</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;|const"><span class="const"><span>ustepD'</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>e'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a><span> </span><span class="free"><span>e'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;.induct|fact"><span>ustepD'.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.Beta|fact"><span>ustepD.Beta</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.uniformS_sconst|fact"><span>uniformS_sconst</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.stream_all2_sconst|fact"><span>stream_all2_sconst</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.sconst_iApp|fact"><span>sconst_iApp</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.iAppL|fact"><span>ustepD.iAppL</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.uniformS_sflat|fact"><span>uniformS_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> e d es es' </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.sconst_iApp|fact"><span>sconst_iApp</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.iAppR|fact"><span>ustepD.iAppR</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def3|fact"><span>uniform_def3</span></a><span>  
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="comment1"><span>(* this requires ustepD_sflat_sconst , which would not easily go by induction, 
     so I was led to the shuffling generalization usetpD_snth_shuffle *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD_sflat_sconst|fact"><span>ustepD_sflat_sconst</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.sconst_iLam|fact"><span>sconst_iLam</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.Xi|fact"><span>ustepD.Xi</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def3|fact"><span>uniform_def3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(* For the converse direction (from ustepD t ustepD') we need another consequence of 
our shuffling generalization: *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.snth_snth_sflat|fact"><span class="entity_def" id="Iso_LC_ILC.snth_snth_sflat|thm"><span>snth_snth_sflat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>ess</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="free"><span>ess</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat1|const"><span class="const"><span>nat1</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD_sflat_snth|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD_sflat_snth|thm"><span>ustepD_sflat_snth</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="free"><span>ess</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.sflat|const"><span class="const"><span>sflat</span></span></a><span> </span><span class="free"><span>ess'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ess</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ess'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span>!!</span></a></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.usetpD_snth_shuffle|fact"><span>usetpD_snth_shuffle</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>j</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat1|const"><span class="const"><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat1|const"><span class="const"><span>nat1</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="free"><span class="free"><span>i</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span class="bound"><span class="bound"><span>j</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.stream_smap_nats|fact"><span>stream_smap_nats</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD_ustepD&apos;_snth|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD_ustepD&apos;_snth|thm"><span>ustepD_ustepD'_snth</span></span></span><span class="main"><span>:</span></span><span> 
</span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD|const"><span class="const"><span>ustepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>es</span></span><span> </span><span class="free"><span>es'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;|const"><span class="const"><span>ustepD'</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>es</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a><span> </span><span class="free"><span>es'</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>i</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="ILC_UBeta_depth.html#ILC_UBeta_depth.ustepD.induct|fact"><span>ustepD.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;.Beta|fact"><span>ustepD'.Beta</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def3|fact"><span>uniform_def3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ess d es es' i </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_smap2|fact"><span>snth_smap2</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;.iAppL|fact"><span>ustepD'.iAppL</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def3|fact"><span>uniform_def3</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.nat2_nat1|fact"><span>nat2_nat1</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth2.simps|fact"><span>snth2.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> es d ess ess' i </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_smap2|fact"><span>snth_smap2</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;.iAppR|fact"><span>ustepD'.iAppR</span></a><span class="main"><span>)</span></span><span>   
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniformS_def4|fact"><span>uniformS_def4</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span> </span><a class="entity_ref" href="ILC_uniform.html#ILC_uniform.uniform_def3|fact"><span>uniform_def3</span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sset_range|fact"><span>sset_range</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.snth_sflat|fact"><span>snth_sflat</span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="comment1"><span>(* here we need the shuffling lemma's "other" consequence, ustepD_sflat_snth: *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD_sflat_snth|fact"><span>ustepD_sflat_snth</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth_smap|fact"><span>snth_smap</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;.Xi|fact"><span>ustepD'.Xi</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="comment1"><span>(* Now Theorem 19(3,4) exactly in Mazza's formulations: *)</span></span><span>

</span><span class="comment1"><span>(* Theorem 19(4)*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;_stepD|fact"><span class="entity_def" id="Iso_LC_ILC.ustepD&apos;_stepD|thm"><span>ustepD'_stepD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;|const"><span class="const"><span>ustepD'</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD|const"><span class="const"><span>stepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_ILC_to_LC.html#Translation_ILC_to_LC.tr&apos;|const"><span class="const"><span>tr'</span></span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;_ustepD_sconst|fact"><span>ustepD'_ustepD_sconst</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD_stepD|fact"><span>ustepD_stepD</span></a><span class="main"><span>)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.smap_sconst|fact"><span>smap_sconst</span></a><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.stream_all2_sconst|fact"><span>stream_all2_sconst</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* Theorem 19(3): *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Iso_LC_ILC.stepD_ustepD&apos;|fact"><span class="entity_def" id="Iso_LC_ILC.stepD_ustepD&apos;|thm"><span>stepD_ustepD'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Untyped_Lambda_Calculus/LC_Beta_depth.html#LC_Beta_depth.stepD|const"><span class="const"><span>stepD</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>ee</span></span><span> </span><span class="main"><span>⟹</span></span><span> 
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD&apos;|const"><span class="const"><span>ustepD'</span></span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>e</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="ILC_Renaming_Equivalence.html#ILC_Renaming_Equivalence.reneqv|const"><span class="const"><span>reneqv</span></span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Translation_LC_to_ILC.html#Translation_LC_to_ILC.tr|const"><span class="const"><span>tr</span></span></a><span> </span><span class="free"><span>ee</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.stepD_ustepD|fact"><span>stepD_ustepD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.sconst|const"><span class="const"><span>sconst</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ts </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth|const"><span class="const"><span>snth</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Iso_LC_ILC.html#Iso_LC_ILC.ustepD_ustepD&apos;_snth|fact"><span>ustepD_ustepD'_snth</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span></a></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Prelim/More_Stream.html#More_Stream.stream_all2_iff_snth|fact"><span>stream_all2_iff_snth</span></a><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.Stream.html#Stream.snth.simps|fact"><span>snth.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>