<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory POPLmark_2B</title>
</head>


<body>
<div class="head">
<h1>Theory POPLmark_2B</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="POPLmark_2B.html"><span>POPLmark_2B</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Pattern.html"><span>Pattern</span></a><span> </span><span class="quoted"><span>"</span><a href="HOL-Library.List_Lexorder.html"><span>HOL-Library.List_Lexorder</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="HOL-Library.Char_ord.html"><span>HOL-Library.Char_ord</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.term.subst|fact"><span class="entity_def" id="POPLmark_2B.term.inject|fact"><span class="entity_def" id="POPLmark_2B.term.distinct|fact"><span class="entity_def" id="POPLmark_2B.term.permute|fact"><span class="entity_def" id="POPLmark_2B.term.map|fact"><span class="entity_def" id="POPLmark_2B.term.set|fact"><span class="entity_def" id="POPLmark_2B.term.induct|fact"><span class="entity_def" id="POPLmark_2B.term.fresh_induct|fact"><span class="entity_def" id="POPLmark_2B.term.strong_induct|fact"><span class="entity_def" id="POPLmark_2B.term.IImsupp_natural|fact"><span class="entity_def" id="POPLmark_2B.term.IImsupp_Diff|fact"><span class="entity_def" id="POPLmark_2B.term.not_isVVr_free|fact"><span class="entity_def" id="POPLmark_2B.term.tvsubst_permutes|fact"><span class="entity_def" id="POPLmark_2B.term.tvsubst_cctor_not_isVVr|fact"><span class="entity_def" id="POPLmark_2B.term.tvsubst_VVr|fact"><span class="entity_def" id="POPLmark_2B.term.FVars_VVr|fact"><span class="entity_def" id="POPLmark_2B.term.eta_set_empties|fact"><span class="entity_def" id="POPLmark_2B.term.SSupp_comp_bound|fact"><span class="entity_def" id="POPLmark_2B.term.SSupp_comp_rename_bound|fact"><span class="entity_def" id="POPLmark_2B.term.SSupp_natural|fact"><span class="entity_def" id="POPLmark_2B.term.rrename_VVr|fact"><span class="entity_def" id="POPLmark_2B.term.is_VVr_rrename|fact"><span class="entity_def" id="POPLmark_2B.term.in_IImsupp|fact"><span class="entity_def" id="POPLmark_2B.term.compSS_cong_id|fact"><span class="entity_def" id="POPLmark_2B.term.compSS_comp0|fact"><span class="entity_def" id="POPLmark_2B.term.SSupp_VVr_bound|fact"><span class="entity_def" id="POPLmark_2B.term.SSupp_VVr_empty|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvXXr_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvXXl_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvff0_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvf0_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvpick02_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvpick01_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.elims|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.pelims|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.termination|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.pinduct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.psimps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.intros|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.mono|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel_def|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.intros|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.mono|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph_def|fact"><span class="entity_def" id="POPLmark_2B.tvPUmap&apos;_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUctor&apos;_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvPUmap_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;2_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;1_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUmap&apos;_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvsuitable2_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvsuitable1_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_term_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUmap_tvsubst_term_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_term2_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_term1_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvvalidP_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvavoiding_set2_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvavoiding_set1_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvPmap_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars2_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars1_rec_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars2_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars1_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvvalid_P_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvPmap_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvcompSS_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvasVVr_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvisVVr_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_def|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_1_term_def|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_def|fact"><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.Let_def|fact"><span class="entity_def" id="POPLmark_2B.Proj_def|fact"><span class="entity_def" id="POPLmark_2B.Rec_def|fact"><span class="entity_def" id="POPLmark_2B.ApT_def|fact"><span class="entity_def" id="POPLmark_2B.LmT_def|fact"><span class="entity_def" id="POPLmark_2B.Ap_def|fact"><span class="entity_def" id="POPLmark_2B.Lm_def|fact"><span class="entity_def" id="POPLmark_2B.Vr_def|fact"><span class="entity_def" id="POPLmark_2B.term.set_ctor_simps|fact"><span class="entity_def" id="POPLmark_2B.term.vvsubst_permute|fact"><span class="entity_def" id="POPLmark_2B.term.vvsubst_cctor|fact"><span class="entity_def" id="POPLmark_2B.term.mr_set_transfer|fact"><span class="entity_def" id="POPLmark_2B.term.mr_map_transfer|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_id|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_mono|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_map|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_flip|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_cong|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.term.mr_le_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.term.UN_bound|fact"><span class="entity_def" id="POPLmark_2B.term.Un_bound|fact"><span class="entity_def" id="POPLmark_2B.term.supp_comp_bound|fact"><span class="entity_def" id="POPLmark_2B.term.UNIV_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.term.natLeq_bound|fact"><span class="entity_def" id="POPLmark_2B.term.set_bd|fact"><span class="entity_def" id="POPLmark_2B.term.set_map|fact"><span class="entity_def" id="POPLmark_2B.term.rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.term.rel_transp|fact"><span class="entity_def" id="POPLmark_2B.term.rel_symp|fact"><span class="entity_def" id="POPLmark_2B.term.rel_reflp|fact"><span class="entity_def" id="POPLmark_2B.term.rel_refl_strong|fact"><span class="entity_def" id="POPLmark_2B.term.rel_refl|fact"><span class="entity_def" id="POPLmark_2B.term.rel_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.term.rel_cong|fact"><span class="entity_def" id="POPLmark_2B.term.rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.term.rel_mono|fact"><span class="entity_def" id="POPLmark_2B.term.rel_map|fact"><span class="entity_def" id="POPLmark_2B.term.rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.term.rel_flip|fact"><span class="entity_def" id="POPLmark_2B.term.rel_eq_onp|fact"><span class="entity_def" id="POPLmark_2B.term.rel_eq|fact"><span class="entity_def" id="POPLmark_2B.term.rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.term.rel_compp_Grp|fact"><span class="entity_def" id="POPLmark_2B.term.rel_compp|fact"><span class="entity_def" id="POPLmark_2B.term.pred_set|fact"><span class="entity_def" id="POPLmark_2B.term.pred_True|fact"><span class="entity_def" id="POPLmark_2B.term.pred_transfer|fact"><span class="entity_def" id="POPLmark_2B.term.pred_rel|fact"><span class="entity_def" id="POPLmark_2B.term.pred_map|fact"><span class="entity_def" id="POPLmark_2B.term.pred_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.term.pred_cong|fact"><span class="entity_def" id="POPLmark_2B.term.pred_mono|fact"><span class="entity_def" id="POPLmark_2B.term.pred_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.term.map_ident|fact"><span class="entity_def" id="POPLmark_2B.term.map_transfer|fact"><span class="entity_def" id="POPLmark_2B.term.map_id0|fact"><span class="entity_def" id="POPLmark_2B.term.map_id|fact"><span class="entity_def" id="POPLmark_2B.term.map_cong_pred|fact"><span class="entity_def" id="POPLmark_2B.term.map_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.term.map_cong_id|fact"><span class="entity_def" id="POPLmark_2B.term.map_cong|fact"><span class="entity_def" id="POPLmark_2B.term.map_cong0|fact"><span class="entity_def" id="POPLmark_2B.term.map_comp|fact"><span class="entity_def" id="POPLmark_2B.term.inj_map_strong|fact"><span class="entity_def" id="POPLmark_2B.term.inj_map|fact"><span class="entity_def" id="POPLmark_2B.term.in_rel|fact"><span class="entity_def" id="POPLmark_2B.term.wit|fact"><span class="entity_def" id="POPLmark_2B.term.var_regular|fact"><span class="entity_def" id="POPLmark_2B.term.var_large|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_set|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_OO_Grp|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.term.mr_rel_eq|fact"><span class="entity_def" id="POPLmark_2B.term.mr_in_rel|fact"><span class="entity_def" id="POPLmark_2B.term.set_bd_UNIV|fact"><span class="entity_def" id="POPLmark_2B.term.set_map0|fact"><span class="entity_def" id="POPLmark_2B.term.pred_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.term.rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.term.map_comp0|fact"><span class="entity_def" id="POPLmark_2B.term.in_mono|fact"><span class="entity_def" id="POPLmark_2B.term.in_bd|fact"><span class="entity_def" id="POPLmark_2B.term.collect_set_map|fact"><span class="entity_def" id="POPLmark_2B.term.bd_Cnotzero|fact"><span class="entity_def" id="POPLmark_2B.term.bd_Cinfinite|fact"><span class="entity_def" id="POPLmark_2B.term.bd_Card_order|fact"><span class="entity_def" id="POPLmark_2B.term.bd_regularCard|fact"><span class="entity_def" id="POPLmark_2B.term.bd_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.term.bd_card_order|fact"><span class="entity_def" id="POPLmark_2B.term.bd_infinite_regular_card_order|fact"><span class="entity_def" id="POPLmark_2B.mr_rel_term_def|fact"><span class="entity_def" id="POPLmark_2B.term.wit_term_def|fact"><span class="entity_def" id="POPLmark_2B.term.pred_term_def|fact"><span class="entity_def" id="POPLmark_2B.term.rel_term_def|fact"><span class="entity_def" id="POPLmark_2B.vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.XXr_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.XXl_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.ff0_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.f0_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.pick02_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.pick01_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.elims|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.induct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.simps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.pelims|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.cases|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.termination|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.pinduct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.psimps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.simps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.induct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.cases|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.intros|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.mono|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel_def|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.simps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.induct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.cases|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.intros|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.mono|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.Umap&apos;_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.suitable2_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.suitable1_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor_vvsubst_term_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.Umap_vvsubst_term_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_term2_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_term1_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.validP_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.Pmap_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_vvsubst_term_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor1_term_def|fact"><span class="entity_def" id="POPLmark_2B.term.permute_inv_simp|fact"><span class="entity_def" id="POPLmark_2B.term.permute_bij|fact"><span class="entity_def" id="POPLmark_2B.term.permute_cong_id|fact"><span class="entity_def" id="POPLmark_2B.term.permute_cong|fact"><span class="entity_def" id="POPLmark_2B.term.FVars_permute|fact"><span class="entity_def" id="POPLmark_2B.term.permute_comp|fact"><span class="entity_def" id="POPLmark_2B.term.permute_comp0|fact"><span class="entity_def" id="POPLmark_2B.term.permute_id|fact"><span class="entity_def" id="POPLmark_2B.term.permute_id0|fact"><span class="entity_def" id="POPLmark_2B.term.noclash_permute|fact"><span class="entity_def" id="POPLmark_2B.term.TT_fresh_induct|fact"><span class="entity_def" id="POPLmark_2B.term.fresh_induct_param|fact"><span class="entity_def" id="POPLmark_2B.term.existential_induct|fact"><span class="entity_def" id="POPLmark_2B.term.subshape_induct|fact"><span class="entity_def" id="POPLmark_2B.term.set_subshape_permutes|fact"><span class="entity_def" id="POPLmark_2B.term.set_subshapes|fact"><span class="entity_def" id="POPLmark_2B.term.wf_subshape|fact"><span class="entity_def" id="POPLmark_2B.term.TT_inject0|fact"><span class="entity_def" id="POPLmark_2B.term.abs_ctor|fact"><span class="entity_def" id="POPLmark_2B.term.rep_abs_sym|fact"><span class="entity_def" id="POPLmark_2B.term.rep_abs|fact"><span class="entity_def" id="POPLmark_2B.term.abs_rep|fact"><span class="entity_def" id="POPLmark_2B.term.TT_fresh_cases|fact"><span class="entity_def" id="POPLmark_2B.term.total_abs_eq_iff|fact"><span class="entity_def" id="POPLmark_2B.term.nnoclash_noclash|fact"><span class="entity_def" id="POPLmark_2B.term.FVars_bd_UNIVs|fact"><span class="entity_def" id="POPLmark_2B.term.FVars_bd|fact"><span class="entity_def" id="POPLmark_2B.term.FVars_intros|fact"><span class="entity_def" id="POPLmark_2B.term.FVars_ctor|fact"><span class="entity_def" id="POPLmark_2B.term.permute_ctor|fact"><span class="entity_def" id="POPLmark_2B.noclash_term_def|fact"><span class="entity_def" id="POPLmark_2B.noclash_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.subshape_term_term.inducts|fact"><span class="entity_def" id="POPLmark_2B.subshape_term_term.simps|fact"><span class="entity_def" id="POPLmark_2B.subshape_term_term.induct|fact"><span class="entity_def" id="POPLmark_2B.subshape_term_term.cases|fact"><span class="entity_def" id="POPLmark_2B.subshape_term_term.intros|fact"><span class="entity_def" id="POPLmark_2B.subshape_term_term.mono|fact"><span class="entity_def" id="POPLmark_2B.subshape_term_term_def|fact"><span class="entity_def" id="POPLmark_2B.FV_def|fact"><span class="entity_def" id="POPLmark_2B.FTV_def|fact"><span class="entity_def" id="POPLmark_2B.permute_term_def|fact"><span class="entity_def" id="POPLmark_2B.term_ctor_def|fact"><span class="entity_def" id="POPLmark_2B.arity_typerep_term|fact"><span class="entity_def" id="POPLmark_2B.typerep_term_def|fact"><span class="entity_def" id="POPLmark_2B.typerep_term_inst.typerep_term|fact"><span class="entity_def" id="POPLmark_2B.term.Abs_term_induct|fact"><span class="entity_def" id="POPLmark_2B.term.Rep_term_induct|fact"><span class="entity_def" id="POPLmark_2B.term.Abs_term_cases|fact"><span class="entity_def" id="POPLmark_2B.term.Rep_term_cases|fact"><span class="entity_def" id="POPLmark_2B.term.Abs_term_inject|fact"><span class="entity_def" id="POPLmark_2B.term.Rep_term_inject|fact"><span class="entity_def" id="POPLmark_2B.term.Abs_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.term.Rep_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.term.Rep_term|fact"><span class="entity_def" id="POPLmark_2B.term.type_definition_term|fact"><span class="entity_def" id="POPLmark_2B.arity_type_term|fact"><span class="entity_def" id="POPLmark_2B.alpha_term.simps|fact"><span class="entity_def" id="POPLmark_2B.alpha_term.coinduct|fact"><span class="entity_def" id="POPLmark_2B.alpha_term.cases|fact"><span class="entity_def" id="POPLmark_2B.alpha_term.intros|fact"><span class="entity_def" id="POPLmark_2B.alpha_term.mono|fact"><span class="entity_def" id="POPLmark_2B.alpha_term_def|fact"><span class="entity_def" id="POPLmark_2B.FV_raw_def|fact"><span class="entity_def" id="POPLmark_2B.FTV_raw_def|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.inducts|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.simps|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.induct|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.cases|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.intros|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.mono|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2_def|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.inducts|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.simps|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.induct|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.cases|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.intros|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.mono|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1_def|fact"><span class="entity_def" id="POPLmark_2B.permute_term_raw_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.simps|fact"><span class="entity_def" id="POPLmark_2B.raw_term.rec_transfer|fact"><span class="entity_def" id="POPLmark_2B.raw_term.rec|fact"><span class="entity_def" id="POPLmark_2B.raw_term.induct|fact"><span class="entity_def" id="POPLmark_2B.raw_term.splits|fact"><span class="entity_def" id="POPLmark_2B.raw_term.split_asm|fact"><span class="entity_def" id="POPLmark_2B.raw_term.split|fact"><span class="entity_def" id="POPLmark_2B.raw_term.nchotomy|fact"><span class="entity_def" id="POPLmark_2B.raw_term.inject|fact"><span class="entity_def" id="POPLmark_2B.raw_term.exhaust|fact"><span class="entity_def" id="POPLmark_2B.raw_term.case_distrib|fact"><span class="entity_def" id="POPLmark_2B.raw_term.case_cong_weak|fact"><span class="entity_def" id="POPLmark_2B.raw_term.case_cong|fact"><span class="entity_def" id="POPLmark_2B.raw_term.case|fact"><span class="entity_def" id="POPLmark_2B.raw_term.case_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_rec_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.dtor_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_fold_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.arity_typerep_raw_term|fact"><span class="entity_def" id="POPLmark_2B.typerep_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.typerep_raw_term_inst.typerep_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.type_definition_raw_term|fact"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.str_init_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.arity_typerep_raw_term_IITN_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_IITN_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_IITN_raw_term_inst.typerep_raw_term_IITN_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.type_definition_raw_term_IITN_raw_term|fact"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term_IITN_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.min_alg_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.mor_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.alg_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.set_pre_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.rel_pre_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.map_pre_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.arity_typerep_raw_term_pre_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_pre_raw_term_def|fact"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_pre_raw_term_inst.typerep_raw_term_pre_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term|fact"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.type_definition_raw_term_pre_raw_term|fact"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term_pre_raw_term|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set6_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set5_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set4_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set3_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set2_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set1_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_set_transfer|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_map_transfer|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_id|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_mono|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_map|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_flip|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_cong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_le_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.term_pre.UN_bound|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Un_bound|fact"><span class="entity_def" id="POPLmark_2B.term_pre.supp_comp_bound|fact"><span class="entity_def" id="POPLmark_2B.term_pre.UNIV_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.term_pre.natLeq_bound|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set_transfer|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set_map|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_transp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_symp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_reflp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_refl_strong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_refl|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_cong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_mono|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_map|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_flip|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_eq_onp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_eq|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_compp_Grp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_compp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_set|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_True|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_transfer|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_rel|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_map|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_cong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_mono|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_ident|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_transfer|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_id0|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_id|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong_pred|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong_id|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong0|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_comp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.inj_map_strong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.inj_map|fact"><span class="entity_def" id="POPLmark_2B.term_pre.in_rel|fact"><span class="entity_def" id="POPLmark_2B.term_pre.wit|fact"><span class="entity_def" id="POPLmark_2B.term_pre.var_regular|fact"><span class="entity_def" id="POPLmark_2B.term_pre.var_large|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_set|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_OO_Grp|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_eq|fact"><span class="entity_def" id="POPLmark_2B.term_pre.mr_in_rel|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd_UNIV|fact"><span class="entity_def" id="POPLmark_2B.term_pre.set_map0|fact"><span class="entity_def" id="POPLmark_2B.term_pre.pred_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.term_pre.rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.term_pre.map_comp0|fact"><span class="entity_def" id="POPLmark_2B.term_pre.in_mono|fact"><span class="entity_def" id="POPLmark_2B.term_pre.in_bd|fact"><span class="entity_def" id="POPLmark_2B.term_pre.collect_set_map|fact"><span class="entity_def" id="POPLmark_2B.term_pre.bd_Cnotzero|fact"><span class="entity_def" id="POPLmark_2B.term_pre.bd_Cinfinite|fact"><span class="entity_def" id="POPLmark_2B.term_pre.bd_Card_order|fact"><span class="entity_def" id="POPLmark_2B.term_pre.bd_regularCard|fact"><span class="entity_def" id="POPLmark_2B.term_pre.bd_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.term_pre.bd_card_order|fact"><span class="entity_def" id="POPLmark_2B.term_pre.bd_infinite_regular_card_order|fact"><span class="entity_def" id="POPLmark_2B.mr_rel_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.arity_typerep_term_pre|fact"><span class="entity_def" id="POPLmark_2B.typerep_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.typerep_term_pre_inst.typerep_term_pre|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_induct|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_induct|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_cases|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_cases|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_inject|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_inverse|fact"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre|fact"><span class="entity_def" id="POPLmark_2B.term_pre.type_definition_term_pre|fact"><span class="entity_def" id="POPLmark_2B.arity_type_term_pre|fact"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_term_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_120345_012345_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_term_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_2103_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_term_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preterm_preprod_lift0_1_1_permute_0132_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_preterm_prepat_lift2_0_0_permute_2301_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_prepat_lift2_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod2.mr_rel_term_preDEADID_lift1_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_term_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_preterm_prelfset_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset_kill0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_term_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_term_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_130245_012345_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_520134_012345_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_2_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_term_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_0_0_permute_3012_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_term_presum_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_term_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_term_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_1_0_permute_1023_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_term_preterm_preterm_preID_kill0_&apos;var_lift1_1_1_permute_3021_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_term_preterm_preID_kill0_&apos;var_lift1_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_0_1_permute_102_012_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_0_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_term_preterm_preterm_preID_kill0_&apos;a_lift1_1_0_permute_201_012_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_term_preterm_preID_kill0_&apos;a_lift1_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.mr_rel_term_preID_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_term_preterm_pretype_lift1_0_0_permute_10_01_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_term_pretype_lift1_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.mr_rel_term_preID_kill0_&apos;a_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.mr_rel_term_preID_kill0_&apos;var_def|fact"><span class="entity_def" id="POPLmark_2B.term.subst(8)|thm"><span class="entity_def" id="POPLmark_2B.term.subst(7)|thm"><span class="entity_def" id="POPLmark_2B.term.subst(6)|thm"><span class="entity_def" id="POPLmark_2B.term.subst(5)|thm"><span class="entity_def" id="POPLmark_2B.term.subst(4)|thm"><span class="entity_def" id="POPLmark_2B.term.subst(3)|thm"><span class="entity_def" id="POPLmark_2B.term.subst(2)|thm"><span class="entity_def" id="POPLmark_2B.term.subst(1)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(8)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(7)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(6)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(5)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(4)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(3)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(2)|thm"><span class="entity_def" id="POPLmark_2B.term.inject(1)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(56)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(55)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(54)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(53)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(52)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(51)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(50)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(49)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(48)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(47)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(46)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(45)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(44)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(43)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(42)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(41)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(40)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(39)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(38)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(37)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(36)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(35)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(34)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(33)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(32)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(31)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(30)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(29)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(28)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(27)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(26)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(25)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(24)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(23)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(22)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(21)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(20)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(19)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(18)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(17)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(16)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(15)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(14)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(13)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(12)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(11)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(10)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(9)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(8)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(7)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(6)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(5)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(4)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(3)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(2)|thm"><span class="entity_def" id="POPLmark_2B.term.distinct(1)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(8)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(7)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(6)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(5)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(4)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(3)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(2)|thm"><span class="entity_def" id="POPLmark_2B.term.permute(1)|thm"><span class="entity_def" id="POPLmark_2B.term.map(8)|thm"><span class="entity_def" id="POPLmark_2B.term.map(7)|thm"><span class="entity_def" id="POPLmark_2B.term.map(6)|thm"><span class="entity_def" id="POPLmark_2B.term.map(5)|thm"><span class="entity_def" id="POPLmark_2B.term.map(4)|thm"><span class="entity_def" id="POPLmark_2B.term.map(3)|thm"><span class="entity_def" id="POPLmark_2B.term.map(2)|thm"><span class="entity_def" id="POPLmark_2B.term.map(1)|thm"><span class="entity_def" id="POPLmark_2B.term.set(16)|thm"><span class="entity_def" id="POPLmark_2B.term.set(15)|thm"><span class="entity_def" id="POPLmark_2B.term.set(14)|thm"><span class="entity_def" id="POPLmark_2B.term.set(13)|thm"><span class="entity_def" id="POPLmark_2B.term.set(12)|thm"><span class="entity_def" id="POPLmark_2B.term.set(11)|thm"><span class="entity_def" id="POPLmark_2B.term.set(10)|thm"><span class="entity_def" id="POPLmark_2B.term.set(9)|thm"><span class="entity_def" id="POPLmark_2B.term.set(8)|thm"><span class="entity_def" id="POPLmark_2B.term.set(7)|thm"><span class="entity_def" id="POPLmark_2B.term.set(6)|thm"><span class="entity_def" id="POPLmark_2B.term.set(5)|thm"><span class="entity_def" id="POPLmark_2B.term.set(4)|thm"><span class="entity_def" id="POPLmark_2B.term.set(3)|thm"><span class="entity_def" id="POPLmark_2B.term.set(2)|thm"><span class="entity_def" id="POPLmark_2B.term.set(1)|thm"><span class="entity_def" id="POPLmark_2B.term.induct|thm"><span class="entity_def" id="POPLmark_2B.term.fresh_induct|thm"><span class="entity_def" id="POPLmark_2B.term.strong_induct|thm"><span class="entity_def" id="POPLmark_2B.term.IImsupp_natural(2)|thm"><span class="entity_def" id="POPLmark_2B.term.IImsupp_natural(1)|thm"><span class="entity_def" id="POPLmark_2B.term.IImsupp_Diff|thm"><span class="entity_def" id="POPLmark_2B.term.not_isVVr_free|thm"><span class="entity_def" id="POPLmark_2B.term.tvsubst_permutes|thm"><span class="entity_def" id="POPLmark_2B.term.tvsubst_cctor_not_isVVr|thm"><span class="entity_def" id="POPLmark_2B.term.tvsubst_VVr|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_VVr(2)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_VVr(1)|thm"><span class="entity_def" id="POPLmark_2B.term.eta_set_empties(5)|thm"><span class="entity_def" id="POPLmark_2B.term.eta_set_empties(4)|thm"><span class="entity_def" id="POPLmark_2B.term.eta_set_empties(3)|thm"><span class="entity_def" id="POPLmark_2B.term.eta_set_empties(2)|thm"><span class="entity_def" id="POPLmark_2B.term.eta_set_empties(1)|thm"><span class="entity_def" id="POPLmark_2B.term.SSupp_comp_bound|thm"><span class="entity_def" id="POPLmark_2B.term.SSupp_comp_rename_bound|thm"><span class="entity_def" id="POPLmark_2B.term.SSupp_natural|thm"><span class="entity_def" id="POPLmark_2B.term.rrename_VVr|thm"><span class="entity_def" id="POPLmark_2B.term.is_VVr_rrename|thm"><span class="entity_def" id="POPLmark_2B.term.in_IImsupp(2)|thm"><span class="entity_def" id="POPLmark_2B.term.in_IImsupp(1)|thm"><span class="entity_def" id="POPLmark_2B.term.compSS_cong_id|thm"><span class="entity_def" id="POPLmark_2B.term.compSS_comp0|thm"><span class="entity_def" id="POPLmark_2B.term.SSupp_VVr_bound|thm"><span class="entity_def" id="POPLmark_2B.term.SSupp_VVr_empty|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvXXr_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvXXl_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvff0_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvf0_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvpick02_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvpick01_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.elims|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.pelims|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.termination|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.pinduct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term.psimps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel.mono|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel_def|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.intros|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph.mono|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph_def|thm"><span class="entity_def" id="POPLmark_2B.tvPUmap&apos;_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUctor&apos;_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvPUmap_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;2_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;1_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUmap&apos;_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvsuitable2_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvsuitable1_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_term_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUmap_tvsubst_term_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_term2_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_term1_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvvalidP_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvavoiding_set2_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvavoiding_set1_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvPmap_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars2_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars1_rec_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars2_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars1_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvvalid_P_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvPmap_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvcompSS_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvasVVr_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvisVVr_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_def|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_1_term_def|thm"><span class="entity_def" id="POPLmark_2B.SSupp_term_def|thm"><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.Let_def|thm"><span class="entity_def" id="POPLmark_2B.Proj_def|thm"><span class="entity_def" id="POPLmark_2B.Rec_def|thm"><span class="entity_def" id="POPLmark_2B.ApT_def|thm"><span class="entity_def" id="POPLmark_2B.LmT_def|thm"><span class="entity_def" id="POPLmark_2B.Ap_def|thm"><span class="entity_def" id="POPLmark_2B.Lm_def|thm"><span class="entity_def" id="POPLmark_2B.Vr_def|thm"><span class="entity_def" id="POPLmark_2B.term.vvsubst_permute|thm"><span class="entity_def" id="POPLmark_2B.term.vvsubst_cctor|thm"><span class="entity_def" id="POPLmark_2B.term.UN_bound|thm"><span class="entity_def" id="POPLmark_2B.term.Un_bound|thm"><span class="entity_def" id="POPLmark_2B.term.UNIV_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.term.mr_set_transfer(2)|thm"><span class="entity_def" id="POPLmark_2B.term.mr_set_transfer(1)|thm"><span class="entity_def" id="POPLmark_2B.term.mr_map_transfer|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_id|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_mono|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_map(3)|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_flip|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_cong|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.term.mr_le_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.term.supp_comp_bound|thm"><span class="entity_def" id="POPLmark_2B.term.natLeq_bound|thm"><span class="entity_def" id="POPLmark_2B.term.set_bd(2)|thm"><span class="entity_def" id="POPLmark_2B.term.set_bd(1)|thm"><span class="entity_def" id="POPLmark_2B.term.set_map(2)|thm"><span class="entity_def" id="POPLmark_2B.term.set_map(1)|thm"><span class="entity_def" id="POPLmark_2B.term.rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.term.rel_transp|thm"><span class="entity_def" id="POPLmark_2B.term.rel_symp|thm"><span class="entity_def" id="POPLmark_2B.term.rel_reflp|thm"><span class="entity_def" id="POPLmark_2B.term.rel_refl_strong|thm"><span class="entity_def" id="POPLmark_2B.term.rel_refl|thm"><span class="entity_def" id="POPLmark_2B.term.rel_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.term.rel_cong|thm"><span class="entity_def" id="POPLmark_2B.term.rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.term.rel_mono|thm"><span class="entity_def" id="POPLmark_2B.term.rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.term.rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.term.rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.term.rel_flip|thm"><span class="entity_def" id="POPLmark_2B.term.rel_eq_onp|thm"><span class="entity_def" id="POPLmark_2B.term.rel_eq|thm"><span class="entity_def" id="POPLmark_2B.term.rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.term.rel_compp_Grp|thm"><span class="entity_def" id="POPLmark_2B.term.rel_compp|thm"><span class="entity_def" id="POPLmark_2B.term.pred_set|thm"><span class="entity_def" id="POPLmark_2B.term.pred_True|thm"><span class="entity_def" id="POPLmark_2B.term.pred_transfer|thm"><span class="entity_def" id="POPLmark_2B.term.pred_rel|thm"><span class="entity_def" id="POPLmark_2B.term.pred_map|thm"><span class="entity_def" id="POPLmark_2B.term.pred_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.term.pred_cong|thm"><span class="entity_def" id="POPLmark_2B.term.pred_mono|thm"><span class="entity_def" id="POPLmark_2B.term.pred_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.term.map_ident|thm"><span class="entity_def" id="POPLmark_2B.term.map_transfer|thm"><span class="entity_def" id="POPLmark_2B.term.map_id0|thm"><span class="entity_def" id="POPLmark_2B.term.map_id|thm"><span class="entity_def" id="POPLmark_2B.term.map_cong_pred|thm"><span class="entity_def" id="POPLmark_2B.term.map_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.term.map_cong_id|thm"><span class="entity_def" id="POPLmark_2B.term.map_cong|thm"><span class="entity_def" id="POPLmark_2B.term.map_cong0|thm"><span class="entity_def" id="POPLmark_2B.term.map_comp|thm"><span class="entity_def" id="POPLmark_2B.term.inj_map_strong|thm"><span class="entity_def" id="POPLmark_2B.term.inj_map|thm"><span class="entity_def" id="POPLmark_2B.term.in_rel|thm"><span class="entity_def" id="POPLmark_2B.term.var_regular|thm"><span class="entity_def" id="POPLmark_2B.term.var_large|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_set(2)|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_set(1)|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_OO_Grp|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.term.mr_rel_eq|thm"><span class="entity_def" id="POPLmark_2B.term.mr_in_rel|thm"><span class="entity_def" id="POPLmark_2B.term.set_bd_UNIV(2)|thm"><span class="entity_def" id="POPLmark_2B.term.set_bd_UNIV(1)|thm"><span class="entity_def" id="POPLmark_2B.term.set_map0(2)|thm"><span class="entity_def" id="POPLmark_2B.term.set_map0(1)|thm"><span class="entity_def" id="POPLmark_2B.term.pred_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.term.rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.term.map_comp0|thm"><span class="entity_def" id="POPLmark_2B.term.in_mono|thm"><span class="entity_def" id="POPLmark_2B.term.in_bd|thm"><span class="entity_def" id="POPLmark_2B.term.collect_set_map|thm"><span class="entity_def" id="POPLmark_2B.term.bd_Cnotzero|thm"><span class="entity_def" id="POPLmark_2B.term.bd_Cinfinite|thm"><span class="entity_def" id="POPLmark_2B.term.bd_Card_order|thm"><span class="entity_def" id="POPLmark_2B.term.bd_regularCard|thm"><span class="entity_def" id="POPLmark_2B.term.bd_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.term.bd_card_order|thm"><span class="entity_def" id="POPLmark_2B.term.bd_infinite_regular_card_order|thm"><span class="entity_def" id="POPLmark_2B.mr_rel_term_def|thm"><span class="entity_def" id="POPLmark_2B.term.wit_term_def|thm"><span class="entity_def" id="POPLmark_2B.term.pred_term_def|thm"><span class="entity_def" id="POPLmark_2B.term.rel_term_def|thm"><span class="entity_def" id="POPLmark_2B.vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.XXr_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.XXl_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.ff0_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.f0_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.pick02_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.pick01_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.elims|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.induct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.simps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.pelims|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.cases|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.termination|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.pinduct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term.psimps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.simps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.induct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.cases|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel.mono|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel_def|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.simps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.induct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.cases|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.intros|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph.mono|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.Umap&apos;_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.suitable2_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.suitable1_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor_vvsubst_term_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.Umap_vvsubst_term_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_term2_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_term1_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.validP_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.Pmap_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_vvsubst_term_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor1_term_def|thm"><span class="entity_def" id="POPLmark_2B.term.permute_inv_simp|thm"><span class="entity_def" id="POPLmark_2B.term.permute_bij|thm"><span class="entity_def" id="POPLmark_2B.term.permute_cong_id|thm"><span class="entity_def" id="POPLmark_2B.term.permute_cong|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_permute(2)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_permute(1)|thm"><span class="entity_def" id="POPLmark_2B.term.permute_comp|thm"><span class="entity_def" id="POPLmark_2B.term.permute_comp0|thm"><span class="entity_def" id="POPLmark_2B.term.permute_id|thm"><span class="entity_def" id="POPLmark_2B.term.permute_id0|thm"><span class="entity_def" id="POPLmark_2B.term.noclash_permute|thm"><span class="entity_def" id="POPLmark_2B.term.TT_fresh_induct|thm"><span class="entity_def" id="POPLmark_2B.term.fresh_induct_param|thm"><span class="entity_def" id="POPLmark_2B.term.existential_induct|thm"><span class="entity_def" id="POPLmark_2B.term.subshape_induct|thm"><span class="entity_def" id="POPLmark_2B.term.set_subshape_permutes(2)|thm"><span class="entity_def" id="POPLmark_2B.term.set_subshape_permutes(1)|thm"><span class="entity_def" id="POPLmark_2B.term.set_subshapes(2)|thm"><span class="entity_def" id="POPLmark_2B.term.set_subshapes(1)|thm"><span class="entity_def" id="POPLmark_2B.term.wf_subshape|thm"><span class="entity_def" id="POPLmark_2B.term.TT_inject0|thm"><span class="entity_def" id="POPLmark_2B.term.abs_ctor|thm"><span class="entity_def" id="POPLmark_2B.term.rep_abs_sym|thm"><span class="entity_def" id="POPLmark_2B.term.rep_abs|thm"><span class="entity_def" id="POPLmark_2B.term.abs_rep|thm"><span class="entity_def" id="POPLmark_2B.term.TT_fresh_cases|thm"><span class="entity_def" id="POPLmark_2B.term.total_abs_eq_iff|thm"><span class="entity_def" id="POPLmark_2B.term.nnoclash_noclash|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_bd_UNIVs(2)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_bd_UNIVs(1)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_bd(2)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_bd(1)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_intros(6)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_intros(5)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_intros(4)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_intros(3)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_intros(2)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_intros(1)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_ctor(2)|thm"><span class="entity_def" id="POPLmark_2B.term.FVars_ctor(1)|thm"><span class="entity_def" id="POPLmark_2B.term.permute_ctor|thm"><span class="entity_def" id="POPLmark_2B.noclash_term_def|thm"><span class="entity_def" id="POPLmark_2B.noclash_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.subshape_term_term.inducts|thm"><span class="entity_def" id="POPLmark_2B.subshape_term_term.simps|thm"><span class="entity_def" id="POPLmark_2B.subshape_term_term.induct|thm"><span class="entity_def" id="POPLmark_2B.subshape_term_term.cases|thm"><span class="entity_def" id="POPLmark_2B.subshape_term_term.intros|thm"><span class="entity_def" id="POPLmark_2B.subshape_term_term.mono|thm"><span class="entity_def" id="POPLmark_2B.subshape_term_term_def|thm"><span class="entity_def" id="POPLmark_2B.FV_def|thm"><span class="entity_def" id="POPLmark_2B.FTV_def|thm"><span class="entity_def" id="POPLmark_2B.permute_term_def|thm"><span class="entity_def" id="POPLmark_2B.term_ctor_def|thm"><span class="entity_def" id="POPLmark_2B.arity_typerep_term|thm"><span class="entity_def" id="POPLmark_2B.typerep_term_def|thm"><span class="entity_def" id="POPLmark_2B.typerep_term_inst.typerep_term|thm"><span class="entity_def" id="POPLmark_2B.term.Abs_term_induct|thm"><span class="entity_def" id="POPLmark_2B.term.Rep_term_induct|thm"><span class="entity_def" id="POPLmark_2B.term.Abs_term_cases|thm"><span class="entity_def" id="POPLmark_2B.term.Rep_term_cases|thm"><span class="entity_def" id="POPLmark_2B.term.Abs_term_inject|thm"><span class="entity_def" id="POPLmark_2B.term.Rep_term_inject|thm"><span class="entity_def" id="POPLmark_2B.term.Abs_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.term.Rep_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.term.Rep_term|thm"><span class="entity_def" id="POPLmark_2B.term.type_definition_term|thm"><span class="entity_def" id="POPLmark_2B.arity_type_term|thm"><span class="entity_def" id="POPLmark_2B.alpha_term.simps|thm"><span class="entity_def" id="POPLmark_2B.alpha_term.coinduct|thm"><span class="entity_def" id="POPLmark_2B.alpha_term.cases|thm"><span class="entity_def" id="POPLmark_2B.alpha_term.intros|thm"><span class="entity_def" id="POPLmark_2B.alpha_term.mono|thm"><span class="entity_def" id="POPLmark_2B.alpha_term_def|thm"><span class="entity_def" id="POPLmark_2B.FV_raw_def|thm"><span class="entity_def" id="POPLmark_2B.FTV_raw_def|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.inducts|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.simps|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.induct|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.cases|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2.mono|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2_def|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.inducts|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.simps|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.induct|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.cases|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1.mono|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1_def|thm"><span class="entity_def" id="POPLmark_2B.permute_term_raw_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.simps(3)|thm"><span class="entity_def" id="POPLmark_2B.raw_term.simps(2)|thm"><span class="entity_def" id="POPLmark_2B.raw_term.simps(1)|thm"><span class="entity_def" id="POPLmark_2B.raw_term.rec_transfer|thm"><span class="entity_def" id="POPLmark_2B.raw_term.rec|thm"><span class="entity_def" id="POPLmark_2B.raw_term.induct|thm"><span class="entity_def" id="POPLmark_2B.raw_term.splits(2)|thm"><span class="entity_def" id="POPLmark_2B.raw_term.splits(1)|thm"><span class="entity_def" id="POPLmark_2B.raw_term.split_asm|thm"><span class="entity_def" id="POPLmark_2B.raw_term.split|thm"><span class="entity_def" id="POPLmark_2B.raw_term.nchotomy|thm"><span class="entity_def" id="POPLmark_2B.raw_term.inject|thm"><span class="entity_def" id="POPLmark_2B.raw_term.exhaust|thm"><span class="entity_def" id="POPLmark_2B.raw_term.case_distrib|thm"><span class="entity_def" id="POPLmark_2B.raw_term.case_cong_weak|thm"><span class="entity_def" id="POPLmark_2B.raw_term.case_cong|thm"><span class="entity_def" id="POPLmark_2B.raw_term.case|thm"><span class="entity_def" id="POPLmark_2B.raw_term.case_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_rec_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.dtor_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_fold_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.arity_typerep_raw_term|thm"><span class="entity_def" id="POPLmark_2B.typerep_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.typerep_raw_term_inst.typerep_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.type_definition_raw_term|thm"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.str_init_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.arity_typerep_raw_term_IITN_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_IITN_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_IITN_raw_term_inst.typerep_raw_term_IITN_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.type_definition_raw_term_IITN_raw_term|thm"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term_IITN_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.min_alg_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.mor_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.alg_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.set_pre_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.rel_pre_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.map_pre_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.arity_typerep_raw_term_pre_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_pre_raw_term_def|thm"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_pre_raw_term_inst.typerep_raw_term_pre_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term|thm"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.type_definition_raw_term_pre_raw_term|thm"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term_pre_raw_term|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set6_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set5_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set4_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set3_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set2_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set1_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.term_pre.UN_bound|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Un_bound|thm"><span class="entity_def" id="POPLmark_2B.term_pre.UNIV_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_set_transfer(6)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_set_transfer(5)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_set_transfer(4)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_set_transfer(3)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_set_transfer(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_set_transfer(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_map_transfer|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_id|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_mono|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_map(3)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_flip|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_cong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_le_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.term_pre.supp_comp_bound|thm"><span class="entity_def" id="POPLmark_2B.term_pre.natLeq_bound|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd(6)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd(5)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd(4)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd(3)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_transfer(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_transfer(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map(6)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map(5)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map(4)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map(3)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_transp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_symp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_reflp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_refl_strong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_refl|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_cong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_mono|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_flip|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_eq_onp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_eq|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_compp_Grp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_compp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_set|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_True|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_transfer|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_rel|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_map|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_cong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_mono|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_ident|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_transfer|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_id0|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_id|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong_pred|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong_id|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_cong0|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_comp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.inj_map_strong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.inj_map|thm"><span class="entity_def" id="POPLmark_2B.term_pre.in_rel|thm"><span class="entity_def" id="POPLmark_2B.term_pre.var_regular|thm"><span class="entity_def" id="POPLmark_2B.term_pre.wit(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.wit(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.var_large|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_set(6)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_set(5)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_set(4)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_set(3)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_set(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_set(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_OO_Grp|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_rel_eq|thm"><span class="entity_def" id="POPLmark_2B.term_pre.mr_in_rel|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd_UNIV(4)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd_UNIV(3)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd_UNIV(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_bd_UNIV(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map0(6)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map0(5)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map0(4)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map0(3)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map0(2)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.set_map0(1)|thm"><span class="entity_def" id="POPLmark_2B.term_pre.pred_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.term_pre.rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.term_pre.map_comp0|thm"><span class="entity_def" id="POPLmark_2B.term_pre.in_mono|thm"><span class="entity_def" id="POPLmark_2B.term_pre.in_bd|thm"><span class="entity_def" id="POPLmark_2B.term_pre.collect_set_map|thm"><span class="entity_def" id="POPLmark_2B.term_pre.bd_Cnotzero|thm"><span class="entity_def" id="POPLmark_2B.term_pre.bd_Cinfinite|thm"><span class="entity_def" id="POPLmark_2B.term_pre.bd_Card_order|thm"><span class="entity_def" id="POPLmark_2B.term_pre.bd_regularCard|thm"><span class="entity_def" id="POPLmark_2B.term_pre.bd_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.term_pre.bd_card_order|thm"><span class="entity_def" id="POPLmark_2B.term_pre.bd_infinite_regular_card_order|thm"><span class="entity_def" id="POPLmark_2B.mr_rel_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.arity_typerep_term_pre|thm"><span class="entity_def" id="POPLmark_2B.typerep_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.typerep_term_pre_inst.typerep_term_pre|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_induct|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_induct|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_cases|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_cases|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_inject|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_inject|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre_inverse|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre_inverse|thm"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre|thm"><span class="entity_def" id="POPLmark_2B.term_pre.type_definition_term_pre|thm"><span class="entity_def" id="POPLmark_2B.arity_type_term_pre|thm"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_term_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_120345_012345_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_term_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_2103_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_term_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preterm_preprod_lift0_1_1_permute_0132_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_preterm_prepat_lift2_0_0_permute_2301_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_prepat_lift2_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod2.mr_rel_term_preDEADID_lift1_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_term_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_preterm_prelfset_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset_kill0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_term_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_term_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_130245_012345_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_520134_012345_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_2_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_term_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_0_0_permute_3012_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_term_presum_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_term_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_term_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_1_0_permute_1023_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_term_preterm_preterm_preID_kill0_&apos;var_lift1_1_1_permute_3021_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_term_preterm_preID_kill0_&apos;var_lift1_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_0_1_permute_102_012_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_0_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_term_preterm_preterm_preID_kill0_&apos;a_lift1_1_0_permute_201_012_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_term_preterm_preID_kill0_&apos;a_lift1_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.mr_rel_term_preID_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_term_preterm_pretype_lift1_0_0_permute_10_01_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_term_pretype_lift1_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.mr_rel_term_preID_kill0_&apos;a_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.mr_rel_term_preID_kill0_&apos;var_def|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvXXr_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvXXl_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvff0_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvf0_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvpick02_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvpick01_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_sumC_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPUmap&apos;_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUctor&apos;_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPUmap_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;2_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;1_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUmap&apos;_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvsuitable2_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvsuitable1_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_term_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUmap_tvsubst_term_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_term2_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_term1_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvvalidP_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvavoiding_set2_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvavoiding_set1_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPmap_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars2_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars1_rec_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars2_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars1_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvvalid_P_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPmap_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvcompSS_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvasVVr_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvisVVr_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_def|axiom"><span class="entity_def" id="POPLmark_2B.IImsupp_1_term_def|axiom"><span class="entity_def" id="POPLmark_2B.SSupp_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.Let_def|axiom"><span class="entity_def" id="POPLmark_2B.Proj_def|axiom"><span class="entity_def" id="POPLmark_2B.Rec_def|axiom"><span class="entity_def" id="POPLmark_2B.ApT_def|axiom"><span class="entity_def" id="POPLmark_2B.LmT_def|axiom"><span class="entity_def" id="POPLmark_2B.Ap_def|axiom"><span class="entity_def" id="POPLmark_2B.Lm_def|axiom"><span class="entity_def" id="POPLmark_2B.Vr_def|axiom"><span class="entity_def" id="POPLmark_2B.mr_rel_term_def|axiom"><span class="entity_def" id="POPLmark_2B.term.wit_term_def|axiom"><span class="entity_def" id="POPLmark_2B.term.pred_term_def|axiom"><span class="entity_def" id="POPLmark_2B.term.rel_term_def|axiom"><span class="entity_def" id="POPLmark_2B.vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.XXr_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.XXl_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.ff0_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.f0_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.pick02_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.pick01_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_sumC_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap&apos;_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable2_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable1_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor_vvsubst_term_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap_vvsubst_term_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_term2_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_term1_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.validP_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.Pmap_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_vvsubst_term_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor1_term_def|axiom"><span class="entity_def" id="POPLmark_2B.noclash_term_def|axiom"><span class="entity_def" id="POPLmark_2B.noclash_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.subshape_term_term_def|axiom"><span class="entity_def" id="POPLmark_2B.FV_def|axiom"><span class="entity_def" id="POPLmark_2B.FTV_def|axiom"><span class="entity_def" id="POPLmark_2B.permute_term_def|axiom"><span class="entity_def" id="POPLmark_2B.term_ctor_def|axiom"><span class="entity_def" id="POPLmark_2B.typerep_term_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.typerep_term_inst.typerep_term_def|axiom"><span class="entity_def" id="POPLmark_2B.term.type_definition_term|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_term|axiom"><span class="entity_def" id="POPLmark_2B.alpha_term_def|axiom"><span class="entity_def" id="POPLmark_2B.FV_raw_def|axiom"><span class="entity_def" id="POPLmark_2B.FTV_raw_def|axiom"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2_def|axiom"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1_def|axiom"><span class="entity_def" id="POPLmark_2B.permute_term_raw_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.rec_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.case_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_ctor_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_rec_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.dtor_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_fold_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.typerep_raw_term_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.typerep_raw_term_inst.typerep_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.type_definition_raw_term|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.str_init_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_IITN_raw_term_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_IITN_raw_term_inst.typerep_raw_term_IITN_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.type_definition_raw_term_IITN_raw_term|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term_IITN_raw_term|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.min_alg_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.mor_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.alg_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.wit_pre_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.pred_pre_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.rel_pre_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.set_pre_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.map_pre_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_pre_raw_term_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_pre_raw_term_inst.typerep_raw_term_pre_raw_term_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.type_definition_raw_term_pre_raw_term|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_raw_term_pre_raw_term|axiom"><span class="entity_def" id="POPLmark_2B.mr_rel_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.wit_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.pred_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.rel_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.set6_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.set5_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.set4_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.set3_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.set2_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.set1_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.map_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.typerep_term_pre_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.typerep_term_pre_inst.typerep_term_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.term_pre.type_definition_term_pre|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_term_pre|axiom"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set6_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set5_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set4_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set3_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set1_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.map_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_120345_012345_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum.Sum_Type.rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum.Sum_Type.map_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_2103_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.pred_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set4_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set3_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set2_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set1_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.map_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum2.sum2.sum2.prod.Product_Type.map_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preterm_preprod_lift0_1_1_permute_0132_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_preterm_prepat_lift2_0_0_permute_2301_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_prepat_lift2_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod2.mr_rel_term_preDEADID_lift1_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum1.sum.Sum_Type.set2_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum1.sum.Sum_Type.set1_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum1.sum.Sum_Type.map_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_preterm_prelfset_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset_kill0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.pred_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set6_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set5_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set2_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set1_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.map_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_130245_012345_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_520134_012345_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_2_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum2.sum.Sum_Type.rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum2.sum.Sum_Type.set2_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum2.sum.Sum_Type.map_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_0_0_permute_3012_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_term_presum_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.wit_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.set3_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.set1_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.map_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum1.prod.Product_Type.set_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum1.sum.Sum_Type.rel_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum1.sum.Sum_Type.set3_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum1.sum.Sum_Type.map_term_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_1_0_permute_1023_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_term_preterm_preterm_preID_kill0_&apos;var_lift1_1_1_permute_3021_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_term_preterm_preID_kill0_&apos;var_lift1_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.wit_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.set3_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.set1_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.map_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_0_1_permute_102_012_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_0_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_term_preterm_preterm_preID_kill0_&apos;a_lift1_1_0_permute_201_012_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_term_preterm_preID_kill0_&apos;a_lift1_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.mr_rel_term_preID_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_term_preterm_pretype_lift1_0_0_permute_10_01_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_term_pretype_lift1_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.mr_rel_term_preID_kill0_&apos;a_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.mr_rel_term_preID_kill0_&apos;var_def|axiom"><span class="entity_def" id="POPLmark_2B.tvsubst_term|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_dom|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_rel|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_sumC|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_term_graph|const"><span class="entity_def" id="POPLmark_2B.IImsupp_2_term|const"><span class="entity_def" id="POPLmark_2B.IImsupp_1_term|const"><span class="entity_def" id="POPLmark_2B.SSupp_term|const"><span class="entity_def" id="POPLmark_2B.Let|const"><span class="entity_def" id="POPLmark_2B.Proj|const"><span class="entity_def" id="POPLmark_2B.Rec|const"><span class="entity_def" id="POPLmark_2B.ApT|const"><span class="entity_def" id="POPLmark_2B.LmT|const"><span class="entity_def" id="POPLmark_2B.Ap|const"><span class="entity_def" id="POPLmark_2B.Lm|const"><span class="entity_def" id="POPLmark_2B.Vr|const"><span class="entity_def" id="POPLmark_2B.mr_rel_term|const"><span class="entity_def" id="POPLmark_2B.term.wit_term|const"><span class="entity_def" id="POPLmark_2B.term.pred_term|const"><span class="entity_def" id="POPLmark_2B.term.rel_term|const"><span class="entity_def" id="POPLmark_2B.vvsubst_term|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_dom|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_rel|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_sumC|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_term_graph|const"><span class="entity_def" id="POPLmark_2B.Uctor1_term|const"><span class="entity_def" id="POPLmark_2B.noclash_term|const"><span class="entity_def" id="POPLmark_2B.noclash_raw_term|const"><span class="entity_def" id="POPLmark_2B.subshape_term_term|const"><span class="entity_def" id="POPLmark_2B.FV|const"><span class="entity_def" id="POPLmark_2B.FTV|const"><span class="entity_def" id="POPLmark_2B.permute_term|const"><span class="entity_def" id="POPLmark_2B.term_ctor|const"><span class="entity_def" id="POPLmark_2B.typerep_term_inst.typerep_term|const"><span class="entity_def" id="POPLmark_2B.term.Abs_term|const"><span class="entity_def" id="POPLmark_2B.term.Rep_term|const"><span class="entity_def" id="POPLmark_2B.alpha_term|const"><span class="entity_def" id="POPLmark_2B.FV_raw|const"><span class="entity_def" id="POPLmark_2B.FTV_raw|const"><span class="entity_def" id="POPLmark_2B.is_free_raw_term2|const"><span class="entity_def" id="POPLmark_2B.is_free_raw_term1|const"><span class="entity_def" id="POPLmark_2B.permute_term_raw|const"><span class="entity_def" id="POPLmark_2B.raw_term.rec_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.case_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_ctor|const"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_rec_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.dtor_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_fold_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.ctor_raw_term|const"><span class="entity_def" id="POPLmark_2B.typerep_raw_term_inst.typerep_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.Abs_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.Rep_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.str_init_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_IITN_raw_term_inst.typerep_raw_term_IITN_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Abs_raw_term_IITN_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term.Rep_raw_term_IITN_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.min_alg_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.mor_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.alg_raw_term|const"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.wit_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.pred_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.rel_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.set_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.pre_raw_term.raw_term.map_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.typerep_raw_term_pre_raw_term_inst.typerep_raw_term_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Abs_raw_term_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term.Rep_raw_term_pre_raw_term|const"><span class="entity_def" id="POPLmark_2B.mr_rel_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.wit_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.pred_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.rel_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.set6_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.set5_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.set4_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.set3_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.set2_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.set1_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.map_term_pre|const"><span class="entity_def" id="POPLmark_2B.typerep_term_pre_inst.typerep_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.Abs_term_pre|const"><span class="entity_def" id="POPLmark_2B.term_pre.Rep_term_pre|const"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set6_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set5_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set4_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set3_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.set1_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum.Sum_Type.map_term_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_120345_012345|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum.Sum_Type.rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum.Sum_Type.map_term_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_2103_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.pred_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set4_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set3_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set2_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.set1_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum2.sum.Sum_Type.map_term_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum2.sum2.sum2.prod.Product_Type.map_term_preprod|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preterm_preprod_lift0_1_1_permute_0132_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_preterm_prepat_lift2_0_0_permute_2301_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_term_prepat_lift2_0_0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_term_preprod|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum1.sum.Sum_Type.set2_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum1.sum.Sum_Type.set1_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum2.sum1.sum.Sum_Type.map_term_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_preterm_prelfset_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_term_prelfset_kill0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_term_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.pred_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set6_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set5_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set2_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.set1_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum.Sum_Type.map_term_presum|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift0_1_1_permute_130245_012345|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_term_preterm_presum_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_preterm_presum_lift1_0_1_permute_520134_012345|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_term_preterm_presum_lift1_0_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_2|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum2.sum.Sum_Type.rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum2.sum.Sum_Type.set2_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum2.sum.Sum_Type.map_term_presum|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_0_0_permute_3012_0123|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_0_0|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift1_1_1_permute_2013_0123|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preterm_preprod_lift1_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_term_presum_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.wit_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.set3_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.set1_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum2.prod.Product_Type.map_term_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum2.sum1.prod.Product_Type.set_term_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum1.sum.Sum_Type.rel_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum1.sum.Sum_Type.set3_term_presum|const"><span class="entity_def" id="POPLmark_2B.term_presum.sum1.sum1.sum.Sum_Type.map_term_presum|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_1_0_permute_1023_0123|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_term_presum_lift0_2_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.wit_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.set3_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.set1_term_preprod|const"><span class="entity_def" id="POPLmark_2B.term_preprod.sum1.sum1.sum2.prod.Product_Type.map_term_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preterm_preprod_lift0_0_1_permute_102_012|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preterm_preprod_lift0_0_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_term_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_term_preterm_pretype_lift1_0_0_permute_10_01|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_term_pretype_lift1_0_0|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_term_preprod_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.term|type"><span class="entity_def" id="POPLmark_2B.raw_term|type"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_IITN_raw_term|type"><span class="entity_def" id="POPLmark_2B.raw_term.raw_term_pre_raw_term|type"><span class="entity_def" id="POPLmark_2B.term_pre|type"><span>binder_datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span>FTV</span><span class="main"><span>:</span></span><span> </span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> FV</span><span class="main"><span>:</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span>term</span><span>"</span></span><span> </span><span class="main"><span>=</span></span><span>
    Vr </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'var</span></span></span></span><span>
  </span><span class="main"><span>|</span></span><span> Lm x</span><span class="main"><span>::</span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'var</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tvar</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span> t</span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>binds</span></span></span><span> x </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> t
  </span><span class="main"><span>|</span></span><span> Ap </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> LmT X</span><span class="main"><span>::</span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'tvar</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tvar</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span> t</span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>binds</span></span></span><span> X </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> t
  </span><span class="main"><span>|</span></span><span> ApT </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tvar</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> Rec </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.label|type"><span class="tconst"><span>label</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset|type"><span class="tconst"><span>lfset</span></span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> Proj </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="SystemFSub.html#SystemFSub.label|type"><span class="tconst"><span>label</span></span></a></span><span>
  </span><span class="main"><span>|</span></span><span> Let </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span class="main"><a class="entity_ref" href="../Binders/MRBNF_Recursor.html#MRBNF_Recursor.var_selector|type"><span>::</span></a></span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> t</span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tvar</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>binds</span></span></span><span> P </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> t
</span><span class="keyword1"><span class="command"><span>print_theorems</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.subst_term_pre_def|fact"><span class="entity_def" id="POPLmark_2B.subst_term_pre_def|thm"><span class="entity_def" id="POPLmark_2B.subst_term_pre_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.subst_term_pre|const"><span>subst_term_pre</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre|type"><span class="tconst"><span>term_pre</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre|type"><span class="tconst"><span>term_pre</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subst_term_pre</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre|const"><span class="const"><span>Abs_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Rep_term_pre|const"><span class="const"><span>Rep_term_pre</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
    Inl </span><span class="main"><span>(</span></span><span>Inl </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> Inl </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> Inr </span><span class="main"><span>(</span></span><span>Inl </span><span class="main"><span>(</span></span><span>Inl </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> Inr </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span>subst_pat</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>x</span></span><span>
  </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.\&lt;eta&gt;|const"><span>η</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'btv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'bv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre|type"><span class="tconst"><span>term_pre</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>η</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre|const"><span class="const"><span>Abs_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_free|fact"><span class="entity_def" id="POPLmark_2B.eta_free|thm"><span>eta_free</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre|const"><span class="const"><span>set2_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
    </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_inj|fact"><span class="entity_def" id="POPLmark_2B.eta_inj|thm"><span>eta_inj</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_natural|fact"><span class="entity_def" id="POPLmark_2B.eta_natural|thm"><span>eta_natural</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x1</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x2</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f3</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x3</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x3</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f4</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x4</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x4</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x1</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x2</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f3</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f3</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x3</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f4</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x4</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f3</span></span><span> </span><span class="free"><span>f4</span></span><span> </span><span class="free"><span>f5</span></span><span> </span><span class="free"><span>f6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="comment1"><span>(* Construction of substitution *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="POPLmark_2B.P|type"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.VVr_def|fact"><span class="entity_def" id="POPLmark_2B.VVr_def|thm"><span class="entity_def" id="POPLmark_2B.VVr_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.VVr|const"><span>VVr</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>VVr</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.isVVr_def|fact"><span class="entity_def" id="POPLmark_2B.isVVr_def|thm"><span class="entity_def" id="POPLmark_2B.isVVr_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.isVVr|const"><span>isVVr</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>isVVr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.asVVr_def|fact"><span class="entity_def" id="POPLmark_2B.asVVr_def|thm"><span class="entity_def" id="POPLmark_2B.asVVr_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.asVVr|const"><span>asVVr</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>asVVr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>SOME</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.Uctor_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.Uctor|const"><span>Uctor</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre|type"><span class="tconst"><span>term_pre</span></span></a><span>
  </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Uctor</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
    </span><span class="bound"><span>f1</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr|const"><span class="const"><span>asVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span>
    </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="bound"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>R</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>R</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.PFV_1_def|fact"><span class="entity_def" id="POPLmark_2B.PFV_1_def|thm"><span class="entity_def" id="POPLmark_2B.PFV_1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.PFV_1|const"><span>PFV_1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PFV_1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="bound"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="bound"><span>f2</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.PFV_2_def|fact"><span class="entity_def" id="POPLmark_2B.PFV_2_def|thm"><span class="entity_def" id="POPLmark_2B.PFV_2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.PFV_2|const"><span>PFV_2</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PFV_2</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="bound"><span>f1</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.compSS_type_def|fact"><span class="entity_def" id="POPLmark_2B.compSS_type_def|thm"><span class="entity_def" id="POPLmark_2B.compSS_type_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.compSS_type|const"><span>compSS_type</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compSS_type</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.compSS_term_def|fact"><span class="entity_def" id="POPLmark_2B.compSS_term_def|thm"><span class="entity_def" id="POPLmark_2B.compSS_term_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.compSS_term|const"><span>compSS_term</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compSS_term</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.Pmap_def|fact"><span class="entity_def" id="POPLmark_2B.Pmap_def|thm"><span class="entity_def" id="POPLmark_2B.Pmap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.Pmap|const"><span>Pmap</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Pmap</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term|const"><span class="const"><span>compSS_term</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_type|const"><span class="const"><span>compSS_type</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_defs|fact"><span class="entity_def" id="POPLmark_2B.compSS_defs(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_defs(1)|thm"><span>compSS_defs</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_type_def|fact"><span>compSS_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term_def|fact"><span>compSS_term_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.valid_P_def|fact"><span class="entity_def" id="POPLmark_2B.valid_P_def|thm"><span class="entity_def" id="POPLmark_2B.valid_P_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.valid_P|const"><span>valid_P</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_P</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="bound"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="bound"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.asVVr_VVr|fact"><span class="entity_def" id="POPLmark_2B.asVVr_VVr|thm"><span>asVVr_VVr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr|const"><span class="const"><span>asVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_def|fact"><span>asVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI2|fact"><span>someI2</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
    </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span>
    </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4356..4361">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_VVr|fact"><span class="entity_def" id="POPLmark_2B.permute_VVr|thm"><span>permute_VVr</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_ctor|fact"><span>term.permute_ctor</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4356..4361"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4356..4361"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4797..4802">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.isVVr_permute|fact"><span class="entity_def" id="POPLmark_2B.isVVr_permute|thm"><span>isVVr_permute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4797..4802"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp1|fact"><span>inv_o_simp1</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4797..4802"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4797..4802"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4797..4802"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_id0s|fact"><span class="entity_def" id="POPLmark_2B.compSS_id0s(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_id0s(1)|thm"><span>compSS_id0s</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_type|const"><span class="const"><span>compSS_type</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term|const"><span class="const"><span>compSS_term</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_type_def|fact"><span>compSS_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term_def|fact"><span>compSS_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id0|fact"><span>term.permute_id0</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_id0|fact"><span>type.permute_id0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv_id|fact"><span>inv_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5894..5899">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_comp0_term|fact"><span class="entity_def" id="POPLmark_2B.compSS_comp0_term|thm"><span>compSS_comp0_term</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>g_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term|const"><span class="const"><span>compSS_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term|const"><span class="const"><span>compSS_term</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term|const"><span class="const"><span>compSS_term</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term_def|fact"><span>compSS_term_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.o_inv_distrib|fact"><span>o_inv_distrib</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp0|fact"><span>term.permute_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_5894..5899"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_comp0s|fact"><span class="entity_def" id="POPLmark_2B.compSS_comp0s(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_comp0s(1)|thm"><span>compSS_comp0s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.compSS_comp0|fact"><span>type.compSS_comp0</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvcompSS_substT_def|fact"><span>tvcompSS_substT_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_type_def|fact"><span>compSS_type_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_comp0_term|fact"><span>compSS_comp0_term</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_VVrs|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_VVrs|thm"><span>IImsupp_VVrs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_def|fact"><span>imsupp_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff|fact"><span>disjoint_iff</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allE|fact"><span>allE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.de_Morgan_disj|fact"><span>de_Morgan_disj</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_not|fact"><span>not_not</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7241..7246">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_permute_commute|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_permute_commute|thm"><span>IImsupp_permute_commute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7340..7347">f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>f2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>y</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7241..7246"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>

     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong_id|fact"><span>term.permute_cong_id</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7241..7246"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_onD|fact"><span>id_onD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_id_on|fact"><span>imsupp_id_on</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_subset_empty2|fact"><span>Int_subset_empty2</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="comment1"><span>(* repeated *)</span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_onD|fact"><span>id_onD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_id_on|fact"><span>imsupp_id_on</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_subset_empty2|fact"><span>Int_subset_empty2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -2</span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 3
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_VVrs|fact"><span>IImsupp_VVrs</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7340..7347"><span>f_prems</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_VVrs|fact"><span>IImsupp_VVrs</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.bij_not_eq_twice|fact"><span>bij_not_eq_twice</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7340..7347"><span>f_prems</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9638..9643">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_cong_id_term|fact"><span class="entity_def" id="POPLmark_2B.compSS_cong_id_term|thm"><span>compSS_cong_id_term</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>g_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term|const"><span class="const"><span>compSS_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term_def|fact"><span>compSS_term_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_10187..10192">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_permute_commute|fact"><span>IImsupp_permute_commute</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9638..9643"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_commute|fact"><span>Int_commute</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.disjointI|fact"><span>disjointI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_10187..10192"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.bij_id_imsupp|fact"><span>bij_id_imsupp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9638..9643"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* repeated *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_commute|fact"><span>Int_commute</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.disjointI|fact"><span>disjointI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_10187..10192"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.bij_id_imsupp|fact"><span>bij_id_imsupp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9638..9643"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9638..9643"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_cong_ids|fact"><span class="entity_def" id="POPLmark_2B.compSS_cong_ids(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_cong_ids(1)|thm"><span>compSS_cong_ids</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.compSS_cong_id|fact"><span>type.compSS_cong_id</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvcompSS_substT_def|fact"><span>tvcompSS_substT_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_type_def|fact"><span>compSS_type_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_cong_id_term|fact"><span>compSS_cong_id_term</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_naturals|fact"><span class="entity_def" id="POPLmark_2B.SSupp_naturals(2)|thm"><span class="entity_def" id="POPLmark_2B.SSupp_naturals(1)|thm"><span>SSupp_naturals</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.SSupp_natural|fact"><span>type.SSupp_natural</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.SSupp_natural|fact"><span>term.SSupp_natural</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_naturals|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_naturals(3)|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_naturals(2)|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_naturals(1)|thm"><span>IImsupp_naturals</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.IImsupp_natural|fact"><span>type.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.IImsupp_natural|fact"><span>term.IImsupp_natural</span></a><span>

</span><span class="comment1"><span>(* Recursor axioms *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Pmap_id0|fact"><span class="entity_def" id="POPLmark_2B.Pmap_id0|thm"><span>Pmap_id0</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_id0s|fact"><span>compSS_id0s</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11286..11291">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Pmap_comp0|fact"><span class="entity_def" id="POPLmark_2B.Pmap_comp0|thm"><span>Pmap_comp0</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>g_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_11286..11291"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_comp0s|fact"><span>compSS_comp0s</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_comp0s|fact"><span>compSS_comp0s</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12110..12115">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.valid_Pmap|fact"><span class="entity_def" id="POPLmark_2B.valid_Pmap|thm"><span>valid_Pmap</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_defs|fact"><span>compSS_defs</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Meson.html#Meson.conj_forward|fact"><span>conj_forward</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_naturals|fact"><span>SSupp_naturals</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_12110..12115"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12649..12654">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.PFV_Pmaps|fact"><span class="entity_def" id="POPLmark_2B.PFV_Pmaps(2)|thm"><span class="entity_def" id="POPLmark_2B.PFV_Pmaps(1)|thm"><span>PFV_Pmaps</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1_def|fact"><span>PFV_1_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_defs|fact"><span>compSS_defs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_naturals|fact"><span>IImsupp_naturals</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_12649..12654"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2_def|fact"><span>PFV_2_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_defs|fact"><span>compSS_defs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_naturals|fact"><span>IImsupp_naturals</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_12649..12654"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Pmap_cong_id|fact"><span class="entity_def" id="POPLmark_2B.Pmap_cong_id|thm"><span>Pmap_cong_id</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'TVr</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13565..13572">f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1_def|fact"><span>PFV_1_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2_def|fact"><span>PFV_2_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_13869..13874">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_cong_ids|fact"><span>compSS_cong_ids</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_13565..13572"><span>f_prems</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_13869..13874"><span>prems</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Cinfinite_UNIV|fact"><span class="entity_def" id="POPLmark_2B.Cinfinite_UNIV|thm"><span>Cinfinite_UNIV</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.UNIV_cinfinite|fact"><span>term_pre.UNIV_cinfinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Cinfinite_card|fact"><span class="entity_def" id="POPLmark_2B.Cinfinite_card|thm"><span>Cinfinite_card</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_Cinfinite|fact"><span>cmin_Cinfinite</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.regularCard_card|fact"><span class="entity_def" id="POPLmark_2B.regularCard_card|thm"><span>regularCard_card</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_regularCard|fact"><span>cmin_regularCard</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.var_regular|fact"><span>term_pre.var_regular</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.var_regular|fact"><span>term_pre.var_regular</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Un_bound|fact"><span class="entity_def" id="POPLmark_2B.Un_bound|thm"><span>Un_bound</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.regularCard_Un|fact"><span>regularCard_Un</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.regularCard_card|fact"><span>regularCard_card</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.UN_bound|fact"><span class="entity_def" id="POPLmark_2B.UN_bound|thm"><span>UN_bound</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.regularCard_UNION|fact"><span>regularCard_UNION</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.regularCard_card|fact"><span>regularCard_card</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.small_PFVs|fact"><span class="entity_def" id="POPLmark_2B.small_PFVs(2)|thm"><span class="entity_def" id="POPLmark_2B.small_PFVs(1)|thm"><span>small_PFVs</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'TVr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'TVr</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1_def|fact"><span>PFV_1_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Un_bound|fact"><span>Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.UN_bound|fact"><span>UN_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set_bd_UNIV|fact"><span>type.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_bd_UNIVs|fact"><span>term.FVars_bd_UNIVs</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="comment1"><span>(* copied from above *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2_def|fact"><span>PFV_2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Un_bound|fact"><span>Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.UN_bound|fact"><span>UN_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set_bd_UNIV|fact"><span>type.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_bd_UNIVs|fact"><span>term.FVars_bd_UNIVs</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.sets_subst_term_pre|fact"><span class="entity_def" id="POPLmark_2B.sets_subst_term_pre(5)|thm"><span class="entity_def" id="POPLmark_2B.sets_subst_term_pre(4)|thm"><span class="entity_def" id="POPLmark_2B.sets_subst_term_pre(3)|thm"><span class="entity_def" id="POPLmark_2B.sets_subst_term_pre(2)|thm"><span class="entity_def" id="POPLmark_2B.sets_subst_term_pre(1)|thm"><span>sets_subst_term_pre</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre|const"><span class="const"><span>set2_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre|const"><span class="const"><span>set2_term_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span>set3_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span>set3_term_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span>set4_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span>set4_term_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre|const"><span class="const"><span>set5_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre|const"><span class="const"><span>set5_term_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre|const"><span class="const"><span>set6_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre|const"><span class="const"><span>set6_term_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span>
</span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_singleton|fact"><span>UN_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span>
  </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_subst_pat|fact"><span>PV_subst_pat</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.map_subst|fact"><span class="entity_def" id="POPLmark_2B.map_subst|thm"><span>map_subst</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f4</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f3</span></span><span> </span><span class="free"><span>f4</span></span><span> </span><span class="free"><span>f5</span></span><span> </span><span class="free"><span>f6</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f3</span></span><span> </span><span class="free"><span>f4</span></span><span> </span><span class="free"><span>f5</span></span><span> </span><span class="free"><span>f6</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.case_sum_map_sum|fact"><span>case_sum_map_sum</span></a><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id0|fact"><span>type.map_id0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.case_prod_map_prod|fact"><span>case_prod_map_prod</span></a><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.split|fact"><span>sum.split</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_comp|fact"><span>subst_pat_comp</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.subst|fact"><span>type.subst</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16748..16753">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FVars_substT_cmin|fact"><span class="entity_def" id="POPLmark_2B.FVars_substT_cmin|thm"><span>FVars_substT_cmin</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_16748..16753"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FTV_subset|fact"><span class="entity_def" id="POPLmark_2B.FTV_subset|thm"><span>FTV_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span>set3_term_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre|const"><span class="const"><span>set5_term_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre|const"><span class="const"><span>set6_term_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_17373..17378">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1_def|fact"><span>PFV_1_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span>thin_rl</span><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_ctor|fact"><span>term.FVars_ctor</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.sets_subst_term_pre|fact"><span>sets_subst_term_pre</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.map_subst|fact"><span>map_subst</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17373..17378"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_map|fact"><span>term_pre.set_map</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.image_id|fact"><span>image_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Un_mono&apos;|fact"><span>Un_mono'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1_def|fact"><span>PFV_1_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_singleton|fact"><span>UN_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span>
        </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_substT_def|fact"><span>tvVVr_substT_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_type_substT_def|fact"><span>tvη_type_substT_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr_def|fact"><span>TVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id0|fact"><span>type.map_id0</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set_map|fact"><span>type.set_map</span></a><span>
      </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17373..17378"><span>prems</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>,</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_substT_cmin|fact"><span>FVars_substT_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set|fact"><span>type.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set|fact"><span>type.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set|fact"><span>type.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTV_subst_pat|fact"><span>PTV_subst_pat</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set|fact"><span>type.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Diff_Un_disjunct|fact"><span>Diff_Un_disjunct</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17373..17378"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_mono|fact"><span>Diff_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_extend_simps|fact"><span>UN_extend_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17373..17378"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17373..17378"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* repeated *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17373..17378"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17373..17378"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FV_subset|fact"><span class="entity_def" id="POPLmark_2B.FV_subset|thm"><span>FV_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span>set4_term_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre|const"><span class="const"><span>set5_term_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre|const"><span class="const"><span>set6_term_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_20615..20620">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2_def|fact"><span>PFV_2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span>thin_rl</span><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_ctor|fact"><span>term.FVars_ctor</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.sets_subst_term_pre|fact"><span>sets_subst_term_pre</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.map_subst|fact"><span>map_subst</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_map|fact"><span>term_pre.set_map</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.image_id|fact"><span>image_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.sets_subst_term_pre|fact"><span>sets_subst_term_pre</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Un_mono&apos;|fact"><span>Un_mono'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Diff_Un_disjunct|fact"><span>Diff_Un_disjunct</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20615..20620"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_mono|fact"><span>Diff_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_extend_simps|fact"><span>UN_extend_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20615..20620"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20615..20620"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* repeated *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20615..20620"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20615..20620"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_Uctor|fact"><span class="entity_def" id="POPLmark_2B.permute_Uctor|thm"><span>permute_Uctor</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>
  </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_comp|fact"><span>term_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.id_o_commute|fact"><span>id_o_commute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>f1</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.id_o_commute|fact"><span>id_o_commute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>f2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.fst_o_f|fact"><span>fst_o_f</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_comp|fact"><span>term_pre.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_ctor|fact"><span>term.permute_ctor</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_permute|fact"><span>isVVr_permute</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_term_def|fact"><span>compSS_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_simp1|fact"><span>inv_simp1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_ctor|fact"><span>term.permute_ctor</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.map_subst|fact"><span>map_subst</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_comp|fact"><span>term_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp1|fact"><span>inv_o_simp1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_comp0|fact"><span>Pmap_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_Pmap|fact"><span>valid_Pmap</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_id0|fact"><span>Pmap_id0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_type_def|fact"><span>compSS_type_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id0|fact"><span>type.map_id0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.vvsubst_permute|fact"><span>type.vvsubst_permute</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.SSupp_natural|fact"><span>type.SSupp_natural</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f1</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f1</span></span></span><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_substT_bound|fact"><span>SSupp_type_substT_bound</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_substT_bound|fact"><span>SSupp_type_substT_bound</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.tvsubst_permutes|fact"><span>type.tvsubst_permutes</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_comp|fact"><span>subst_pat_comp</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_cong|fact"><span>subst_pat_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>uub</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>uub</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.subst|fact"><span>type.subst</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type_eq_substT_TVr|fact"><span>permute_type_eq_substT_TVr</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>nvars</span></span><span class="main"><span>:</span></span><span> </span><span>int</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="inner_numeral"><span>2</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>parameters</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span>
  P </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
  Pmap </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
  PFVarss </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1|const"><span class="const"><span>PFV_1</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2|const"><span class="const"><span>PFV_2</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span>
  </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  avoiding_sets </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  min_bound </span><span class="main"><span>=</span></span><span> </span><span>true</span><span class="main"><span>,</span></span><span>
  validity </span><span class="main"><span>=</span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>{</span></span><span>
    pred </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
    valid_Pmap </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_Pmap|fact"><span>valid_Pmap</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>THEN_ALL_NEW</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span>
  axioms </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span>
    Pmap_id0 </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>EVERY1</span><span> </span><span class="main"><span>[</span></span><span>
      </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>trans</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
      </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_id0|fact"><span>Pmap_id0</span></a><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
      </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span class="antiquote"><span>}</span></span></span></span><span>
    </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
    Pmap_comp0 </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_comp0|fact"><span>Pmap_comp0</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>REPEAT_DETERM</span><span> </span><span class="main"><span>(</span></span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    Pmap_cong_id </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_cong_id|fact"><span>Pmap_cong_id</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>REPEAT_DETERM</span><span> </span><span class="main"><span>(</span></span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>ORELSE</span><span> </span><span>Goal.assume_rule_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    PFVars_Pmaps </span><span class="main"><span>=</span></span><span> </span><span>replicate</span><span> </span><span class="entity"><span>nvars</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_Pmaps|fact"><span>PFV_Pmaps</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>REPEAT_DETERM</span><span> </span><span class="main"><span>(</span></span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    small_PFVarss </span><span class="main"><span>=</span></span><span> </span><span>replicate</span><span> </span><span class="entity"><span>nvars</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.small_PFVs|fact"><span>small_PFVs</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    small_avoiding_sets </span><span class="main"><span>=</span></span><span> </span><span>replicate</span><span> </span><span class="entity"><span>nvars</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="antiquote"><span>}</span></span></span></span><span>
      </span><span>THEN_ALL_NEW</span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>}</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Proof.context</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>tactic</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>MRBNF_Recursor.parameter</span></span><span class="main"><span>;</span></span><span>
›</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>fp_res</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>MRBNF_FP_Def_Sugar.fp_result_of</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>context</span></span><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_quoted"><span>"POPLmark_2B.term"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>quot</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span>quotient_fps </span><span class="entity"><span>fp_res</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span>TVar</span><span> </span><span class="main"><span>(</span></span><span>rev</span><span> </span><span class="main"><span>(</span></span><span>Term.add_tvarsT</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span>T </span><span class="entity"><span>quot</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
›</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>model</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>MRBNF_Recursor.mk_quotient_model</span></span><span> </span><span class="entity"><span>quot</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>vars</span></span><span> </span><span>~~</span><span> </span><span class="main"><span>[</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>{</span></span><span>
  binding </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>binding</span></span><span> "</span><span class="entity_def" id="POPLmark_2B.XXr_subst|const"><span class="entity_def" id="POPLmark_2B.XXl_subst|const"><span class="entity_def" id="POPLmark_2B.ff0_subst|const"><span class="entity_def" id="POPLmark_2B.f0_subst|const"><span class="entity_def" id="POPLmark_2B.pick02_subst|const"><span class="entity_def" id="POPLmark_2B.pick01_subst|const"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_subst|const"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_subst|const"><span class="entity_def" id="POPLmark_2B.PUmap_subst|const"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_subst|const"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_subst|const"><span class="entity_def" id="POPLmark_2B.Umap&apos;_subst|const"><span class="entity_def" id="POPLmark_2B.suitable2_subst|const"><span class="entity_def" id="POPLmark_2B.suitable1_subst|const"><span class="entity_def" id="POPLmark_2B.Uctor_subst_rec_subst|const"><span class="entity_def" id="POPLmark_2B.Umap_subst_rec_subst|const"><span class="entity_def" id="POPLmark_2B.UFVars_subst2_rec_subst|const"><span class="entity_def" id="POPLmark_2B.UFVars_subst1_rec_subst|const"><span class="entity_def" id="POPLmark_2B.validP_rec_subst|const"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_subst|const"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_subst|const"><span class="entity_def" id="POPLmark_2B.Pmap_rec_subst|const"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_subst|const"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_subst|const"><span>subst</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>"</span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
  Uctor </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
  validity </span><span class="main"><span>=</span></span><span> </span><span>NONE</span><span class="main"><span>,</span></span><span>
  axioms </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span>
    FVars_subsets </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>EVERY1</span><span> </span><span class="main"><span>[</span></span><span>
        </span><span>K</span><span> </span><span class="main"><span>(</span></span><span>Local_Defs.unfold0_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
        </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV_subset|fact"><span>FTV_subset</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
        </span><span>REPEAT_DETERM</span><span> </span><span>o</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span>
        </span><span>Goal.assume_rule_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span>
      </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>EVERY1</span><span> </span><span class="main"><span>[</span></span><span>
        </span><span>K</span><span> </span><span class="main"><span>(</span></span><span>Local_Defs.unfold0_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
        </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV_subset|fact"><span>FV_subset</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
        </span><span>REPEAT_DETERM</span><span> </span><span>o</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span>
        </span><span>Goal.assume_rule_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span>
      </span><span class="main"><span>]</span></span><span>
    </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
    permute_Uctor </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_Uctor|fact"><span>permute_Uctor</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>THEN_ALL_NEW</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>}</span></span><span>
›</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.term.rec_Uctor|fact"><span class="entity_def" id="POPLmark_2B.XXr_subst_def|fact"><span class="entity_def" id="POPLmark_2B.XXl_subst_def|fact"><span class="entity_def" id="POPLmark_2B.ff0_subst_def|fact"><span class="entity_def" id="POPLmark_2B.f0_subst_def|fact"><span class="entity_def" id="POPLmark_2B.pick02_subst_def|fact"><span class="entity_def" id="POPLmark_2B.pick01_subst_def|fact"><span class="entity_def" id="POPLmark_2B.f_subst.elims|fact"><span class="entity_def" id="POPLmark_2B.f_subst.induct|fact"><span class="entity_def" id="POPLmark_2B.f_subst.simps|fact"><span class="entity_def" id="POPLmark_2B.f_subst.pelims|fact"><span class="entity_def" id="POPLmark_2B.f_subst.cases|fact"><span class="entity_def" id="POPLmark_2B.f_subst.termination|fact"><span class="entity_def" id="POPLmark_2B.f_subst.pinduct|fact"><span class="entity_def" id="POPLmark_2B.f_subst.psimps|fact"><span class="entity_def" id="POPLmark_2B.f_subst_rel.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_subst_rel.simps|fact"><span class="entity_def" id="POPLmark_2B.f_subst_rel.induct|fact"><span class="entity_def" id="POPLmark_2B.f_subst_rel.cases|fact"><span class="entity_def" id="POPLmark_2B.f_subst_rel.intros|fact"><span class="entity_def" id="POPLmark_2B.f_subst_rel.mono|fact"><span class="entity_def" id="POPLmark_2B.f_subst_rel_def|fact"><span class="entity_def" id="POPLmark_2B.f_subst_graph.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_subst_graph.simps|fact"><span class="entity_def" id="POPLmark_2B.f_subst_graph.induct|fact"><span class="entity_def" id="POPLmark_2B.f_subst_graph.cases|fact"><span class="entity_def" id="POPLmark_2B.f_subst_graph.intros|fact"><span class="entity_def" id="POPLmark_2B.f_subst_graph.mono|fact"><span class="entity_def" id="POPLmark_2B.f_subst_graph_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_subst_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_subst_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap_subst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_subst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_subst_def|fact"><span class="entity_def" id="POPLmark_2B.Umap&apos;_subst_def|fact"><span class="entity_def" id="POPLmark_2B.suitable2_subst_def|fact"><span class="entity_def" id="POPLmark_2B.suitable1_subst_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor_subst_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.Umap_subst_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_subst2_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_subst1_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.validP_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.Pmap_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_subst_def|fact"><span class="entity_def" id="POPLmark_2B.term.rec_Uctor|thm"><span class="entity_def" id="POPLmark_2B.XXr_subst_def|thm"><span class="entity_def" id="POPLmark_2B.XXl_subst_def|thm"><span class="entity_def" id="POPLmark_2B.ff0_subst_def|thm"><span class="entity_def" id="POPLmark_2B.f0_subst_def|thm"><span class="entity_def" id="POPLmark_2B.pick02_subst_def|thm"><span class="entity_def" id="POPLmark_2B.pick01_subst_def|thm"><span class="entity_def" id="POPLmark_2B.f_subst.elims|thm"><span class="entity_def" id="POPLmark_2B.f_subst.induct|thm"><span class="entity_def" id="POPLmark_2B.f_subst.simps|thm"><span class="entity_def" id="POPLmark_2B.f_subst.pelims|thm"><span class="entity_def" id="POPLmark_2B.f_subst.cases|thm"><span class="entity_def" id="POPLmark_2B.f_subst.termination|thm"><span class="entity_def" id="POPLmark_2B.f_subst.pinduct|thm"><span class="entity_def" id="POPLmark_2B.f_subst.psimps|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel.simps|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel.induct|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel.cases|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel.mono|thm"><span class="entity_def" id="POPLmark_2B.f_subst_rel_def|thm"><span class="entity_def" id="POPLmark_2B.f_subst_graph.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_subst_graph.simps|thm"><span class="entity_def" id="POPLmark_2B.f_subst_graph.induct|thm"><span class="entity_def" id="POPLmark_2B.f_subst_graph.cases|thm"><span class="entity_def" id="POPLmark_2B.f_subst_graph.intros|thm"><span class="entity_def" id="POPLmark_2B.f_subst_graph.mono|thm"><span class="entity_def" id="POPLmark_2B.f_subst_graph_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_subst_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_subst_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap_subst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_subst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_subst_def|thm"><span class="entity_def" id="POPLmark_2B.Umap&apos;_subst_def|thm"><span class="entity_def" id="POPLmark_2B.suitable2_subst_def|thm"><span class="entity_def" id="POPLmark_2B.suitable1_subst_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor_subst_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.Umap_subst_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_subst2_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_subst1_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.validP_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.Pmap_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_subst_def|thm"><span class="entity_def" id="POPLmark_2B.XXr_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.XXl_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.ff0_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.f0_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.pick02_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.pick01_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.f_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.f_subst_rel_def|axiom"><span class="entity_def" id="POPLmark_2B.f_subst_sumC_def|axiom"><span class="entity_def" id="POPLmark_2B.f_subst_graph_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap&apos;_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable2_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable1_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor_subst_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap_subst_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_subst2_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_subst1_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.validP_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.Pmap_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_subst_def|axiom"><span class="entity_def" id="POPLmark_2B.f_subst|const"><span class="entity_def" id="POPLmark_2B.f_subst_dom|const"><span class="entity_def" id="POPLmark_2B.f_subst_rel|const"><span class="entity_def" id="POPLmark_2B.f_subst_sumC|const"><span class="entity_def" id="POPLmark_2B.f_subst_graph|const"><span>local_setup</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>lthy</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>qualify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>I</span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ress</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>lthy</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>MRBNF_Recursor.create_binding_recursor</span></span><span> </span><span class="entity"><span>qualify</span></span><span> </span><span class="entity"><span>fp_res</span></span><span> </span><span class="entity"><span>parameters</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>model</span></span><span class="main"><span>]</span></span><span> </span><span class="entity"><span>lthy</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>notes</span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span class="main"><span>[</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"rec_Uctor"</span></span><span class="main"><span>,</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span>Local_Defs.unfold0</span><span> </span><span class="entity"><span>lthy</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>o</span><span> </span><span class="main"><span>#</span></span><span>rec_Uctor</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ress</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>]</span></span><span> </span><span>|&gt;</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>thmN</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>thms</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>Binding.qualify</span><span> </span><span>true</span><span> </span><span class="inner_quoted"><span>"term"</span></span><span> </span><span class="main"><span>(</span></span><span>Binding.name</span><span> </span><span class="entity"><span>thmN</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="entity"><span>thms</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>lthy</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Local_Theory.notes</span><span> </span><span class="entity"><span>notes</span></span><span> </span><span class="entity"><span>lthy</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>print</span></span><span class="antiquote"><span>}</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span>ress</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>lthy</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
›</span></span><span>
</span><span class="keyword1"><span class="command"><span>print_theorems</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.subst_def|fact"><span class="entity_def" id="POPLmark_2B.subst_def|thm"><span class="entity_def" id="POPLmark_2B.subst_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.subst|const"><span>subst</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subst</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ff0_subst|const"><span class="const"><span>ff0_subst</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f1</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f2</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="POPLmark_2B.U1_pre|type"><span>U1_pre</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre|type"><span class="tconst"><span>term_pre</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_natural&apos;|fact"><span class="entity_def" id="POPLmark_2B.eta_natural&apos;|thm"><span>eta_natural'</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_set_empties|fact"><span class="entity_def" id="POPLmark_2B.eta_set_empties(5)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(4)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(3)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(2)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(1)|thm"><span>eta_set_empties</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre|const"><span class="const"><span>set1_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span>set3_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span>set4_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre|const"><span class="const"><span>set5_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre|const"><span class="const"><span>set6_term_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre|const"><span class="const"><span>set1_term_pre</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>a</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_bd_UNIV|fact"><span>term_pre.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre|const"><span class="const"><span>set1_term_pre</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_map|fact"><span>term_pre.set_map</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.swap_fresh|fact"><span>swap_fresh</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.bij_swap|fact"><span>bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.bij_swap|fact"><span>bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span>set3_term_pre</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>a</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_bd_UNIV|fact"><span>term_pre.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span>set3_term_pre</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_map|fact"><span>term_pre.set_map</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.swap_fresh|fact"><span>swap_fresh</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span>set4_term_pre</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>a</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_bd_UNIV|fact"><span>term_pre.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span>set4_term_pre</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_map|fact"><span>term_pre.set_map</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.swap_fresh|fact"><span>swap_fresh</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural&apos;|fact"><span>eta_natural'</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.image_const|fact"><span>image_const</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.all_cong1|fact"><span>all_cong1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_map|fact"><span>term_pre.set_map</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural&apos;|fact"><span>eta_natural'</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.forall_in_eq_UNIV|fact"><span>forall_in_eq_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.bd_card_order|fact"><span>term_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.card_of_ordIso_subst|fact"><span>card_of_ordIso_subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_transitive|fact"><span>ordIso_transitive</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.Card_order_iff_ordIso_card_of|fact"><span>Card_order_iff_ordIso_card_of</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.bd_card_order|fact"><span>term_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.ordIso_ordLess_False|fact"><span>ordIso_ordLess_False</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_bd|fact"><span>term_pre.set_bd</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.image_const|fact"><span>image_const</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.all_cong1|fact"><span>all_cong1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_map|fact"><span>term_pre.set_map</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural&apos;|fact"><span>eta_natural'</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.forall_in_eq_UNIV|fact"><span>forall_in_eq_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.bd_card_order|fact"><span>term_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.card_of_ordIso_subst|fact"><span>card_of_ordIso_subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_transitive|fact"><span>ordIso_transitive</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.Card_order_iff_ordIso_card_of|fact"><span>Card_order_iff_ordIso_card_of</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.bd_card_order|fact"><span>term_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.ordIso_ordLess_False|fact"><span>ordIso_ordLess_False</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set_bd|fact"><span>term_pre.set_bd</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34262..34267">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_VVr|fact"><span class="entity_def" id="POPLmark_2B.subst_VVr|thm"><span>subst_VVr</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_def|fact"><span>subst_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.rec_Uctor|fact"><span>term.rec_Uctor</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_34262..34267"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_set_empties|fact"><span>eta_set_empties</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty|fact"><span>Un_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_empty_left|fact"><span>Int_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_comp|fact"><span>term_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_id|fact"><span>term_pre.map_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_not_is_VVr|fact"><span class="entity_def" id="POPLmark_2B.subst_not_is_VVr|thm"><span>subst_not_is_VVr</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_35254..35261">f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35385..35396">empty_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre|const"><span class="const"><span>set3_term_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre|const"><span class="const"><span>set4_term_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35512..35519">noclash</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term|const"><span class="const"><span>noclash_term</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35546..35555">VVr_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_ctor|const"><span class="const"><span>term_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre|const"><span class="const"><span>subst_term_pre</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre|const"><span class="const"><span>map_term_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_def|fact"><span>subst_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35254..35261"><span>f_prems</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.rec_Uctor|fact"><span>term.rec_Uctor</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_1_def|fact"><span>PFV_1_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFV_2_def|fact"><span>PFV_2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35385..35396"><span>empty_prems</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35512..35519"><span>noclash</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_comp|fact"><span>term_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_id|fact"><span>term_pre.map_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35546..35555"><span>VVr_prems</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_36326..36331">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_simps|fact"><span class="entity_def" id="POPLmark_2B.subst_simps(8)|thm"><span class="entity_def" id="POPLmark_2B.subst_simps(7)|thm"><span class="entity_def" id="POPLmark_2B.subst_simps(6)|thm"><span class="entity_def" id="POPLmark_2B.subst_simps(5)|thm"><span class="entity_def" id="POPLmark_2B.subst_simps(4)|thm"><span class="entity_def" id="POPLmark_2B.subst_simps(3)|thm"><span class="entity_def" id="POPLmark_2B.subst_simps(2)|thm"><span class="entity_def" id="POPLmark_2B.subst_simps(1)|thm"><span>subst_simps</span></span></span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="free"><span>t1</span></span><span> </span><span class="free"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>XX</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>XX</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span>subst_pat</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr_def|fact"><span>Vr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_VVr|fact"><span>subst_VVr</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm_def|fact"><span>Lm_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_not_is_VVr|fact"><span>subst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap_def|fact"><span>Ap_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_not_is_VVr|fact"><span>subst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT_def|fact"><span>LmT_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_not_is_VVr|fact"><span>subst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT_def|fact"><span>ApT_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_not_is_VVr|fact"><span>subst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec_def|fact"><span>Rec_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_not_is_VVr|fact"><span>subst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj_def|fact"><span>Proj_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_not_is_VVr|fact"><span>subst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_def|fact"><span>Let_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_not_is_VVr|fact"><span>subst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36326..36331"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_term_def|fact"><span>noclash_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set1_term_pre_def|fact"><span>set1_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set6_term_pre_def|fact"><span>set6_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set2_term_pre_def|fact"><span>set2_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_term_pre_def|fact"><span>subst_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="comment1"><span>(* END OF MANUAL subst construction *)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.value.inducts|fact"><span class="entity_def" id="POPLmark_2B.value.simps|fact"><span class="entity_def" id="POPLmark_2B.value.induct|fact"><span class="entity_def" id="POPLmark_2B.value.cases|fact"><span class="entity_def" id="POPLmark_2B.value.intros|fact"><span class="entity_def" id="POPLmark_2B.value.mono|fact"><span class="entity_def" id="POPLmark_2B.value_def|fact"><span class="entity_def" id="POPLmark_2B.value.inducts|thm"><span class="entity_def" id="POPLmark_2B.value.simps|thm"><span class="entity_def" id="POPLmark_2B.value.induct|thm"><span class="entity_def" id="POPLmark_2B.value.cases|thm"><span class="entity_def" id="POPLmark_2B.value.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.value.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.value.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.value.mono|thm"><span class="entity_def" id="POPLmark_2B.value_def|thm"><span class="entity_def" id="POPLmark_2B.value_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity"><span class="entity_def" id="POPLmark_2B.value|const"><span>value</span></span></span><span>"</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>value</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>value</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>value</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>value</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42442..42447">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.value_equiv|fact"><span class="entity_def" id="POPLmark_2B.value_equiv|thm"><span>value_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>σ1</span></span><span> </span><span class="free"><span>σ2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.induct|fact"><span>value.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_42442..42447"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.intros|fact"><span>value.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum|type"><span>+</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.\&lt;Gamma&gt;|type"><span class="tconst"><span>Γ</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.wf_ctxt.inducts|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.simps|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.induct|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.cases|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.intros|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.mono|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_def|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.inducts|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.simps|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.induct|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.cases|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.mono|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt_def|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.wf_ctxt|const"><span>wf_ctxt</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⊢</span></span><span> _ </span><span class="keyword1"><span>OK</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>70</span><span class="main"><span>]</span></span><span> 100</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Nil|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Nil|thm"><span>wf_ctxt_Nil</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⊢</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="keyword1"><span>OK</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Cons|thm"><span>wf_ctxt_Cons</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="keyword1"><span>OK</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="keyword1"><span>OK</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>inductive_cases</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.wf_ctxtE|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxtE|thm"><span>wf_ctxtE</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_ConsE|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_ConsE|thm"><span>wf_ctxt_ConsE</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.proj_ctxt_def|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_def|thm"><span class="entity_def" id="POPLmark_2B.proj_ctxt_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.proj_ctxt|const"><span>proj_ctxt</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.\&lt;Gamma&gt;\&lt;^sub&gt;\&lt;tau&gt;|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>τ</sub></span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>proj_ctxt</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter|const"><span class="const"><span>List.map_filter</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><span>of</span></span><span> Inl </span><span class="bound"><span>X</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span class="const"><span>Some</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>X</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span class="const"><span>None</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ty_proj_ctxt|fact"><span class="entity_def" id="POPLmark_2B.wf_ty_proj_ctxt|thm"><span>wf_ty_proj_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_def|fact"><span>vimage_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_beta|fact"><span>split_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl_inject|fact"><span>Inl_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.Inr_Inl_False|fact"><span>Inr_Inl_False</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.exhaust_sel|fact"><span>prod.exhaust_sel</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_43513..43518">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_equiv|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_equiv|thm"><span>wf_ctxt_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>σ1</span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>σ1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.induct|fact"><span>wf_ctxt.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_43806..43818">wf_ctxt_Cons</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_43833..43834">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>σ1</span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.o_bij|fact"><span>o_bij</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_comp|fact"><span>sum.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>σ1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>σ2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43513..43518"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_id|fact"><span>sum.map_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_comp|fact"><span>sum.map_comp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt.wf_ctxt_Cons</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.set_map|fact"><span>list.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43806..43818"><span>wf_ctxt_Cons</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#offset_43833..43834"><span>1</span></a><span>"</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43513..43518"><span>assms</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_permute|fact"><span>type.FVars_permute</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43806..43818"><span>wf_ctxt_Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43806..43818"><span>wf_ctxt_Cons</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.pat_typing.inducts|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.simps|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.induct|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.cases|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.intros|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.mono|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_def|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.inducts|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.simps|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.induct|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.cases|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.mono|thm"><span class="entity_def" id="POPLmark_2B.pat_typing_def|thm"><span class="entity_def" id="POPLmark_2B.pat_typing_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.pat_typing|const"><span>pat_typing</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⊢</span></span><span> _ </span><span class="keyword1"><span>:</span></span><span> _ </span><span class="keyword1"><span>→</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>30</span><span class="main"><span>,</span></span><span>29</span><span class="main"><span>,</span></span><span>30</span><span class="main"><span>]</span></span><span> 30</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.pat_typing.PVr|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.PVr|thm"><span>PVr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⊢</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVr|const"><span class="const"><span>PVr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing.PRec|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.PRec|thm"><span>PRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span class="const"><span>List.concat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.typing.inducts|fact"><span class="entity_def" id="POPLmark_2B.typing.simps|fact"><span class="entity_def" id="POPLmark_2B.typing.induct|fact"><span class="entity_def" id="POPLmark_2B.typing.cases|fact"><span class="entity_def" id="POPLmark_2B.typing.intros|fact"><span class="entity_def" id="POPLmark_2B.typing.mono|fact"><span class="entity_def" id="POPLmark_2B.typing_def|fact"><span class="entity_def" id="POPLmark_2B.typing.inducts|thm"><span class="entity_def" id="POPLmark_2B.typing.simps|thm"><span class="entity_def" id="POPLmark_2B.typing.induct|thm"><span class="entity_def" id="POPLmark_2B.typing.cases|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(9)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(8)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(7)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(6)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(5)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(4)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.typing.mono|thm"><span class="entity_def" id="POPLmark_2B.typing_def|thm"><span class="entity_def" id="POPLmark_2B.typing_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.typing|const"><span>typing</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_ </span><span class="keyword1"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> _ </span><span class="keyword1"><span><span class="hidden">❙</span><b>:</b></span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>30</span><span class="main"><span>,</span></span><span>29</span><span class="main"><span>,</span></span><span>30</span><span class="main"><span>]</span></span><span> 30</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.typing.TVr|fact"><span class="entity_def" id="POPLmark_2B.typing.TVr|thm"><span>TVr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.LmT|fact"><span class="entity_def" id="POPLmark_2B.typing.LmT|thm"><span>LmT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Arr|const"><span>→</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.ApT|fact"><span class="entity_def" id="POPLmark_2B.typing.ApT|thm"><span>ApT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Arr|const"><span>→</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TLmT|fact"><span class="entity_def" id="POPLmark_2B.typing.TLmT|thm"><span>TLmT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span>  </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span class="const"><span>All</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TApT|fact"><span class="entity_def" id="POPLmark_2B.typing.TApT|thm"><span>TApT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span class="const"><span>All</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TSub|fact"><span class="entity_def" id="POPLmark_2B.typing.TSub|thm"><span>TSub</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TRec|fact"><span class="entity_def" id="POPLmark_2B.typing.TRec|thm"><span>TRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TProj|fact"><span class="entity_def" id="POPLmark_2B.typing.TProj|thm"><span>TProj</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TLet|fact"><span class="entity_def" id="POPLmark_2B.typing.TLet|thm"><span>TLet</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_simps|fact"><span>map_filter_simps</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_wf_ctxt|fact"><span class="entity_def" id="POPLmark_2B.typing_wf_ctxt|thm"><span>typing_wf_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_wf_ty|fact"><span class="entity_def" id="POPLmark_2B.typing_wf_ty|thm"><span>typing_wf_ty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_equiv|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_equiv|thm"><span>proj_ctxt_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_46140..46145">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.ty_proj_ctxt_equiv|fact"><span class="entity_def" id="POPLmark_2B.ty_proj_ctxt_equiv|thm"><span>ty_proj_ctxt_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T1</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_equiv|fact"><span>proj_ctxt_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_46140..46145"><span>assms</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.equiv|fact"><span>ty.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_46140..46145"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_type_fun_upd_bound&apos;|fact"><span class="entity_def" id="POPLmark_2B.SSupp_type_fun_upd_bound&apos;|thm"><span>SSupp_type_fun_upd_bound'</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cnotzero_UNIV|fact"><span>Cnotzero_UNIV</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_bound|fact"><span>SSupp_type_fun_upd_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_le|fact"><span>SSupp_type_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_triv|fact"><span>fun_upd_triv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_upd|fact"><span>fun_upd_upd</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.infinite_card_of_insert|fact"><span>infinite_card_of_insert</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_ordLess_trans|fact"><span>ordIso_ordLess_trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cnotzero_UNIV|fact"><span>Cnotzero_UNIV</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_bound|fact"><span>SSupp_type_fun_upd_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_le|fact"><span>SSupp_type_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_triv|fact"><span>fun_upd_triv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_upd|fact"><span>fun_upd_upd</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.infinite_card_of_insert|fact"><span>infinite_card_of_insert</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_ordLess_trans|fact"><span>ordIso_ordLess_trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Lm_inject|fact"><span class="entity_def" id="POPLmark_2B.Lm_inject|thm"><span>Lm_inject</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm_def|fact"><span>Lm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Conditionally_Complete_Lattices.html#Conditionally_Complete_Lattices.conditionally_complete_lattice_class.cSup_singleton|fact"><span>cSup_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_empty|fact"><span>Union_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_empty|fact"><span>image_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_Diff|fact"><span>empty_Diff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_id|fact"><span>prod.map_id</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type_pre.set2_type_pre_def|fact"><span>set2_type_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span>
    </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.LmT_inject|fact"><span class="entity_def" id="POPLmark_2B.LmT_inject|thm"><span>LmT_inject</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT_def|fact"><span>LmT_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Conditionally_Complete_Lattices.html#Conditionally_Complete_Lattices.conditionally_complete_lattice_class.cSup_singleton|fact"><span>cSup_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_empty|fact"><span>Union_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_empty|fact"><span>image_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_Diff|fact"><span>empty_Diff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_id|fact"><span>prod.map_id</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type_pre.set2_type_pre_def|fact"><span>set2_type_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span>
    </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Let_inject|fact"><span class="entity_def" id="POPLmark_2B.Let_inject|thm"><span>Let_inject</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="free"><span>u'</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="free"><span>u'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_def|fact"><span>Let_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.TT_inject0|fact"><span>term.TT_inject0</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set3_term_pre_def|fact"><span>set3_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set4_term_pre_def|fact"><span>set4_term_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.set5_term_pre_def|fact"><span>set5_term_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inverse|fact"><span>Abs_term_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Conditionally_Complete_Lattices.html#Conditionally_Complete_Lattices.conditionally_complete_lattice_class.cSup_singleton|fact"><span>cSup_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_empty|fact"><span>Union_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_empty|fact"><span>image_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_Diff|fact"><span>empty_Diff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.map_term_pre_def|fact"><span>map_term_pre_def</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_id|fact"><span>prod.map_id</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type_pre.set2_type_pre_def|fact"><span>set2_type_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term_pre.Abs_term_pre_inject|fact"><span>Abs_term_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.map_id|fact"><span>type.map_id</span></a><span>
    </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_50070..50075">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.in_context_equiv|fact"><span class="entity_def" id="POPLmark_2B.in_context_equiv|thm"><span>in_context_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_50070..50075"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_50361..50366">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_tusubst|fact"><span class="entity_def" id="POPLmark_2B.permute_tusubst|thm"><span>permute_tusubst</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.tvsubst_permutes|fact"><span>type.tvsubst_permutes</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_50361..50366"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr|fact"><span>SSupp_type_TVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_le|fact"><span>SSupp_type_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span class="quoted"><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_50361..50366"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_FFV|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_FFV|thm"><span>wf_ctxt_FFV</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_fresh_ty_extend|fact"><span class="entity_def" id="POPLmark_2B.typing_fresh_ty_extend|thm"><span>typing_fresh_ty_extend</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair_inject|fact"><span>Pair_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnE|fact"><span>UnE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_vimage_iff|fact"><span>subset_vimage_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimageD|fact"><span>vimageD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_FFV|fact"><span>wf_ctxt_FFV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_type_TVr_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_type_TVr_bound|thm"><span>SSupp_type_TVr_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr|fact"><span>SSupp_type_TVr</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term|thm"><span>SSupp_term</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr_def|fact"><span>Vr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_Vr_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_Vr_bound|thm"><span>SSupp_Vr_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|fact"><span>SSupp_term</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_51911..51916">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_eq_subst_term|fact"><span class="entity_def" id="POPLmark_2B.subst_eq_subst_term|thm"><span>subst_eq_subst_term</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_term|const"><span class="const"><span>tvsubst_term</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51911..51916"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound1</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51911..51916"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51911..51916"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound2</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51911..51916"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51911..51916"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51911..51916"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51911..51916"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Vr</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_TVr_bound|fact"><span>SSupp_type_TVr_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.subst|fact"><span>term.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Lm</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_TVr_bound|fact"><span>SSupp_type_TVr_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_TVr|fact"><span>substT_TVr</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Ap</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_TVr_bound|fact"><span>SSupp_type_TVr_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>LmT</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_TVr|fact"><span>IImsupp_type_TVr</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_TVr_bound|fact"><span>SSupp_type_TVr_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_TVr|fact"><span>substT_TVr</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>ApT</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>x2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_TVr_bound|fact"><span>SSupp_type_TVr_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_TVr|fact"><span>substT_TVr</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Rec</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Proj</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Let</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.subst|fact"><span>term.subst</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_Vr_upd_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_Vr_upd_bound|thm"><span>SSupp_Vr_upd_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr_def|fact"><span>Vr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.vvsubst_subst_pat|fact"><span class="entity_def" id="POPLmark_2B.vvsubst_subst_pat|thm"><span>vvsubst_subst_pat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"
  </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span>subst_pat</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>x1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span>subst_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_54724..54729">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f1 f2 g1 x
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.tvsubst_permutes|fact"><span>type.tvsubst_permutes</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54724..54729"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.vvsubst_permute|fact"><span>type.vvsubst_permute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54724..54729"><span>prems</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1-2</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_54946..54951">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_subst|fact"><span class="entity_def" id="POPLmark_2B.permute_subst|thm"><span>permute_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55379..55380">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.SSupp_natural|fact"><span>term.SSupp_natural</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55630..55631">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.SSupp_natural|fact"><span>type.SSupp_natural</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55876..55877">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="bound"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="bound"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_56112..56113">a</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55379..55380"><span>1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55630..55631"><span>2</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55876..55877"><span>3</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.tvsubst_permutes|fact"><span>type.tvsubst_permutes</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span>]</span></span><span>  
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>  
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound2</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound3</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set_bd_UNIV|fact"><span>type.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound5</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Lm</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56112..56113"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.IImsupp_natural|fact"><span>term.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.IImsupp_natural|fact"><span>term.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>LmT</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56112..56113"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.IImsupp_natural|fact"><span>term.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.IImsupp_natural|fact"><span>type.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_permute|fact"><span>type.FVars_permute</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>ApT</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56112..56113"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Let</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56112..56113"><span>a</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_map|fact"><span>term.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_Un_distrib|fact"><span>Int_Un_distrib</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.IImsupp_natural|fact"><span>term.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_permute|fact"><span>term.FVars_permute</span></a><span>
          </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_comp|fact"><span>subst_pat_comp</span></a><span>
        </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.vvsubst_subst_pat|fact"><span>vvsubst_subst_pat</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_supp_bound|fact"><span>imsupp_supp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54946..54951"><span>assms</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55379..55380"><span>1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55630..55631"><span>2</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55876..55877"><span>3</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_subst|fact"><span>permute_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_Vr|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_Vr|thm"><span>SSupp_term_Vr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr_def|fact"><span>Vr_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_Vr_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_Vr_bound|thm"><span>SSupp_term_Vr_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_fun_upd|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_fun_upd|thm"><span>SSupp_term_fun_upd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span class="main"><span>:=</span></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="const"><span>insert</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_fun_upd_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_fun_upd_bound|thm"><span>SSupp_term_fun_upd_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span class="main"><span>:=</span></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_fun_upd|fact"><span>SSupp_term_fun_upd</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cnotzero_UNIV|fact"><span>Cnotzero_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite.insertI|fact"><span>finite.insertI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.infinite_card_of_insert|fact"><span>infinite_card_of_insert</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_ordLess_trans|fact"><span>ordIso_ordLess_trans</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_type_TVr_upd_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_type_TVr_upd_bound|thm"><span>SSupp_type_TVr_upd_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_substT_def|fact"><span>tvVVr_substT_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_type_substT_def|fact"><span>tvη_type_substT_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr_def|fact"><span>TVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.emp_bound_cmin|fact"><span class="entity_def" id="POPLmark_2B.emp_bound_cmin|thm"><span>emp_bound_cmin</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_Vr|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_Vr(2)|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_Vr(1)|thm"><span>IImsupp_Vr</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd|thm"><span>IImsupp_fun_upd</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_substT_def|fact"><span>tvVVr_substT_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_type_substT_def|fact"><span>tvη_type_substT_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr_def|fact"><span>TVr_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span>
    </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_def|fact"><span>imsupp_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_permute|fact"><span>type.FVars_permute</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_60566..60571">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd_permute|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd_permute|thm"><span>IImsupp_fun_upd_permute</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_substT_def|fact"><span>tvVVr_substT_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_type_substT_def|fact"><span>tvη_type_substT_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr_def|fact"><span>TVr_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span>
    </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_def|fact"><span>imsupp_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_60566..60571"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_permute|fact"><span>type.FVars_permute</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_60950..60955">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_TVr|fact"><span class="entity_def" id="POPLmark_2B.permute_TVr|thm"><span>permute_TVr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_60950..60955"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61137..61142">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_Vr|fact"><span class="entity_def" id="POPLmark_2B.permute_Vr|thm"><span>permute_Vr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61137..61142"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61387..61392">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.fun_upd_comp_TVr|fact"><span class="entity_def" id="POPLmark_2B.fun_upd_comp_TVr|thm"><span>fun_upd_comp_TVr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61387..61392"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61646..61651">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.fun_upd_comp_Vr|fact"><span class="entity_def" id="POPLmark_2B.fun_upd_comp_Vr|thm"><span>fun_upd_comp_Vr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61646..61651"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61971..61976">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_tusubst_term_term|fact"><span class="entity_def" id="POPLmark_2B.permute_tusubst_term_term|thm"><span>permute_tusubst_term_term</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61971..61976"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_subst|fact"><span>permute_subst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_62320..62325">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_tusubst_term_type|fact"><span class="entity_def" id="POPLmark_2B.permute_tusubst_term_type|thm"><span>permute_tusubst_term_type</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62320..62325"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_subst|fact"><span>permute_subst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.All_eq_substT|fact"><span class="entity_def" id="POPLmark_2B.All_eq_substT|thm"><span>All_eq_substT</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_62693..62695">il</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span class="const"><span>All</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span class="const"><span>All</span></span></a><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="free"><span>T1'</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>Y</span></span><span class="main"><span>:=</span></span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T1'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_62823..62824">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_62902..62903">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>T1'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>T1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62693..62695"><span>il</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type_inject|fact"><span>type_inject</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62902..62903"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type_eq_substT_TVr&apos;|fact"><span>permute_type_eq_substT_TVr'</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fact</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_comp|fact"><span>substT_comp</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62823..62824"><span>f</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr|fact"><span>SSupp_type_TVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_le|fact"><span>SSupp_type_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_subset_bound|fact"><span>card_of_subset_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite.simps|fact"><span>finite.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr|fact"><span>SSupp_type_TVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_le|fact"><span>SSupp_type_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_subset_bound|fact"><span>card_of_subset_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite.simps|fact"><span>finite.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_substT_bound|fact"><span>SSupp_type_substT_bound</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>›</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62823..62824"><span>f</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.SSupp_comp_bound|fact"><span>type.SSupp_comp_bound</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
       </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62823..62824"><span>f</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_onD|fact"><span>id_onD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>  </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_63769..63774">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.in_context_equiv_Inr|fact"><span class="entity_def" id="POPLmark_2B.in_context_equiv_Inr|thm"><span>in_context_equiv_Inr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_63769..63774"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> y T'
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.exhaust|fact"><span>sum.exhaust</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>y</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_pointE|fact"><span>bij_pointE</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_bij|fact"><span>type.permute_bij</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_imageI|fact"><span>map_prod_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.extend_equiv_sum|fact"><span class="entity_def" id="POPLmark_2B.extend_equiv_sum|thm"><span>extend_equiv_sum</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.concat_equiv_sum|fact"><span class="entity_def" id="POPLmark_2B.concat_equiv_sum|thm"><span>concat_equiv_sum</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_64860..64865">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_equiv|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_equiv|thm"><span>pat_typing_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_64860..64865"><span>assms</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.vvsubst_permute|fact"><span>type.vvsubst_permute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_concat|fact"><span>map_concat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.intros|fact"><span>pat_typing.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_64860..64865"><span>assms</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_subst_pat|fact"><span>PV_subst_pat</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_64860..64865"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.HELP1|fact"><span class="entity_def" id="POPLmark_2B.HELP1|thm"><span>HELP1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>
     </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x2</span></span><span> </span><span class="bound"><span>x3</span></span><span class="main"><span>.</span></span><span>
         </span><span class="free"><span>Ra</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
              </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x3</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>XXa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TTa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span>
    </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ra</span></span><span> </span><span class="free"><span>Γ'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>XXa</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/String.html#String.string|type"><span class="tconst"><span>string</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset|type"><span class="tconst"><span>lfset</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>TTa</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_comp|fact"><span>prod.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_comp|fact"><span>sum.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident|fact"><span>sum.map_ident</span></a><span>
       </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_comp|fact"><span>type.permute_comp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_id|fact"><span>type.permute_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span>
       </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_map|fact"><span>lfset.rel_map</span></a><span>
       </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_dom|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_dom|thm"><span>pat_typing_dom</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> del_insts</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_subset_iff|fact"><span>image_subset_iff</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_concat_disjoint|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_concat_disjoint|thm"><span>wf_ctxt_concat_disjoint</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.disjoint|const"><span>⊥</span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.typing.equiv|fact"><span class="entity_def" id="POPLmark_2B.typing.strong_induct|fact"><span class="entity_def" id="POPLmark_2B.II&apos;_typing_def|fact"><span class="entity_def" id="POPLmark_2B.II_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm3_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm2_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm1_typing_def|fact"><span class="entity_def" id="POPLmark_2B.G_typing_def|fact"><span class="entity_def" id="POPLmark_2B.typing.equiv|thm"><span class="entity_def" id="POPLmark_2B.typing.strong_induct|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_typing_def|thm"><span class="entity_def" id="POPLmark_2B.II_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm3_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm2_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm1_typing_def|thm"><span class="entity_def" id="POPLmark_2B.G_typing_def|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.II_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm3_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm2_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm1_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.G_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.II&apos;_typing|const"><span class="entity_def" id="POPLmark_2B.II_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing|const"><span class="entity_def" id="POPLmark_2B.Tperm3_typing|const"><span class="entity_def" id="POPLmark_2B.Tperm2_typing|const"><span class="entity_def" id="POPLmark_2B.Tperm1_typing|const"><span class="entity_def" id="POPLmark_2B.G_typing|const"><span>binder_inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> typing
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_66709..66714">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> R B1 B2 Γ t T
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_simps|fact"><span>ex_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj_disj_distribL|fact"><span>conj_disj_distribL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_disj_distrib|fact"><span>ex_disj_distrib</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x T' Γ'
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' x T1 t T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>x</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.Un_bound|fact"><span>term.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>finite_set</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cinfinite_imp_infinite|fact"><span>cinfinite_imp_infinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inr|fact"><span>inj_Inr</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UNIV_cinfinite|fact"><span>lfset.UNIV_cinfinite</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm_inject|fact"><span>Lm_inject</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span>
          </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' t T' _ u
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' X T1 t T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T1</span></span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.Un_bound|fact"><span>type.Un_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.UN_bound|fact"><span>type.UN_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set_bd_UNIV|fact"><span>type.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>finite_set</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cinfinite_imp_infinite|fact"><span>cinfinite_imp_infinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inl|fact"><span>inj_Inl</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UNIV_cinfinite|fact"><span>lfset.UNIV_cinfinite</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT_inject|fact"><span>LmT_inject</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.cases|fact"><span>setl.cases</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_fresh_ty_extend|fact"><span>typing_fresh_ty_extend</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type_inject|fact"><span>type_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span>
            </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_cong_id|fact"><span>type.permute_cong_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
            </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.cases|fact"><span>setl.cases</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' t X T11 T12 T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T11</span></span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.Un_bound|fact"><span>type.Un_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.UN_bound|fact"><span>type.UN_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set_bd_UNIV|fact"><span>type.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>finite_set</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cinfinite_imp_infinite|fact"><span>cinfinite_imp_infinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inl|fact"><span>inj_Inl</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UNIV_cinfinite|fact"><span>lfset.UNIV_cinfinite</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT_inject|fact"><span>LmT_inject</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.cases|fact"><span>setl.cases</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr|fact"><span>SSupp_type_TVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_fun_upd_le|fact"><span>SSupp_type_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.card_of_Un_singl_ordLess_infinite|fact"><span>card_of_Un_singl_ordLess_infinite</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup.orderE|fact"><span>sup.orderE</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>T11</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.All_eq_substT|fact"><span>All_eq_substT</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type_inject|fact"><span>type_inject</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.inject|fact"><span>type.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' t T' p Δ u U
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.extend_fresh|fact"><span>extend_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> B</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> σ
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_Un_distrib|fact"><span>Int_Un_distrib</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_Un_distrib2|fact"><span>Int_Un_distrib2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_def|fact"><span>vimage_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>T'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_equiv|fact"><span>pat_typing_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>σ</span></span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66709..66714"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>σ</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> z U x
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>z</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_concat_disjoint|fact"><span>wf_ctxt_concat_disjoint</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_iff|fact"><span>Diff_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span>
                </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_eq|fact"><span>vimage_eq</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.Un_bound|fact"><span>type.Un_bound</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_minus_bound|fact"><span>card_of_minus_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.match.inducts|fact"><span class="entity_def" id="POPLmark_2B.match.simps|fact"><span class="entity_def" id="POPLmark_2B.match.induct|fact"><span class="entity_def" id="POPLmark_2B.match.cases|fact"><span class="entity_def" id="POPLmark_2B.match.intros|fact"><span class="entity_def" id="POPLmark_2B.match.mono|fact"><span class="entity_def" id="POPLmark_2B.match_def|fact"><span class="entity_def" id="POPLmark_2B.match.inducts|thm"><span class="entity_def" id="POPLmark_2B.match.simps|thm"><span class="entity_def" id="POPLmark_2B.match.induct|thm"><span class="entity_def" id="POPLmark_2B.match.cases|thm"><span class="entity_def" id="POPLmark_2B.match.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.match.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.match.mono|thm"><span class="entity_def" id="POPLmark_2B.match_def|thm"><span class="entity_def" id="POPLmark_2B.match_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.match|const"><span>match</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>σ</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.match.MPVr|fact"><span class="entity_def" id="POPLmark_2B.match.MPVr|thm"><span>MPVr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>σ</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>match</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVr|const"><span class="const"><span>PVr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.match.MPRec|fact"><span class="entity_def" id="POPLmark_2B.match.MPRec|thm"><span>MPRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>match</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>match</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.restrict_def|fact"><span class="entity_def" id="POPLmark_2B.restrict_def|thm"><span class="entity_def" id="POPLmark_2B.restrict_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="POPLmark_2B.restrict|const"><span>restrict</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_cong|fact"><span class="entity_def" id="POPLmark_2B.match_cong|thm"><span>match_cong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_restrict|fact"><span class="entity_def" id="POPLmark_2B.match_restrict|thm"><span>match_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_cong|fact"><span>match_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.step.inducts|fact"><span class="entity_def" id="POPLmark_2B.step.simps|fact"><span class="entity_def" id="POPLmark_2B.step.induct|fact"><span class="entity_def" id="POPLmark_2B.step.cases|fact"><span class="entity_def" id="POPLmark_2B.step.intros|fact"><span class="entity_def" id="POPLmark_2B.step.mono|fact"><span class="entity_def" id="POPLmark_2B.step_def|fact"><span class="entity_def" id="POPLmark_2B.step.inducts|thm"><span class="entity_def" id="POPLmark_2B.step.simps|thm"><span class="entity_def" id="POPLmark_2B.step.induct|thm"><span class="entity_def" id="POPLmark_2B.step.cases|thm"><span class="entity_def" id="POPLmark_2B.step.intros(10)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(9)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(8)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(7)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(6)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(5)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(4)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.step.mono|thm"><span class="entity_def" id="POPLmark_2B.step_def|thm"><span class="entity_def" id="POPLmark_2B.step_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.step|const"><span>step</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.step.ApLm|fact"><span class="entity_def" id="POPLmark_2B.step.ApLm|thm"><span>ApLm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ApTLmT|fact"><span class="entity_def" id="POPLmark_2B.step.ApTLmT|thm"><span>ApTLmT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.LetV|fact"><span class="entity_def" id="POPLmark_2B.step.LetV|thm"><span>LetV</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ProjRec|fact"><span class="entity_def" id="POPLmark_2B.step.ProjRec|thm"><span>ProjRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ApCong1|fact"><span class="entity_def" id="POPLmark_2B.step.ApCong1|thm"><span>ApCong1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ApCong2|fact"><span class="entity_def" id="POPLmark_2B.step.ApCong2|thm"><span>ApCong2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ApTCong|fact"><span class="entity_def" id="POPLmark_2B.step.ApTCong|thm"><span>ApTCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ProjCong|fact"><span class="entity_def" id="POPLmark_2B.step.ProjCong|thm"><span>ProjCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.RecCong|fact"><span class="entity_def" id="POPLmark_2B.step.RecCong|thm"><span>RecCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><span>⦃</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.LetCong|fact"><span class="entity_def" id="POPLmark_2B.step.LetCong|thm"><span>LetCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_empty|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_empty|thm"><span>proj_ctxt_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.canonical_closed_Arr|fact"><span class="entity_def" id="POPLmark_2B.canonical_closed_Arr|thm"><span>canonical_closed_Arr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T11</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Arr|const"><span>→</span></a></span><span> </span><span class="free"><span>T12</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>T11</span></span></span><span> </span><span class="quoted"><span class="free"><span>T12</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.canonical_closed_All|fact"><span class="entity_def" id="POPLmark_2B.canonical_closed_All|thm"><span>canonical_closed_All</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span class="const"><span>All</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T11</span></span><span> </span><span class="free"><span>T12</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>T11</span></span></span><span> </span><span class="quoted"><span class="free"><span>T12</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.canonical_closed_TRec|fact"><span class="entity_def" id="POPLmark_2B.canonical_closed_TRec|thm"><span>canonical_closed_TRec</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>XX</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="bound"><span>XX</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="bound"><span>XX</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="bound"><span>XX</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>TT</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order.trans|fact"><span>order.trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|fact"><span>list.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.distinct|fact"><span>term.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>37</span><span class="main"><span class="main"><span>,</span></span></span><span>39</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.inject|fact"><span>term.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.TRec_typingD|fact"><span class="entity_def" id="POPLmark_2B.TRec_typingD|thm"><span>TRec_typingD</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>XX</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>XX</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>XX</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>XX</span></span></span><span> </span><span class="quoted"><span class="free"><span>TT</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Least_Fixpoint.html#BNF_Least_Fixpoint.meta_spec2|fact"><span>meta_spec2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_spec|fact"><span>meta_spec</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.prod_in_Collect_iff|fact"><span>prod_in_Collect_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_unique_on_PV|fact"><span class="entity_def" id="POPLmark_2B.match_unique_on_PV|thm"><span>match_unique_on_PV</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVr_def|fact"><span>PVr_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVr_def|fact"><span>PVr_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat_inverse|fact"><span>Rep_pat_inverse</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_ex_match|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_ex_match|thm"><span>pat_typing_ex_match</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_76594..76598">PRec</span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_TRec|fact"><span>canonical_closed_TRec</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>,</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>XX</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_76672..76674">XX</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="bound"><span>v</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_76752..76758">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>SOME</span></a></span><span> </span><span class="bound"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup|const"><span class="const"><span>lflookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup|const"><span class="const"><span>lfrlookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup|const"><span class="const"><span>lflookup</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup|const"><span class="const"><span>lfrlookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76672..76674"><span>XX</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>σ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.MPRec|fact"><span>MPRec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.ord_eq_le_trans|fact"><span>ord_eq_le_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76672..76674"><span>XX</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> l P v'
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>v'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_lfin|fact"><span>lflookup_lfin</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TRec_typingD|fact"><span>TRec_typingD</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76672..76674"><span>XX</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_lfin|fact"><span>lflookup_lfin</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76672..76674"><span>XX</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_values|fact"><span>lfin_values</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_cong|fact"><span>match_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.ballI|fact"><span>ballI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76752..76758"><span>σ_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> σ x
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup|const"><span class="const"><span>lfrlookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_eq|fact"><span>lflookup_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_unique_on_PV|fact"><span>match_unique_on_PV</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.tfl_some|fact"><span>tfl_some</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup_eq|fact"><span>lfrlookup_eq</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76594..76598"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_eq|fact"><span>lflookup_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.MPVr|fact"><span>MPVr</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.progress|fact"><span class="entity_def" id="POPLmark_2B.progress|thm"><span>progress</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>t'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step|const"><span class="const"><span>step</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 2
     </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.intros|fact"><span>value.intros</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.intros|fact"><span>step.intros</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span>
     </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_Arr|fact"><span>canonical_closed_Arr</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_All|fact"><span>canonical_closed_All</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_TRec|fact"><span>canonical_closed_TRec</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.RecCong|fact"><span>RecCong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.ProjRec|fact"><span>ProjRec</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_ex_match|fact"><span>pat_typing_ex_match</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.intros|fact"><span>value.intros</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.intros|fact"><span>step.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.set_proj_ctxt_eq|fact"><span class="entity_def" id="POPLmark_2B.set_proj_ctxt_eq|thm"><span>set_proj_ctxt_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_permute|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_permute|thm"><span>wf_ctxt_extend_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Γ'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Γ'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ'</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_permute|fact"><span class="entity_def" id="POPLmark_2B.typing_permute|thm"><span>typing_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVr|fact"><span>TVr</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.LmT|fact"><span>LmT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.simps|fact"><span>list.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>15</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.ApT|fact"><span>ApT</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLmT|fact"><span>TLmT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.simps|fact"><span>list.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>15</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TApT|fact"><span>TApT</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.set_proj_ctxt_eq|fact"><span>set_proj_ctxt_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_permute|fact"><span>ty_permute</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.set_proj_ctxt_eq|fact"><span>set_proj_ctxt_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_permute|fact"><span>ty_permute</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>TRec</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>TProj</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>TLet</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_append|fact"><span>set_append</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_permute|fact"><span>wf_ctxt_extend_permute</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_concat|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_concat|thm"><span>proj_ctxt_concat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inl|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inl|thm"><span>proj_ctxt_extend_Inl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inr|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inr|thm"><span>proj_ctxt_extend_Inr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.dom_proj_ctxt|fact"><span class="entity_def" id="POPLmark_2B.dom_proj_ctxt|thm"><span>dom_proj_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.set_proj_ctxt|fact"><span class="entity_def" id="POPLmark_2B.set_proj_ctxt|thm"><span>set_proj_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_insert_middle|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_insert_middle|thm"><span>wf_ctxt_insert_middle</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_weaken1|fact"><span class="entity_def" id="POPLmark_2B.typing_weaken1|thm"><span>typing_weaken1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>U</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_80551..80554">LmT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_80551..80554"><span>LmT</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.LmT|fact"><span>typing.LmT</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_permute|fact"><span>typing_permute</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_80783..80787">TApT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_80783..80787"><span>TApT</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_weakening_extend|fact"><span>ty_weakening_extend</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.simps|fact"><span>typing.simps</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TApT|fact"><span>typing.TApT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_81031..81035">TLmT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81031..81035"><span>TLmT</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLmT|fact"><span>typing.TLmT</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_permute|fact"><span>typing_permute</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_81266..81270">TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81266..81270"><span>TSub</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_weakening_extend|fact"><span>ty_weakening_extend</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.simps|fact"><span>typing.simps</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_81611..81615">TLet</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonI|fact"><span>singletonI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81611..81615"><span>TLet</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_insert_middle|fact"><span>wf_ctxt_insert_middle</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_insert_middle|fact"><span>wf_ctxt_insert_middle</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonI|fact"><span>singletonI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup.orderE|fact"><span>sup.orderE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81611..81615"><span>TLet</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_permute|fact"><span>typing_permute</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_weaken|fact"><span class="entity_def" id="POPLmark_2B.typing_weaken|thm"><span>typing_weaken</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>xT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_weaken1|fact"><span>typing_weaken1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_narrowing|fact"><span class="entity_def" id="POPLmark_2B.typing_narrowing|thm"><span>typing_narrowing</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_82796..82799">TVr</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_82796..82799"><span>TVr</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.rev_image_eqI|fact"><span>rev_image_eqI</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair_inject|fact"><span>Pair_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_82796..82799"><span>TVr</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVr|fact"><span>typing.TVr</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_83148..83152">TRec</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_83148..83152"><span>TRec</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.rev_image_eqI|fact"><span>rev_image_eqI</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair_inject|fact"><span>Pair_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_83148..83152"><span>TRec</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_narrowing2|fact"><span>ty_narrowing2</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.append_Cons|fact"><span>append_Cons</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_narrowing2|fact"><span>ty_narrowing2</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken|thm"><span>wf_ctxt_weaken</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_notin|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_notin|thm"><span>wf_ctxt_notin</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvVVr_subst_term_Vr|fact"><span class="entity_def" id="POPLmark_2B.tvVVr_subst_term_Vr|thm"><span>tvVVr_subst_term_Vr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="const"><span>tvVVr_tvsubst_term</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_term_def|fact"><span>tvVVr_tvsubst_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr_def|fact"><span>Vr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_term_tvsubst_term_def|fact"><span>tvη_term_tvsubst_term_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_unary|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_unary|thm"><span>IImsupp_2_term_unary</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="const"><span>insert</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_subst|fact"><span class="entity_def" id="POPLmark_2B.typing_subst|thm"><span>typing_subst</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_84305..84308">TVr</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="skolem"><span>Δ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken|fact"><span>wf_ctxt_weaken</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_notin|fact"><span>wf_ctxt_notin</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_84305..84308"><span>TVr</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVr|fact"><span>typing.TVr</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_weaken|fact"><span>typing_weaken</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>LmT</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.append_Cons|fact"><span>append_Cons</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_fun_upd|fact"><span>SSupp_term_fun_upd</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.LmT|fact"><span>typing.LmT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>ApT</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.ApT|fact"><span>typing.ApT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLmT</span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.append_Cons|fact"><span>append_Cons</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLmT|fact"><span>typing.TLmT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TApT</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TApT|fact"><span>typing.TApT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken|fact"><span>wf_ctxt_weaken</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_map|fact"><span>lfset.rel_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TProj</span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>typing.TProj</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLet</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ'</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append_assoc|fact"><span>append_assoc</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_unary|fact"><span>IImsupp_2_term_unary</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Lm_inject_permute|fact"><span class="entity_def" id="POPLmark_2B.Lm_inject_permute|thm"><span>Lm_inject_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm_inject|fact"><span>Lm_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span>
     </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_permute|fact"><span>term.FVars_permute</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong_id|fact"><span>term.permute_cong_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong_id|fact"><span>term.permute_cong_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.LmT_inject_permute|fact"><span class="entity_def" id="POPLmark_2B.LmT_inject_permute|thm"><span>LmT_inject_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT_inject|fact"><span>LmT_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span>
     </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_permute|fact"><span>term.FVars_permute</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong_id|fact"><span>term.permute_cong_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong_id|fact"><span>term.permute_cong_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>Y</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_LmD|fact"><span class="entity_def" id="POPLmark_2B.typing_LmD|thm"><span>typing_LmD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Arr|const"><span>→</span></a></span><span> </span><span class="free"><span>U2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>S2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="bound"><span>S2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="bound"><span>S2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm|const"><span class="const"><span>Lm</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>S1</span></span></span><span> </span><span class="quoted"><span class="free"><span>s2</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>U1</span></span></span><span> </span><span class="quoted"><span class="free"><span>U2</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_86665..86668">LmT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_86665..86668"><span>LmT</span></a><span class="main"><span>(</span></span><span>1-4</span><span class="main"><span>,</span></span><span>6-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Lm_inject_permute|fact"><span>Lm_inject_permute</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_ArrEL|fact"><span>SA_ArrEL</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T2</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.equiv|fact"><span>typing.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="free"><span class="free"><span>x</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 4 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.simps|fact"><span>setr.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span>
          </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong_id|fact"><span>term.permute_cong_id</span></a><span>
          </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>Γ</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="skolem"><span>T2</span></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_LmTD|fact"><span class="entity_def" id="POPLmark_2B.typing_LmTD|thm"><span>typing_LmTD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><span>⟹</span></span><span>
   </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span>∀</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.All|const"><span>.</span></a></span><span> </span><span class="free"><span>U2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>S2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="bound"><span>S2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="bound"><span>S2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT|const"><span class="const"><span>LmT</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>S1</span></span></span><span> </span><span class="quoted"><span class="free"><span>s2</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>U1</span></span></span><span> </span><span class="quoted"><span class="free"><span>U2</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_87625..87629">TLmT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>1</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>S1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>11</span><span class="main"><span class="main"><span>,</span></span></span><span>12</span><span class="main"><span class="main"><span>,</span></span></span><span>4</span><span class="main"><span class="main"><span>,</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.rrename_swap_FFvars|fact"><span>rrename_swap_FFvars</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetD|fact"><span>subsetD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.inject|fact"><span>term.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>2</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_cong_id|fact"><span>type.permute_cong_id</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_eqD|fact"><span>fst_eqD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.simps|fact"><span>setl.simps</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimageI|fact"><span>vimageI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>13</span><span class="main"><span class="main"><span>,</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_88159..88160">3</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="skolem"><span>Y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_subset_conv|fact"><span>Diff_subset_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>15</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.le_sup_iff|fact"><span>le_sup_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_commute|fact"><span>sup_commute</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.set|fact"><span>type.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_88306..88307">4</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT</span></a><span class="main"><span>(</span></span><span>1-9</span><span class="main"><span>,</span></span><span>11-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.LmT_inject_permute|fact"><span>LmT_inject_permute</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type_inject|fact"><span>type_inject</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_AllEL|fact"><span>SA_AllEL</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.equiv|fact"><span>typing.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.simps|fact"><span>setr.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span>
          </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>5</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_AllER|fact"><span>SA_AllER</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.All_swapD|fact"><span>All_swapD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_sym|fact"><span>swap_sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_narrowing|fact"><span>typing_narrowing</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> S1 Z S2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Γ </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Z</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span></a></span><span> </span><span class="free"><span class="free"><span>U1</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.equiv|fact"><span>ty.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Z</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Z</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span></a></span><span> </span><span class="free"><span class="free"><span>U1</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_comp|fact"><span>type.permute_comp</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U1</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T2</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_cong|fact"><span>type.permute_cong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.permute_cong_id|fact"><span>type.permute_cong_id</span></a><span>
           </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#offset_88159..88160"><span>3</span></a><span>"</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_insert_right|fact"><span>Un_insert_right</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insertE|fact"><span>insertE</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87625..87629"><span>TLmT.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#offset_88306..88307"><span>4</span></a><span>"</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_pairs2|fact"><span>split_pairs2</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_FFVars|fact"><span>wf_FFVars</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty_fresh_extend|fact"><span>ty_fresh_extend</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_RecD|fact"><span class="entity_def" id="POPLmark_2B.typing_RecD|thm"><span>typing_RecD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>VV</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>VV</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>VV</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>VV</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TTa</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist_map_lfset|fact"><span>labelist_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.distinct|fact"><span>type.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>17</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.inject|fact"><span>type.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>TTa</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>TT</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>Γ'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>TTa</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>_</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.distinct|fact"><span>type.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>17</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>TTa</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.inject|fact"><span>type.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>TTa</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_well_scoped|fact"><span class="entity_def" id="POPLmark_2B.typing_well_scoped|thm"><span>typing_well_scoped</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TVr</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>LmT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_eq|fact"><span>vimage_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLmT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_eq|fact"><span>vimage_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TApT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>TSub</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TProj</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLet</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.ty_refl&apos;|fact"><span class="entity_def" id="POPLmark_2B.ty_refl&apos;|thm"><span>ty_refl'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_92288..92293">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_1_term_bound|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_1_term_bound|thm"><span>IImsupp_1_term_bound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_92288..92293"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UN_bound|fact"><span>lfset.UN_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_92629..92634">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_bound|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_bound|thm"><span>IImsupp_2_term_bound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_92629..92634"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UN_bound|fact"><span>lfset.UN_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_92969..92974">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FV_subst|fact"><span class="entity_def" id="POPLmark_2B.FV_subst|thm"><span>FV_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_92969..92974"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_bound|fact"><span>IImsupp_type_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_bound|fact"><span>IImsupp_1_term_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_bound|fact"><span>IImsupp_2_term_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.in_IImsupp|fact"><span>term.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_subst_pat|fact"><span>PV_subst_pat</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_iff|fact"><span>Diff_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_iff|fact"><span>Int_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_subst_pat|fact"><span>PV_subst_pat</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_subst_pat|fact"><span>PV_subst_pat</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.in_IImsupp|fact"><span>term.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_94201..94206">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FTV_subst|fact"><span class="entity_def" id="POPLmark_2B.FTV_subst|thm"><span>FTV_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_94201..94206"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_bound|fact"><span>IImsupp_type_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_bound|fact"><span>IImsupp_1_term_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_bound|fact"><span>IImsupp_2_term_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.ex_in_conv|fact"><span>ex_in_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.in_IImsupp|fact"><span>term.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_VVr|fact"><span>type.FVars_VVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.in_IImsupp|fact"><span>type.in_IImsupp</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTV_subst_pat|fact"><span>PTV_subst_pat</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_iff|fact"><span>Diff_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.IntI|fact"><span>IntI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTV_subst_pat|fact"><span>PTV_subst_pat</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_95441..95446">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_subst|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_subst|thm"><span>SSupp_term_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_95441..95446"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_VVr|fact"><span>subst_VVr</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_95811..95816">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_1_term_subst|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_1_term_subst|thm"><span>IImsupp_1_term_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_95811..95816"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst|fact"><span>SSupp_term_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>g</span></span></span><span> </span><span class="quoted"><span class="free"><span>h</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV_subst|fact"><span>FTV_subst</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_VVr|fact"><span>type.FVars_VVr</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_96453..96458">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_subst|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_term_subst|thm"><span>IImsupp_2_term_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_96453..96458"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst|fact"><span>SSupp_term_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>g</span></span></span><span> </span><span class="quoted"><span class="free"><span>h</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV_subst|fact"><span>FV_subst</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_96985..96990">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_subst_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_subst_bound|thm"><span>SSupp_term_subst_bound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>h</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst|fact"><span>SSupp_term_subst</span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_96985..96990"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Un_ordLess_infinite_Field|fact"><span>card_of_Un_ordLess_infinite_Field</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ </span><a class="entity_ref" href="POPLmark_2B.html#offset_96985..96990"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>3</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.cinfinite_def|fact"><span>cinfinite_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_97614..97619">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span class="entity_def" id="POPLmark_2B.SSupp_type_substT_bound&apos;|thm"><span>SSupp_type_substT_bound'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type|type"><span class="tconst"><span>type</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_substT|fact"><span>SSupp_type_substT</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_97614..97619"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Un_ordLess_infinite_Field|fact"><span>card_of_Un_ordLess_infinite_Field</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ </span><a class="entity_ref" href="POPLmark_2B.html#offset_97614..97619"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.cinfinite_def|fact"><span>cinfinite_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_98188..98193">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_comp|fact"><span class="entity_def" id="POPLmark_2B.subst_comp|thm"><span>subst_comp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>g'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_98188..98193"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
                 </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_bound|fact"><span>IImsupp_type_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_bound|fact"><span>IImsupp_1_term_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_bound|fact"><span>IImsupp_2_term_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_comp|fact"><span>substT_comp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span>
        </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_subst|fact"><span>IImsupp_2_term_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_subst|fact"><span>IImsupp_1_term_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_substT|fact"><span>IImsupp_type_substT</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_subst|fact"><span>IImsupp_2_term_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_comp|fact"><span>substT_comp</span></a><span>
        </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_subst|fact"><span>IImsupp_2_term_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_subst|fact"><span>IImsupp_1_term_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_substT|fact"><span>IImsupp_type_substT</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.in_IImsupp|fact"><span>type.in_IImsupp</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_subst|fact"><span>IImsupp_2_term_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV_subst|fact"><span>FV_subst</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_subst_pat|fact"><span>PV_subst_pat</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_comp|fact"><span>subst_pat_comp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI1|fact"><span>Int_Un_emptyI1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.in_IImsupp|fact"><span>term.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_100217..100222">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_cong|fact"><span class="entity_def" id="POPLmark_2B.subst_cong|thm"><span>subst_cong</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_100545..100549">cong</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g'</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_100217..100222"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_100545..100549"><span>cong</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term|const"><span class="const"><span>IImsupp_1_term</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term|const"><span class="const"><span>IImsupp_2_term</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type|const"><span class="const"><span>IImsupp_type</span></span></a><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_bound|fact"><span>IImsupp_type_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_bound|fact"><span>IImsupp_1_term_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_bound|fact"><span>IImsupp_2_term_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong0|fact"><span>lfset.map_cong0</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_cong|fact"><span>subst_pat_cong</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> h</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI1|fact"><span>Int_Un_emptyI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_cong|fact"><span>subst_pat_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI1|fact"><span>Int_Un_emptyI1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_Vr_comp|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_Vr_comp|thm"><span>SSupp_term_Vr_comp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.finite_FV|fact"><span class="entity_def" id="POPLmark_2B.finite_FV|thm"><span>finite_FV</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.finite_FTV|fact"><span class="entity_def" id="POPLmark_2B.finite_FTV|thm"><span>finite_FTV</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_pat_id|fact"><span class="entity_def" id="POPLmark_2B.subst_pat_id|thm"><span>subst_pat_id</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span>subst_pat</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span>subst_pat</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id|fact"><span>pat.map_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_102318..102323">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_term_eq_subst|fact"><span class="entity_def" id="POPLmark_2B.permute_term_eq_subst|thm"><span>permute_term_eq_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_102318..102323"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_Vr_comp|fact"><span>SSupp_term_Vr_comp</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type_eq_substT_TVr|fact"><span>permute_type_eq_substT_TVr</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong0|fact"><span>lfset.map_cong0</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_Vr_comp|fact"><span>SSupp_term_Vr_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_Vr_comp|fact"><span>SSupp_term_Vr_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span>
           </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_commute|fact"><span>Int_commute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_id_on|fact"><span>supp_id_on</span></a><span>
           </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> h</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_cong|fact"><span>subst_pat_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_102318..102323"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_cong|fact"><span>pat.map_cong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_restrict|fact"><span class="entity_def" id="POPLmark_2B.SSupp_restrict|thm"><span>SSupp_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect_mono_iff|fact"><span>Collect_mono_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_restrict_Vr|fact"><span class="entity_def" id="POPLmark_2B.SSupp_restrict_Vr|thm"><span>SSupp_restrict_Vr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect_mono|fact"><span>Collect_mono</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.inject|fact"><span>term.inject</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_104417..104422">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_term_eq_subst&apos;|fact"><span class="entity_def" id="POPLmark_2B.permute_term_eq_subst&apos;|thm"><span>permute_term_eq_subst'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type_eq_substT_TVr|fact"><span>permute_type_eq_substT_TVr</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong0|fact"><span>lfset.map_cong0</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_Vr_comp|fact"><span>SSupp_term_Vr_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_term_def|fact"><span>IImsupp_1_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_term_def|fact"><span>IImsupp_2_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_type_def|fact"><span>IImsupp_type_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_subst_pat|fact"><span>vvsubst_pat_subst_pat</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat_cong|fact"><span>subst_pat_cong</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> h</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_104417..104422"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_104417..104422"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.supp_swap_bound_cmin|fact"><span class="entity_def" id="POPLmark_2B.supp_swap_bound_cmin|thm"><span>supp_swap_bound_cmin</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span></a></span><span class="free"><span class="free"><span class="free"><span>x</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="free"><span class="free"><span class="free"><span>y</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span></a></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_restrict|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_restrict|thm"><span>SSupp_term_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_def|fact"><span>SSupp_term_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Int_bound2|fact"><span class="entity_def" id="POPLmark_2B.Int_bound2|thm"><span>Int_bound2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_subset_bound|fact"><span>card_of_subset_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.lattice_class.inf_sup_ord|fact"><span>inf_sup_ord</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_term_restrict_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_term_restrict_bound|thm"><span>SSupp_term_restrict_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term|type"><span class="tconst"><span>term</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term|const"><span class="const"><span>SSupp_term</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_type_restrict|fact"><span class="entity_def" id="POPLmark_2B.SSupp_type_restrict|thm"><span>SSupp_type_restrict</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type|const"><span class="const"><span>SSupp_type</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_def|fact"><span>SSupp_type_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FV_restrict|fact"><span class="entity_def" id="POPLmark_2B.FV_restrict|thm"><span>FV_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_FV|fact"><span class="entity_def" id="POPLmark_2B.match_FV|thm"><span>match_FV</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_permute|fact"><span class="entity_def" id="POPLmark_2B.match_permute|thm"><span>match_permute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>ρ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>ρ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>ρ</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ρ</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
   </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>ρ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>ρ</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span>
     </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_108594..108599">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.nonrep_lfmap|fact"><span class="entity_def" id="POPLmark_2B.nonrep_lfmap|thm"><span>nonrep_lfmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>PP</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_108850..108851">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.o_bij|fact"><span>o_bij</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp0|fact"><span>pat.map_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp1|fact"><span>inv_o_simp1</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id0|fact"><span>pat.map_id0</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp0|fact"><span>pat.map_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id0|fact"><span>pat.map_id0</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allI|fact"><span>allI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allE|fact"><span>allE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_equiv|fact"><span>lfin_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108850..108851"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -1</span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_equiv|fact"><span>lfin_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108850..108851"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allI|fact"><span>allI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allE|fact"><span>allE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|fact"><span class="dynamic"><span class="dynamic"><span>equiv</span></span></span></a><span class="main"><span class="main"><span>(</span></span></span><span>14</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108850..108851"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id|fact"><span>pat.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|fact"><span class="dynamic"><span class="dynamic"><span>equiv</span></span></span></a><span class="main"><span class="main"><span>(</span></span></span><span>14</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108850..108851"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_108594..108599"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id|fact"><span>pat.map_id</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_110396..110401">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.restrict_equiv|fact"><span class="entity_def" id="POPLmark_2B.restrict_equiv|thm"><span>restrict_equiv</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_110396..110401"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_110761..110766">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_equiv_aux|fact"><span class="entity_def" id="POPLmark_2B.match_equiv_aux|thm"><span>match_equiv_aux</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>MPVr</span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_110761..110766"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>MPRec</span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="skolem"><span>VV</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_110761..110766"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_111318..111323">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_equiv|fact"><span class="entity_def" id="POPLmark_2B.match_equiv|thm"><span>match_equiv</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_equiv_aux|fact"><span>match_equiv_aux</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_111318..111323"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp0|fact"><span>term.permute_comp0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id0|fact"><span>term.permute_id0</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_equiv_aux|fact"><span>match_equiv_aux</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_111318..111323"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_111926..111931">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Ball_value|fact"><span class="entity_def" id="POPLmark_2B.Ball_value|thm"><span>Ball_value</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span class="const"><span>Ball</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span class="const"><span>Ball</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_111926..111931"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|fact"><span class="dynamic"><span class="dynamic"><span>equiv</span></span></span></a><span class="main"><span class="main"><span>(</span></span></span><span>26</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_equiv|fact"><span>restrict_equiv</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_equiv|fact"><span>match_equiv</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.map_lfset_lfupdate|fact"><span>map_lfset_lfupdate</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.step.equiv|fact"><span class="entity_def" id="POPLmark_2B.step.strong_induct|fact"><span class="entity_def" id="POPLmark_2B.II&apos;_step_def|fact"><span class="entity_def" id="POPLmark_2B.II_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp22_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp21_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp12_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp11_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm2_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm1_step_def|fact"><span class="entity_def" id="POPLmark_2B.G_step_def|fact"><span class="entity_def" id="POPLmark_2B.step.equiv|thm"><span class="entity_def" id="POPLmark_2B.step.strong_induct|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_step_def|thm"><span class="entity_def" id="POPLmark_2B.II_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp22_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp21_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp12_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp11_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm2_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm1_step_def|thm"><span class="entity_def" id="POPLmark_2B.G_step_def|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_step_def|axiom"><span class="entity_def" id="POPLmark_2B.II_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp22_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp21_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp12_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp11_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm2_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm1_step_def|axiom"><span class="entity_def" id="POPLmark_2B.G_step_def|axiom"><span class="entity_def" id="POPLmark_2B.II&apos;_step|const"><span class="entity_def" id="POPLmark_2B.II_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp22_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp21_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp12_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp11_step|const"><span class="entity_def" id="POPLmark_2B.Tperm2_step|const"><span class="entity_def" id="POPLmark_2B.Tperm1_step|const"><span class="entity_def" id="POPLmark_2B.G_step|const"><span>binder_inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> step
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_112347..112352">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> R B1 B2 t u
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_simps|fact"><span>ex_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj_disj_distribL|fact"><span>conj_disj_distribL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_disj_distrib|fact"><span>ex_disj_distrib</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_112347..112352"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> v x T t
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>x</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_VVr|fact"><span>term.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV_subst|fact"><span>FV_subst</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term_eq_subst|fact"><span>permute_term_eq_subst</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id|fact"><span>supp_id</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_comp|fact"><span>subst_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_Vr_comp|fact"><span>SSupp_term_Vr_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_Vr_comp|fact"><span>SSupp_term_Vr_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> X T t T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV|const"><span class="const"><span>FTV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.FVars_bd_UNIVs|fact"><span>term.FVars_bd_UNIVs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_VVr|fact"><span>type.FVars_VVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.FVars_bd_UNIVs|fact"><span>type.FVars_bd_UNIVs</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTV_subst|fact"><span>FTV_subst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term_eq_subst|fact"><span>permute_term_eq_subst</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id|fact"><span>supp_id</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_comp|fact"><span>subst_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span>  </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_TVr_comp|fact"><span>SSupp_type_TVr_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> v σ p u
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.extend_fresh|fact"><span>extend_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> B</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ρ
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV_subst|fact"><span>FV_subst</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV_restrict|fact"><span>FV_restrict</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_FV|fact"><span>match_FV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>3</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>v</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_permute|fact"><span>match_permute</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term_eq_subst&apos;|fact"><span>permute_term_eq_subst'</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_comp|fact"><span>subst_comp</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_type_substT_bound&apos;|fact"><span>SSupp_type_substT_bound'</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.Un_bound|fact"><span>term.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> VV l v
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> t t' u
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> t t' p u
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.extend_fresh|fact"><span>extend_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> B</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t'</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ρ
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_permute|fact"><span>match_permute</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_permute|fact"><span>match_permute</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.Un_bound|fact"><span>term.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.set_bd_UNIV|fact"><span>term.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ty_extend_substT|fact"><span class="entity_def" id="POPLmark_2B.wf_ty_extend_substT|thm"><span>wf_ty_extend_substT</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_map_prod|fact"><span>fst_map_prod</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_iff|fact"><span>insert_iff</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ty_closed_in|fact"><span class="entity_def" id="POPLmark_2B.wf_ty_closed_in|thm"><span>wf_ty_closed_in</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>∈</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.ty_substT|fact"><span class="entity_def" id="POPLmark_2B.ty_substT|thm"><span>ty_substT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.strong_induct|fact"><span>ty.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>SA_Top</span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_Top|fact"><span>ty.SA_Top</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_extend_substT|fact"><span>wf_ty_extend_substT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_image|fact"><span>image_image</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_118194..118206">SA_Refl_TVar</span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118194..118206"><span>SA_Refl_TVar.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_extend_substT|fact"><span>wf_ty_extend_substT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_image|fact"><span>image_image</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span>
      </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_Refl_TVar|fact"><span>ty.SA_Refl_TVar</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_118476..118489">SA_Trans_TVar</span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_118506..118508">ok</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118476..118489"><span>SA_Trans_TVar.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.wf_concatD|fact"><span>wf_concatD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_118638..118642">True</span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118476..118489"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118476..118489"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.context_determ|fact"><span>context_determ</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_118763..118765">IH</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118476..118489"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118476..118489"><span>SA_Trans_TVar</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118506..118508"><span>ok</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_TVr|fact"><span>substT_TVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118476..118489"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118763..118765"><span>IH</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_weakening|fact"><span>ty_weakening</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118638..118642"><span>True</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_119217..119222">False</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118506..118508"><span>ok</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>∈</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>U</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_TVr|fact"><span>substT_TVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_closed_in|fact"><span>wf_ty_closed_in</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118476..118489"><span>SA_Trans_TVar</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119217..119222"><span>False</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.set_map|fact"><span>list.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_imageI|fact"><span>map_prod_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_append|fact"><span>set_append</span></a><span>
          </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_Trans_TVar|fact"><span>ty.SA_Trans_TVar</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>SA_All</span><span> </span><span class="skolem"><span>T<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>S<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>S<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>T<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.subst|fact"><span>type.subst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_fun_upd|fact"><span>IImsupp_fun_upd</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>SA_TRec</span><span> </span><span class="skolem"><span>YY</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_TRec|fact"><span>ty.SA_TRec</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_extend_substT|fact"><span>wf_ty_extend_substT</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_image|fact"><span>image_image</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span>
        </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_map|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_map|thm"><span>proj_ctxt_map</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_map|fact"><span>filter_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_beta|fact"><span>split_beta</span></a><span>
    </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_cong|fact"><span>list.map_cong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_cong|fact"><span>filter_cong</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_substT_aux|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_substT_aux|thm"><span>wf_ctxt_extend_substT_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 4 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_substT|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_substT|thm"><span>wf_ctxt_extend_substT</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_substT_aux|fact"><span>wf_ctxt_extend_substT_aux</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken_ext|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken_ext|thm"><span>wf_ctxt_weaken_ext</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_closed|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_closed|thm"><span>wf_ctxt_closed</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.substT_substT|fact"><span class="entity_def" id="POPLmark_2B.substT_substT|thm"><span>substT_substT</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TFV|const"><span class="const"><span>TFV</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span>
   </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
   </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_comp|fact"><span>substT_comp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_type_substT_bound|fact"><span>SSupp_type_substT_bound</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span>
       </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_TVr|fact"><span>substT_TVr</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_substT|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_substT|thm"><span>pat_typing_substT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.subst_pat|const"><span class="const"><span>subst_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span>
    </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_apply|fact"><span>fun_upd_apply</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_concat|fact"><span>map_concat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span>
     </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_subst_pat|fact"><span>PV_subst_pat</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.intros|fact"><span>pat_typing.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_substT|fact"><span class="entity_def" id="POPLmark_2B.typing_substT|thm"><span>typing_substT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_121977..121980">TVr</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_cong|fact"><span>substT_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT_TVr|fact"><span>substT_TVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_closed|fact"><span>wf_ctxt_closed</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_notin|fact"><span>wf_ctxt_notin</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken_ext|fact"><span>wf_ctxt_weaken_ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_121977..121980"><span>TVr</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_substT|fact"><span>wf_ctxt_extend_substT</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVr|fact"><span>typing.TVr</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLmT</span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_fun_upd|fact"><span>IImsupp_fun_upd</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLmT|fact"><span>typing.TLmT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_122427..122431">TApT</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>Z</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T11</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_122427..122431"><span>TApT.hyps</span></a><span class="main"><span>(</span></span><span>12</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?XP</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_122427..122431"><span>TApT</span></a><span class="main"><span>(</span></span><span>11</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_122427..122431"><span>TApT</span></a><span class="main"><span class="main"><span>(</span></span></span><span>13</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_122427..122431"><span>TApT</span></a><span class="main"><span>(</span></span><span>12</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ty_substT|fact"><span>ty_substT</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="POPLmark_2B.html#offset_122427..122431"><span>TApT</span></a><span class="main"><span class="main"><span>(</span></span></span><span>13</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="var"><span>?XP</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span>
    </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>Z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.substT|const"><span class="const"><span>substT</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>T12</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_fun_upd|fact"><span>IImsupp_fun_upd</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_122427..122431"><span>TApT</span></a><span class="main"><span>(</span></span><span>1-9</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TApT|fact"><span>typing.TApT</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.subst|fact"><span>type.subst</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_substT|fact"><span>FVars_substT</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.set_proj_ctxt|fact"><span>set_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_122427..122431"><span>TApT</span></a><span class="main"><span>(</span></span><span>1-9</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.substT_substT|fact"><span>substT_substT</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ty_substT|fact"><span>ty_substT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_substT|fact"><span>wf_ctxt_extend_substT</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_map|fact"><span>lfset.rel_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TProj</span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>typing.TProj</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLet</span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ'</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_substT|fact"><span>pat_typing_substT</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_distinct|fact"><span class="entity_def" id="POPLmark_2B.pat_distinct(2)|thm"><span class="entity_def" id="POPLmark_2B.pat_distinct(1)|thm"><span>pat_distinct</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVr|const"><span class="const"><span>PVr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVr|const"><span class="const"><span>PVr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVr_def|fact"><span>PVr_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.restrict_empty|fact"><span class="entity_def" id="POPLmark_2B.restrict_empty|thm"><span>restrict_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.subst_id|fact"><span class="entity_def" id="POPLmark_2B.subst_id|thm"><span>subst_id</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.strong_induct|fact"><span>term.strong_induct</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong_id|fact"><span>lfset.map_cong_id</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.labels_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.labels_lfdelete|thm"><span>labels_lfdelete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.distinct_labelist|fact"><span class="entity_def" id="POPLmark_2B.distinct_labelist|thm"><span>distinct_labelist</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span class="const"><span>distinct</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist_def|fact"><span>labelist_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.labelist_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.labelist_lfdelete|thm"><span>labelist_lfdelete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter|const"><span class="const"><span>filter</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>(≠)</span></a></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct_remove1_removeAll|fact"><span>distinct_remove1_removeAll</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist_def|fact"><span>labelist_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.removeAll_filter_not_eq|fact"><span>removeAll_filter_not_eq</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.linorder_class.sorted_list_of_set.sorted_key_list_of_set_remove|fact"><span>sorted_list_of_set.sorted_key_list_of_set_remove</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.lfin_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.lfin_lfdelete|thm"><span>lfin_lfdelete</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l'</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.lfin_lfdeleteI|fact"><span class="entity_def" id="POPLmark_2B.lfin_lfdeleteI|thm"><span>lfin_lfdeleteI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>l'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.nonrep_PRec_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.nonrep_PRec_lfdelete|thm"><span>nonrep_PRec_lfdelete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>PP</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_def|fact"><span>PV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_125102..125107">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_subst|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_subst|thm"><span>pat_typing_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_125102..125107"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>U</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>PVr</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_subst|fact"><span>typing_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span></span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>σ</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a></span></a><span> </span><span class="bound"><span class="bound"><span>σ</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>PRec</span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_RecD|fact"><span>typing_RecD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_125874..125879">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> VV
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_125874..125879"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>,</span></span><span>5-</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>TT</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>PP</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>VV</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_126182..126187">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> l ls TT PP VV u
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>VV</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4-</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> T P v
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>" </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span class="const"><span>List.concat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="skolem"><span>U</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>l</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span class="const"><span>List.concat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>ls</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>v</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>U</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span>(</span></span><span>4-</span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_weaken|fact"><span>typing_weaken</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken_ext|fact"><span>wf_ctxt_weaken_ext</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>TT</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>PP</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst|const"><span class="const"><span>subst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Vr|const"><span class="const"><span>Vr</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TVr|const"><span class="const"><span>TVr</span></span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>VV</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4-</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.distinct_labelist|fact"><span>distinct_labelist</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>TT</span></span></span><span class="main"><span>]</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_id_conv|fact"><span>filter_id_conv</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_127482..127487">prems</span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127482..127487"><span>prems</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_values|fact"><span>lfin_values</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_comp|fact"><span>subst_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>3</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>t</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="const"><span>typing</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="bound"><span class="bound"><span>t</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type_eq_substT_TVr|fact"><span>permute_type_eq_substT_TVr</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>5</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_subst_bound|fact"><span>SSupp_term_subst_bound</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>5</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x P' l'
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_cong|fact"><span>subst_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_id|fact"><span>subst_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>l'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_FV|fact"><span>match_FV</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>σ</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>v</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_iff|fact"><span>Union_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x P' l'
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>l'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdeleteI|fact"><span>lfin_lfdeleteI</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.subst_simps|fact"><span>subst_simps</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_PRec|fact"><span>PV_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_term_restrict|fact"><span>SSupp_term_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126182..126187"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.preservation|fact"><span class="entity_def" id="POPLmark_2B.preservation|thm"><span>preservation</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step|const"><span class="const"><span>step</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_130607..130610">ApT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_130607..130610"><span>ApT</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span>1</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>,</span></span><span>4-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Ap|const"><span class="const"><span>Ap</span></span></a><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.strong_induct|fact"><span>step.strong_induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> v x T t
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_LmD|fact"><span>typing_LmD</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_subst|fact"><span>typing_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span></span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_131166..131170">TApT</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_131166..131170"><span>TApT</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>,</span></span><span>1-7</span><span class="main"><span>,</span></span><span>9</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ApT|const"><span class="const"><span>ApT</span></span></a><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>T2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>X</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T11</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T12</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.strong_induct|fact"><span>step.strong_induct</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y T t U
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_LmTD|fact"><span>typing_LmTD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?U1.0</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>T11</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> </span><span class="var"><span>?U2.0</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>3</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.inject|fact"><span>type.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.All_eq_substT|fact"><span>All_eq_substT</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>Y</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_type|const"><span class="const"><span>permute_type</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.type.inject|fact"><span>type.inject</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_substT|fact"><span>typing_substT</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span></span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_twist|fact"><span>fun_upd_twist</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.cases|fact"><span>step.cases</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span>  </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfin_lfupdate|fact"><span>lfin_lfupdate</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfupdate_idle|fact"><span>lfupdate_idle</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.map_lfset_lfupdate|fact"><span>map_lfset_lfupdate</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_132289..132294">TProj</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_132289..132294"><span>TProj</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.cases|fact"><span>step.cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>typing.TProj</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_RecD|fact"><span>typing_RecD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_132586..132590">TLet</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_132586..132590"><span>TLet</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>,</span></span><span>1-6</span><span class="main"><span>,</span></span><span>8-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.strong_induct|fact"><span>step.strong_induct</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> σ p' u' ρ
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.rev_mp|fact"><span>rev_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.ex_avoiding_bij|fact"><span>ex_avoiding_bij</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FV|const"><span class="const"><span>FV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PV|const"><span class="const"><span>PV</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>List.finite_set</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span>
            </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inr|fact"><span>inj_Inr</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ρ'
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ</span></span><span> </span><span class="skolem"><span>p'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span> </span><span class="skolem"><span>p'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_term|const"><span class="const"><span>permute_term</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span> </span><span class="skolem"><span>u'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_subst|fact"><span>pat_typing_subst</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_equiv|fact"><span>pat_typing_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ'</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.equiv|fact"><span>typing.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_comp|fact"><span>term.permute_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_id|fact"><span>term.permute_id</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_ident_strong|fact"><span>prod.map_ident_strong</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_id_on|fact"><span>imsupp_id_on</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>SystemFSub.dom</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_inv|fact"><span>imsupp_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.term.permute_cong|fact"><span>term.permute_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_vvsubst_pat|fact"><span>PV_vvsubst_pat</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_132586..132590"><span>TLet.fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span>
              </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.intros|fact"><span>setr.intros</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_cong|fact"><span>pat.map_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PV_vvsubst_pat|fact"><span>PV_vvsubst_pat</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_132586..132590"><span>TLet.fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span>
              </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.intros|fact"><span>setr.intros</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.cases|fact"><span>step.cases</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>