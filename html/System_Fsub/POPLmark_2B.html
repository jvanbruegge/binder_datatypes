<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory POPLmark_2B</title>
</head>


<body>
<div class="head">
<h1>Theory POPLmark_2B</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="POPLmark_2B.html"><span>POPLmark_2B</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Pattern.html"><span>Pattern</span></a><span> </span><span class="quoted"><span>"</span><a href="HOL-Library.List_Lexorder.html"><span>HOL-Library.List_Lexorder</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="HOL-Library.Char_ord.html"><span>HOL-Library.Char_ord</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.trm.subst|fact"><span class="entity_def" id="POPLmark_2B.trm.inject|fact"><span class="entity_def" id="POPLmark_2B.trm.distinct|fact"><span class="entity_def" id="POPLmark_2B.trm.permute|fact"><span class="entity_def" id="POPLmark_2B.trm.map|fact"><span class="entity_def" id="POPLmark_2B.trm.set|fact"><span class="entity_def" id="POPLmark_2B.trm.induct|fact"><span class="entity_def" id="POPLmark_2B.trm.fresh_induct|fact"><span class="entity_def" id="POPLmark_2B.trm.strong_induct|fact"><span class="entity_def" id="POPLmark_2B.trm.IImsupp_natural|fact"><span class="entity_def" id="POPLmark_2B.trm.IImsupp_Diff|fact"><span class="entity_def" id="POPLmark_2B.trm.not_isVVr_free|fact"><span class="entity_def" id="POPLmark_2B.trm.tvsubst_permutes|fact"><span class="entity_def" id="POPLmark_2B.trm.tvsubst_cctor_not_isVVr|fact"><span class="entity_def" id="POPLmark_2B.trm.tvsubst_VVr|fact"><span class="entity_def" id="POPLmark_2B.trm.FVars_VVr|fact"><span class="entity_def" id="POPLmark_2B.trm.eta_set_empties|fact"><span class="entity_def" id="POPLmark_2B.trm.SSupp_comp_bound|fact"><span class="entity_def" id="POPLmark_2B.trm.SSupp_comp_rename_bound|fact"><span class="entity_def" id="POPLmark_2B.trm.SSupp_natural|fact"><span class="entity_def" id="POPLmark_2B.trm.rrename_VVr|fact"><span class="entity_def" id="POPLmark_2B.trm.is_VVr_rrename|fact"><span class="entity_def" id="POPLmark_2B.trm.in_IImsupp|fact"><span class="entity_def" id="POPLmark_2B.trm.compSS_cong_id|fact"><span class="entity_def" id="POPLmark_2B.trm.compSS_comp0|fact"><span class="entity_def" id="POPLmark_2B.trm.SSupp_VVr_bound|fact"><span class="entity_def" id="POPLmark_2B.trm.SSupp_VVr_empty|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvXXr_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvXXl_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvff0_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvf0_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvpick02_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvpick01_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.elims|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.pelims|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.termination|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.pinduct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.psimps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.intros|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.mono|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel_def|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.intros|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.mono|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph_def|fact"><span class="entity_def" id="POPLmark_2B.tvPUmap&apos;_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUctor&apos;_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvPUmap_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;2_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;1_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUmap&apos;_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvsuitable2_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvsuitable1_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_trm_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUmap_tvsubst_trm_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_trm2_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_trm1_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvvalidP_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvavoiding_set2_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvavoiding_set1_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvPmap_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars2_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars1_rec_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars2_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvPFVars1_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvvalid_P_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvPmap_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvcompSS_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvasVVr_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvisVVr_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_def|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm_def|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.Let_def|fact"><span class="entity_def" id="POPLmark_2B.Proj_def|fact"><span class="entity_def" id="POPLmark_2B.Rec_def|fact"><span class="entity_def" id="POPLmark_2B.TApp_def|fact"><span class="entity_def" id="POPLmark_2B.TAbs_def|fact"><span class="entity_def" id="POPLmark_2B.App_def|fact"><span class="entity_def" id="POPLmark_2B.Abs_def|fact"><span class="entity_def" id="POPLmark_2B.Var_def|fact"><span class="entity_def" id="POPLmark_2B.trm.set_ctor_simps|fact"><span class="entity_def" id="POPLmark_2B.trm.vvsubst_permute|fact"><span class="entity_def" id="POPLmark_2B.trm.vvsubst_cctor|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_set_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_map_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_id|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_mono|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_map|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_flip|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_cong|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_le_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.trm.UN_bound|fact"><span class="entity_def" id="POPLmark_2B.trm.Un_bound|fact"><span class="entity_def" id="POPLmark_2B.trm.supp_comp_bound|fact"><span class="entity_def" id="POPLmark_2B.trm.UNIV_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.trm.natLeq_bound|fact"><span class="entity_def" id="POPLmark_2B.trm.set_bd|fact"><span class="entity_def" id="POPLmark_2B.trm.set_map|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_transp|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_symp|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_reflp|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_refl_strong|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_refl|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_cong|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_mono|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_map|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_flip|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_eq_onp|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_eq|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_compp_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_compp|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_set|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_True|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_rel|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_map|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_cong|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_mono|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.trm.map_ident|fact"><span class="entity_def" id="POPLmark_2B.trm.map_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm.map_id0|fact"><span class="entity_def" id="POPLmark_2B.trm.map_id|fact"><span class="entity_def" id="POPLmark_2B.trm.map_cong_pred|fact"><span class="entity_def" id="POPLmark_2B.trm.map_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.trm.map_cong_id|fact"><span class="entity_def" id="POPLmark_2B.trm.map_cong|fact"><span class="entity_def" id="POPLmark_2B.trm.map_cong0|fact"><span class="entity_def" id="POPLmark_2B.trm.map_comp|fact"><span class="entity_def" id="POPLmark_2B.trm.inj_map_strong|fact"><span class="entity_def" id="POPLmark_2B.trm.inj_map|fact"><span class="entity_def" id="POPLmark_2B.trm.in_rel|fact"><span class="entity_def" id="POPLmark_2B.trm.wit|fact"><span class="entity_def" id="POPLmark_2B.trm.var_regular|fact"><span class="entity_def" id="POPLmark_2B.trm.var_large|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_set|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_OO_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_eq|fact"><span class="entity_def" id="POPLmark_2B.trm.mr_in_rel|fact"><span class="entity_def" id="POPLmark_2B.trm.set_bd_UNIV|fact"><span class="entity_def" id="POPLmark_2B.trm.set_map0|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.trm.map_comp0|fact"><span class="entity_def" id="POPLmark_2B.trm.in_mono|fact"><span class="entity_def" id="POPLmark_2B.trm.in_bd|fact"><span class="entity_def" id="POPLmark_2B.trm.collect_set_map|fact"><span class="entity_def" id="POPLmark_2B.trm.bd_Cnotzero|fact"><span class="entity_def" id="POPLmark_2B.trm.bd_Cinfinite|fact"><span class="entity_def" id="POPLmark_2B.trm.bd_Card_order|fact"><span class="entity_def" id="POPLmark_2B.trm.bd_regularCard|fact"><span class="entity_def" id="POPLmark_2B.trm.bd_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.trm.bd_card_order|fact"><span class="entity_def" id="POPLmark_2B.trm.bd_infinite_regular_card_order|fact"><span class="entity_def" id="POPLmark_2B.mr_rel_trm_def|fact"><span class="entity_def" id="POPLmark_2B.trm.wit_trm_def|fact"><span class="entity_def" id="POPLmark_2B.trm.pred_trm_def|fact"><span class="entity_def" id="POPLmark_2B.trm.rel_trm_def|fact"><span class="entity_def" id="POPLmark_2B.vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.XXr_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.XXl_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.ff0_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.f0_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.pick02_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.pick01_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.elims|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.induct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.simps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.pelims|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.cases|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.termination|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.pinduct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.psimps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.simps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.induct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.cases|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.intros|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.mono|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel_def|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.simps|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.induct|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.cases|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.intros|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.mono|fact"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.Umap&apos;_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.suitable2_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.suitable1_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor_vvsubst_trm_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.Umap_vvsubst_trm_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_trm2_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_trm1_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.validP_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.Pmap_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_vvsubst_trm_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor1_trm_def|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_inv_simp|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_bij|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_cong_id|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_cong|fact"><span class="entity_def" id="POPLmark_2B.trm.FVars_permute|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_comp|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_comp0|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_id|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_id0|fact"><span class="entity_def" id="POPLmark_2B.trm.noclash_permute|fact"><span class="entity_def" id="POPLmark_2B.trm.TT_fresh_induct|fact"><span class="entity_def" id="POPLmark_2B.trm.fresh_induct_param|fact"><span class="entity_def" id="POPLmark_2B.trm.existential_induct|fact"><span class="entity_def" id="POPLmark_2B.trm.subshape_induct|fact"><span class="entity_def" id="POPLmark_2B.trm.set_subshape_permutes|fact"><span class="entity_def" id="POPLmark_2B.trm.set_subshapes|fact"><span class="entity_def" id="POPLmark_2B.trm.wf_subshape|fact"><span class="entity_def" id="POPLmark_2B.trm.TT_inject0|fact"><span class="entity_def" id="POPLmark_2B.trm.abs_ctor|fact"><span class="entity_def" id="POPLmark_2B.trm.rep_abs_sym|fact"><span class="entity_def" id="POPLmark_2B.trm.rep_abs|fact"><span class="entity_def" id="POPLmark_2B.trm.abs_rep|fact"><span class="entity_def" id="POPLmark_2B.trm.TT_fresh_cases|fact"><span class="entity_def" id="POPLmark_2B.trm.total_abs_eq_iff|fact"><span class="entity_def" id="POPLmark_2B.trm.nnoclash_noclash|fact"><span class="entity_def" id="POPLmark_2B.trm.FVars_bd_UNIVs|fact"><span class="entity_def" id="POPLmark_2B.trm.FVars_bd|fact"><span class="entity_def" id="POPLmark_2B.trm.FVars_intros|fact"><span class="entity_def" id="POPLmark_2B.trm.FVars_ctor|fact"><span class="entity_def" id="POPLmark_2B.trm.permute_ctor|fact"><span class="entity_def" id="POPLmark_2B.noclash_trm_def|fact"><span class="entity_def" id="POPLmark_2B.noclash_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.inducts|fact"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.simps|fact"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.induct|fact"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.cases|fact"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.intros|fact"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.mono|fact"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm_def|fact"><span class="entity_def" id="POPLmark_2B.FVars_def|fact"><span class="entity_def" id="POPLmark_2B.FTVars_def|fact"><span class="entity_def" id="POPLmark_2B.permute_trm_def|fact"><span class="entity_def" id="POPLmark_2B.trm_ctor_def|fact"><span class="entity_def" id="POPLmark_2B.arity_typerep_trm|fact"><span class="entity_def" id="POPLmark_2B.typerep_trm_def|fact"><span class="entity_def" id="POPLmark_2B.typerep_trm_inst.typerep_trm|fact"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm|fact"><span class="entity_def" id="POPLmark_2B.trm.type_definition_trm|fact"><span class="entity_def" id="POPLmark_2B.arity_type_trm|fact"><span class="entity_def" id="POPLmark_2B.alpha_trm.simps|fact"><span class="entity_def" id="POPLmark_2B.alpha_trm.coinduct|fact"><span class="entity_def" id="POPLmark_2B.alpha_trm.cases|fact"><span class="entity_def" id="POPLmark_2B.alpha_trm.intros|fact"><span class="entity_def" id="POPLmark_2B.alpha_trm.mono|fact"><span class="entity_def" id="POPLmark_2B.alpha_trm_def|fact"><span class="entity_def" id="POPLmark_2B.FVars_raw_def|fact"><span class="entity_def" id="POPLmark_2B.FTVars_raw_def|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.inducts|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.simps|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.induct|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.cases|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.intros|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.mono|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2_def|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.inducts|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.simps|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.induct|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.cases|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.intros|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.mono|fact"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1_def|fact"><span class="entity_def" id="POPLmark_2B.permute_trm_raw_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.simps|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.rec_transfer|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.rec|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.induct|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.splits|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.split_asm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.split|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.nchotomy|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.inject|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.exhaust|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.case_distrib|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.case_cong_weak|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.case_cong|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.case|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.case_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_rec_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.dtor_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_fold_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.arity_typerep_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.typerep_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.typerep_raw_trm_inst.typerep_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.type_definition_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.str_init_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.arity_typerep_raw_trm_IITN_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_IITN_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_IITN_raw_trm_inst.typerep_raw_trm_IITN_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.type_definition_raw_trm_IITN_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm_IITN_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.min_alg_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.mor_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.alg_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.set_pre_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.rel_pre_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.map_pre_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.arity_typerep_raw_trm_pre_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_pre_raw_trm_def|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_pre_raw_trm_inst.typerep_raw_trm_pre_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_induct|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_cases|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_inject|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_inverse|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.type_definition_raw_trm_pre_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm_pre_raw_trm|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_set_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_map_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_id|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_mono|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_map|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_flip|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_cong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_le_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.UN_bound|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Un_bound|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.supp_comp_bound|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.UNIV_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.natLeq_bound|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_transp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_symp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_reflp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_refl_strong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_refl|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_cong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_mono|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_map|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_flip|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_eq_onp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_eq|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_compp_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_compp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_set|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_True|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_rel|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_map|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_cong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_mono|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_ident|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_id0|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_id|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong_pred|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong_simp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong_id|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong0|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_comp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.inj_map_strong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.inj_map|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.in_rel|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.wit|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.var_regular|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.var_large|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_set|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_transfer|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_OO_Grp|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_OO|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_conversep|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_mono_strong|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_eq|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_in_rel|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd_UNIV|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map0|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_mono_strong0|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.map_comp0|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.in_mono|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.in_bd|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.collect_set_map|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_Cnotzero|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_Cinfinite|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_Card_order|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_regularCard|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_cinfinite|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_card_order|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_infinite_regular_card_order|fact"><span class="entity_def" id="POPLmark_2B.mr_rel_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.arity_typerep_trm_pre|fact"><span class="entity_def" id="POPLmark_2B.typerep_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.typerep_trm_pre_inst.typerep_trm_pre|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_induct|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_induct|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_cases|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_cases|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_inject|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_inverse|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre|fact"><span class="entity_def" id="POPLmark_2B.trm_pre.type_definition_trm_pre|fact"><span class="entity_def" id="POPLmark_2B.arity_type_trm_pre|fact"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_trm_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_120345_012345_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_trm_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_2103_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_1_permute_0132_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_pretrm_prepat_lift2_0_0_permute_2301_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_prepat_lift2_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod2.mr_rel_trm_preDEADID_lift1_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_trm_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_pretrm_prelfset_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset_kill0_def|fact"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_trm_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_trm_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_130245_012345_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_520134_012345_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_2_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_trm_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_0_0_permute_3012_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_trm_presum_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_1_0_permute_1023_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_trm_pretrm_pretrm_preID_kill0_&apos;v_lift1_1_1_permute_3021_0123_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_trm_pretrm_preID_kill0_&apos;v_lift1_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_0_1_permute_102_012_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_0_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_trm_pretrm_pretrm_preID_kill0_&apos;a_lift1_1_0_permute_201_012_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_trm_pretrm_preID_kill0_&apos;a_lift1_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_1_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_preprod_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.mr_rel_trm_preID_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretrm_pretyp_lift1_0_0_permute_10_01_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretyp_lift1_0_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_0_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.mr_rel_trm_preID_kill0_&apos;a_def|fact"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.mr_rel_trm_preID_kill0_&apos;v_def|fact"><span class="entity_def" id="POPLmark_2B.trm.subst(8)|thm"><span class="entity_def" id="POPLmark_2B.trm.subst(7)|thm"><span class="entity_def" id="POPLmark_2B.trm.subst(6)|thm"><span class="entity_def" id="POPLmark_2B.trm.subst(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.subst(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.subst(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.subst(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.subst(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(8)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(7)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(6)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.inject(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(56)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(55)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(54)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(53)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(52)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(51)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(50)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(49)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(48)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(47)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(46)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(45)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(44)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(43)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(42)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(41)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(40)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(39)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(38)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(37)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(36)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(35)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(34)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(33)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(32)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(31)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(30)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(29)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(28)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(27)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(26)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(25)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(24)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(23)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(22)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(21)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(20)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(19)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(18)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(17)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(16)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(15)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(14)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(13)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(12)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(11)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(10)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(9)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(8)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(7)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(6)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.distinct(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(8)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(7)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(6)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(8)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(7)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(6)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.map(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(16)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(15)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(14)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(13)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(12)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(11)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(10)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(9)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(8)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(7)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(6)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.set(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.induct|thm"><span class="entity_def" id="POPLmark_2B.trm.fresh_induct|thm"><span class="entity_def" id="POPLmark_2B.trm.strong_induct|thm"><span class="entity_def" id="POPLmark_2B.trm.IImsupp_natural(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.IImsupp_natural(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.IImsupp_Diff|thm"><span class="entity_def" id="POPLmark_2B.trm.not_isVVr_free|thm"><span class="entity_def" id="POPLmark_2B.trm.tvsubst_permutes|thm"><span class="entity_def" id="POPLmark_2B.trm.tvsubst_cctor_not_isVVr|thm"><span class="entity_def" id="POPLmark_2B.trm.tvsubst_VVr|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_VVr(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_VVr(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.eta_set_empties(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.eta_set_empties(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.eta_set_empties(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.eta_set_empties(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.eta_set_empties(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.SSupp_comp_bound|thm"><span class="entity_def" id="POPLmark_2B.trm.SSupp_comp_rename_bound|thm"><span class="entity_def" id="POPLmark_2B.trm.SSupp_natural|thm"><span class="entity_def" id="POPLmark_2B.trm.rrename_VVr|thm"><span class="entity_def" id="POPLmark_2B.trm.is_VVr_rrename|thm"><span class="entity_def" id="POPLmark_2B.trm.in_IImsupp(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.in_IImsupp(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.compSS_cong_id|thm"><span class="entity_def" id="POPLmark_2B.trm.compSS_comp0|thm"><span class="entity_def" id="POPLmark_2B.trm.SSupp_VVr_bound|thm"><span class="entity_def" id="POPLmark_2B.trm.SSupp_VVr_empty|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvXXr_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvXXl_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvff0_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvf0_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvpick02_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvpick01_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.elims|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.pelims|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.termination|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.pinduct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm.psimps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel.mono|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel_def|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.intros|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph.mono|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph_def|thm"><span class="entity_def" id="POPLmark_2B.tvPUmap&apos;_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUctor&apos;_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvPUmap_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;2_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;1_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUmap&apos;_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvsuitable2_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvsuitable1_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_trm_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUmap_tvsubst_trm_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_trm2_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_trm1_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvvalidP_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvavoiding_set2_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvavoiding_set1_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvPmap_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars2_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars1_rec_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars2_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvPFVars1_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvvalid_P_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvPmap_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvcompSS_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvasVVr_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvisVVr_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_def|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm_def|thm"><span class="entity_def" id="POPLmark_2B.SSupp_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.Let_def|thm"><span class="entity_def" id="POPLmark_2B.Proj_def|thm"><span class="entity_def" id="POPLmark_2B.Rec_def|thm"><span class="entity_def" id="POPLmark_2B.TApp_def|thm"><span class="entity_def" id="POPLmark_2B.TAbs_def|thm"><span class="entity_def" id="POPLmark_2B.App_def|thm"><span class="entity_def" id="POPLmark_2B.Abs_def|thm"><span class="entity_def" id="POPLmark_2B.Var_def|thm"><span class="entity_def" id="POPLmark_2B.trm.vvsubst_permute|thm"><span class="entity_def" id="POPLmark_2B.trm.vvsubst_cctor|thm"><span class="entity_def" id="POPLmark_2B.trm.UN_bound|thm"><span class="entity_def" id="POPLmark_2B.trm.Un_bound|thm"><span class="entity_def" id="POPLmark_2B.trm.UNIV_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_set_transfer(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_set_transfer(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_map_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_id|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_mono|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_map(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_flip|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_cong|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_le_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.trm.supp_comp_bound|thm"><span class="entity_def" id="POPLmark_2B.trm.natLeq_bound|thm"><span class="entity_def" id="POPLmark_2B.trm.set_bd(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_bd(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_map(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_map(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_transp|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_symp|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_reflp|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_refl_strong|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_refl|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_cong|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_mono|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_flip|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_eq_onp|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_eq|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_compp_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_compp|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_set|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_True|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_rel|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_map|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_cong|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_mono|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.trm.map_ident|thm"><span class="entity_def" id="POPLmark_2B.trm.map_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm.map_id0|thm"><span class="entity_def" id="POPLmark_2B.trm.map_id|thm"><span class="entity_def" id="POPLmark_2B.trm.map_cong_pred|thm"><span class="entity_def" id="POPLmark_2B.trm.map_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.trm.map_cong_id|thm"><span class="entity_def" id="POPLmark_2B.trm.map_cong|thm"><span class="entity_def" id="POPLmark_2B.trm.map_cong0|thm"><span class="entity_def" id="POPLmark_2B.trm.map_comp|thm"><span class="entity_def" id="POPLmark_2B.trm.inj_map_strong|thm"><span class="entity_def" id="POPLmark_2B.trm.inj_map|thm"><span class="entity_def" id="POPLmark_2B.trm.in_rel|thm"><span class="entity_def" id="POPLmark_2B.trm.var_regular|thm"><span class="entity_def" id="POPLmark_2B.trm.var_large|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_set(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_set(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_OO_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_rel_eq|thm"><span class="entity_def" id="POPLmark_2B.trm.mr_in_rel|thm"><span class="entity_def" id="POPLmark_2B.trm.set_bd_UNIV(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_bd_UNIV(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_map0(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_map0(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.trm.map_comp0|thm"><span class="entity_def" id="POPLmark_2B.trm.in_mono|thm"><span class="entity_def" id="POPLmark_2B.trm.in_bd|thm"><span class="entity_def" id="POPLmark_2B.trm.collect_set_map|thm"><span class="entity_def" id="POPLmark_2B.trm.bd_Cnotzero|thm"><span class="entity_def" id="POPLmark_2B.trm.bd_Cinfinite|thm"><span class="entity_def" id="POPLmark_2B.trm.bd_Card_order|thm"><span class="entity_def" id="POPLmark_2B.trm.bd_regularCard|thm"><span class="entity_def" id="POPLmark_2B.trm.bd_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.trm.bd_card_order|thm"><span class="entity_def" id="POPLmark_2B.trm.bd_infinite_regular_card_order|thm"><span class="entity_def" id="POPLmark_2B.mr_rel_trm_def|thm"><span class="entity_def" id="POPLmark_2B.trm.wit_trm_def|thm"><span class="entity_def" id="POPLmark_2B.trm.pred_trm_def|thm"><span class="entity_def" id="POPLmark_2B.trm.rel_trm_def|thm"><span class="entity_def" id="POPLmark_2B.vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.XXr_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.XXl_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.ff0_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.f0_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.pick02_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.pick01_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.elims|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.induct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.simps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.pelims|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.cases|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.termination|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.pinduct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm.psimps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.simps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.induct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.cases|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel.mono|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel_def|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.simps|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.induct|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.cases|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.intros|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph.mono|thm"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.Umap&apos;_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.suitable2_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.suitable1_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor_vvsubst_trm_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.Umap_vvsubst_trm_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_trm2_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_trm1_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.validP_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.Pmap_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_vvsubst_trm_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor1_trm_def|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_inv_simp|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_bij|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_cong_id|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_cong|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_permute(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_permute(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_comp|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_comp0|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_id|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_id0|thm"><span class="entity_def" id="POPLmark_2B.trm.noclash_permute|thm"><span class="entity_def" id="POPLmark_2B.trm.TT_fresh_induct|thm"><span class="entity_def" id="POPLmark_2B.trm.fresh_induct_param|thm"><span class="entity_def" id="POPLmark_2B.trm.existential_induct|thm"><span class="entity_def" id="POPLmark_2B.trm.subshape_induct|thm"><span class="entity_def" id="POPLmark_2B.trm.set_subshape_permutes(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_subshape_permutes(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_subshapes(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.set_subshapes(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.wf_subshape|thm"><span class="entity_def" id="POPLmark_2B.trm.TT_inject0|thm"><span class="entity_def" id="POPLmark_2B.trm.abs_ctor|thm"><span class="entity_def" id="POPLmark_2B.trm.rep_abs_sym|thm"><span class="entity_def" id="POPLmark_2B.trm.rep_abs|thm"><span class="entity_def" id="POPLmark_2B.trm.abs_rep|thm"><span class="entity_def" id="POPLmark_2B.trm.TT_fresh_cases|thm"><span class="entity_def" id="POPLmark_2B.trm.total_abs_eq_iff|thm"><span class="entity_def" id="POPLmark_2B.trm.nnoclash_noclash|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_bd_UNIVs(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_bd_UNIVs(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_bd(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_bd(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_intros(6)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_intros(5)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_intros(4)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_intros(3)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_intros(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_intros(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_ctor(2)|thm"><span class="entity_def" id="POPLmark_2B.trm.FVars_ctor(1)|thm"><span class="entity_def" id="POPLmark_2B.trm.permute_ctor|thm"><span class="entity_def" id="POPLmark_2B.noclash_trm_def|thm"><span class="entity_def" id="POPLmark_2B.noclash_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.inducts|thm"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.simps|thm"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.induct|thm"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.cases|thm"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.intros|thm"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm.mono|thm"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm_def|thm"><span class="entity_def" id="POPLmark_2B.FVars_def|thm"><span class="entity_def" id="POPLmark_2B.FTVars_def|thm"><span class="entity_def" id="POPLmark_2B.permute_trm_def|thm"><span class="entity_def" id="POPLmark_2B.trm_ctor_def|thm"><span class="entity_def" id="POPLmark_2B.arity_typerep_trm|thm"><span class="entity_def" id="POPLmark_2B.typerep_trm_def|thm"><span class="entity_def" id="POPLmark_2B.typerep_trm_inst.typerep_trm|thm"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm|thm"><span class="entity_def" id="POPLmark_2B.trm.type_definition_trm|thm"><span class="entity_def" id="POPLmark_2B.arity_type_trm|thm"><span class="entity_def" id="POPLmark_2B.alpha_trm.simps|thm"><span class="entity_def" id="POPLmark_2B.alpha_trm.coinduct|thm"><span class="entity_def" id="POPLmark_2B.alpha_trm.cases|thm"><span class="entity_def" id="POPLmark_2B.alpha_trm.intros|thm"><span class="entity_def" id="POPLmark_2B.alpha_trm.mono|thm"><span class="entity_def" id="POPLmark_2B.alpha_trm_def|thm"><span class="entity_def" id="POPLmark_2B.FVars_raw_def|thm"><span class="entity_def" id="POPLmark_2B.FTVars_raw_def|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.inducts|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.simps|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.induct|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.cases|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2.mono|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2_def|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.inducts|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.simps|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.induct|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.cases|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1.mono|thm"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1_def|thm"><span class="entity_def" id="POPLmark_2B.permute_trm_raw_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.simps(3)|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.simps(2)|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.simps(1)|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.rec_transfer|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.rec|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.induct|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.splits(2)|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.splits(1)|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.split_asm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.split|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.nchotomy|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.inject|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.exhaust|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.case_distrib|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.case_cong_weak|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.case_cong|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.case|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.case_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_rec_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.dtor_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_fold_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.arity_typerep_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.typerep_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.typerep_raw_trm_inst.typerep_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.type_definition_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.str_init_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.arity_typerep_raw_trm_IITN_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_IITN_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_IITN_raw_trm_inst.typerep_raw_trm_IITN_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.type_definition_raw_trm_IITN_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm_IITN_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.min_alg_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.mor_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.alg_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.set_pre_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.rel_pre_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.map_pre_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.arity_typerep_raw_trm_pre_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_pre_raw_trm_def|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_pre_raw_trm_inst.typerep_raw_trm_pre_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_induct|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_cases|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_inject|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm_inverse|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.type_definition_raw_trm_pre_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm_pre_raw_trm|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set6_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set5_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set4_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set3_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set2_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set1_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.UN_bound|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Un_bound|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.UNIV_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_set_transfer(6)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_set_transfer(5)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_set_transfer(4)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_set_transfer(3)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_set_transfer(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_set_transfer(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_map_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_id|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_mono|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_map(3)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_flip|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_cong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_le_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.supp_comp_bound|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.natLeq_bound|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd(6)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd(5)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd(4)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd(3)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_transfer(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_transfer(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map(6)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map(5)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map(4)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map(3)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_transp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_symp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_reflp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_refl_strong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_refl|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_cong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_mono|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_map(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_map(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_flip|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_eq_onp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_eq|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_compp_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_compp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_set|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_True|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_rel|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_map|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_cong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_mono|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_ident|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_id0|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_id|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong_pred|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong_simp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong_id|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_cong0|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_comp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.inj_map_strong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.inj_map|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.in_rel|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.var_regular|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.wit(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.wit(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.var_large|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_set(6)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_set(5)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_set(4)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_set(3)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_set(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_set(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_transfer|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_OO_Grp|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_OO|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_conversep|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_mono_strong|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_rel_eq|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.mr_in_rel|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd_UNIV(4)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd_UNIV(3)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd_UNIV(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_bd_UNIV(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map0(6)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map0(5)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map0(4)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map0(3)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map0(2)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.set_map0(1)|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_mono_strong0|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.map_comp0|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.in_mono|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.in_bd|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.collect_set_map|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_Cnotzero|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_Cinfinite|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_Card_order|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_regularCard|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_cinfinite|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_card_order|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.bd_infinite_regular_card_order|thm"><span class="entity_def" id="POPLmark_2B.mr_rel_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.arity_typerep_trm_pre|thm"><span class="entity_def" id="POPLmark_2B.typerep_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.typerep_trm_pre_inst.typerep_trm_pre|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_induct|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_induct|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_cases|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_cases|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_inject|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_inject|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre_inverse|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre_inverse|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre|thm"><span class="entity_def" id="POPLmark_2B.trm_pre.type_definition_trm_pre|thm"><span class="entity_def" id="POPLmark_2B.arity_type_trm_pre|thm"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_trm_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_120345_012345_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_trm_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_2103_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_1_permute_0132_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_pretrm_prepat_lift2_0_0_permute_2301_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_prepat_lift2_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod2.mr_rel_trm_preDEADID_lift1_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_trm_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_pretrm_prelfset_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset_kill0_def|thm"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_trm_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_trm_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_130245_012345_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_520134_012345_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_2_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_trm_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_0_0_permute_3012_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_trm_presum_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_1_0_permute_1023_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_trm_pretrm_pretrm_preID_kill0_&apos;v_lift1_1_1_permute_3021_0123_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_trm_pretrm_preID_kill0_&apos;v_lift1_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_0_1_permute_102_012_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_0_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_trm_pretrm_pretrm_preID_kill0_&apos;a_lift1_1_0_permute_201_012_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_trm_pretrm_preID_kill0_&apos;a_lift1_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_1_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_preprod_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.mr_rel_trm_preID_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretrm_pretyp_lift1_0_0_permute_10_01_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretyp_lift1_0_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_0_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.mr_rel_trm_preID_kill0_&apos;a_def|thm"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.mr_rel_trm_preID_kill0_&apos;v_def|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvXXr_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvXXl_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvff0_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvf0_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvpick02_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvpick01_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_sumC_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPUmap&apos;_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUctor&apos;_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPUmap_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;2_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars&apos;1_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUmap&apos;_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvsuitable2_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvsuitable1_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_trm_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUmap_tvsubst_trm_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_trm2_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUFVars_tvsubst_trm1_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvvalidP_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvavoiding_set2_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvavoiding_set1_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPmap_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars2_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars1_rec_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars2_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPFVars1_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvvalid_P_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvPmap_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvUctor_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvcompSS_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvasVVr_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvisVVr_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.SSupp_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.Let_def|axiom"><span class="entity_def" id="POPLmark_2B.Proj_def|axiom"><span class="entity_def" id="POPLmark_2B.Rec_def|axiom"><span class="entity_def" id="POPLmark_2B.TApp_def|axiom"><span class="entity_def" id="POPLmark_2B.TAbs_def|axiom"><span class="entity_def" id="POPLmark_2B.App_def|axiom"><span class="entity_def" id="POPLmark_2B.Abs_def|axiom"><span class="entity_def" id="POPLmark_2B.Var_def|axiom"><span class="entity_def" id="POPLmark_2B.mr_rel_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.trm.wit_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.trm.pred_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.trm.rel_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.XXr_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.XXl_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.ff0_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.f0_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.pick02_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.pick01_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_sumC_def|axiom"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap&apos;_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable2_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable1_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor_vvsubst_trm_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap_vvsubst_trm_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_trm2_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_vvsubst_trm1_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.validP_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.Pmap_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_vvsubst_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor1_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.noclash_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.noclash_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.FVars_def|axiom"><span class="entity_def" id="POPLmark_2B.FTVars_def|axiom"><span class="entity_def" id="POPLmark_2B.permute_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_ctor_def|axiom"><span class="entity_def" id="POPLmark_2B.typerep_trm_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.typerep_trm_inst.typerep_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.trm.type_definition_trm|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_trm|axiom"><span class="entity_def" id="POPLmark_2B.alpha_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.FVars_raw_def|axiom"><span class="entity_def" id="POPLmark_2B.FTVars_raw_def|axiom"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2_def|axiom"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1_def|axiom"><span class="entity_def" id="POPLmark_2B.permute_trm_raw_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.rec_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.case_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_ctor_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_rec_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.dtor_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_fold_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.typerep_raw_trm_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.typerep_raw_trm_inst.typerep_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.type_definition_raw_trm|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.str_init_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_IITN_raw_trm_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_IITN_raw_trm_inst.typerep_raw_trm_IITN_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.type_definition_raw_trm_IITN_raw_trm|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm_IITN_raw_trm|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.min_alg_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.mor_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.alg_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.wit_pre_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.pred_pre_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.rel_pre_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.set_pre_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.map_pre_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_pre_raw_trm_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_pre_raw_trm_inst.typerep_raw_trm_pre_raw_trm_def|axiom"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.type_definition_raw_trm_pre_raw_trm|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_raw_trm_pre_raw_trm|axiom"><span class="entity_def" id="POPLmark_2B.mr_rel_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.wit_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.set6_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.set5_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.set4_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.set3_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.set2_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.set1_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.map_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.typerep_trm_pre_def_raw|axiom"><span class="entity_def" id="POPLmark_2B.typerep_trm_pre_inst.typerep_trm_pre_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_pre.type_definition_trm_pre|axiom"><span class="entity_def" id="POPLmark_2B.arity_type_trm_pre|axiom"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set6_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set5_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set4_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set3_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set1_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.map_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_120345_012345_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum.Sum_Type.rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum.Sum_Type.map_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_2103_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.pred_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set4_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set3_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set2_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set1_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.map_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum2.sum2.sum2.prod.Product_Type.map_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_1_permute_0132_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_pretrm_prepat_lift2_0_0_permute_2301_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_prepat_lift2_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod2.mr_rel_trm_preDEADID_lift1_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum1.sum.Sum_Type.set2_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum1.sum.Sum_Type.set1_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum1.sum.Sum_Type.map_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_pretrm_prelfset_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset_kill0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.pred_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set6_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set5_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set2_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set1_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.map_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_130245_012345_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_520134_012345_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_2_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum2.sum.Sum_Type.rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum2.sum.Sum_Type.set2_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum2.sum.Sum_Type.map_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_0_0_permute_3012_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.wit_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.set3_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.set1_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.map_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum1.prod.Product_Type.set_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum1.sum.Sum_Type.rel_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum1.sum.Sum_Type.set3_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum1.sum.Sum_Type.map_trm_presum_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_1_0_permute_1023_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_trm_pretrm_pretrm_preID_kill0_&apos;v_lift1_1_1_permute_3021_0123_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.mr_rel_trm_pretrm_preID_kill0_&apos;v_lift1_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.wit_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.set3_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.set1_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.map_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_0_1_permute_102_012_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_0_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_trm_pretrm_pretrm_preID_kill0_&apos;a_lift1_1_0_permute_201_012_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.sum1.sum1.sum2.prod1.mr_rel_trm_pretrm_preID_kill0_&apos;a_lift1_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_1_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_preprod_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.mr_rel_trm_preID_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretrm_pretyp_lift1_0_0_permute_10_01_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretyp_lift1_0_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_0_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod1.mr_rel_trm_preID_kill0_&apos;a_def|axiom"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.mr_rel_trm_preID_kill0_&apos;v_def|axiom"><span class="entity_def" id="POPLmark_2B.tvsubst_trm|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_dom|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_rel|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_sumC|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_trm_graph|const"><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm|const"><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm|const"><span class="entity_def" id="POPLmark_2B.SSupp_trm|const"><span class="entity_def" id="POPLmark_2B.Let|const"><span class="entity_def" id="POPLmark_2B.Proj|const"><span class="entity_def" id="POPLmark_2B.Rec|const"><span class="entity_def" id="POPLmark_2B.TApp|const"><span class="entity_def" id="POPLmark_2B.TAbs|const"><span class="entity_def" id="POPLmark_2B.App|const"><span class="entity_def" id="POPLmark_2B.Abs|const"><span class="entity_def" id="POPLmark_2B.Var|const"><span class="entity_def" id="POPLmark_2B.mr_rel_trm|const"><span class="entity_def" id="POPLmark_2B.trm.wit_trm|const"><span class="entity_def" id="POPLmark_2B.trm.pred_trm|const"><span class="entity_def" id="POPLmark_2B.trm.rel_trm|const"><span class="entity_def" id="POPLmark_2B.vvsubst_trm|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_dom|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_rel|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_sumC|const"><span class="entity_def" id="POPLmark_2B.f_vvsubst_trm_graph|const"><span class="entity_def" id="POPLmark_2B.Uctor1_trm|const"><span class="entity_def" id="POPLmark_2B.noclash_trm|const"><span class="entity_def" id="POPLmark_2B.noclash_raw_trm|const"><span class="entity_def" id="POPLmark_2B.subshape_trm_trm|const"><span class="entity_def" id="POPLmark_2B.FVars|const"><span class="entity_def" id="POPLmark_2B.FTVars|const"><span class="entity_def" id="POPLmark_2B.permute_trm|const"><span class="entity_def" id="POPLmark_2B.trm_ctor|const"><span class="entity_def" id="POPLmark_2B.typerep_trm_inst.typerep_trm|const"><span class="entity_def" id="POPLmark_2B.trm.Abs_trm|const"><span class="entity_def" id="POPLmark_2B.trm.Rep_trm|const"><span class="entity_def" id="POPLmark_2B.alpha_trm|const"><span class="entity_def" id="POPLmark_2B.FVars_raw|const"><span class="entity_def" id="POPLmark_2B.FTVars_raw|const"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm2|const"><span class="entity_def" id="POPLmark_2B.is_free_raw_trm1|const"><span class="entity_def" id="POPLmark_2B.permute_trm_raw|const"><span class="entity_def" id="POPLmark_2B.raw_trm.rec_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.case_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_ctor|const"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_rec_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.dtor_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_fold_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.ctor_raw_trm|const"><span class="entity_def" id="POPLmark_2B.typerep_raw_trm_inst.typerep_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.Abs_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.Rep_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.str_init_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_IITN_raw_trm_inst.typerep_raw_trm_IITN_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Abs_raw_trm_IITN_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm.Rep_raw_trm_IITN_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.min_alg_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.mor_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.alg_raw_trm|const"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.wit_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.pred_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.rel_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.set_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.pre_raw_trm.raw_trm.map_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.typerep_raw_trm_pre_raw_trm_inst.typerep_raw_trm_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Abs_raw_trm_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm.Rep_raw_trm_pre_raw_trm|const"><span class="entity_def" id="POPLmark_2B.mr_rel_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.wit_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.pred_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.rel_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.set6_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.set5_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.set2_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.set1_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.map_trm_pre|const"><span class="entity_def" id="POPLmark_2B.typerep_trm_pre_inst.typerep_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.Abs_trm_pre|const"><span class="entity_def" id="POPLmark_2B.trm_pre.Rep_trm_pre|const"><span class="entity_def" id="POPLmark_2B.sum.Sum_Type.mr_rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set6_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set5_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set4_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set3_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.set1_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum.Sum_Type.map_trm_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_120345_012345|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum2.sum.Sum_Type.mr_rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum.Sum_Type.rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum.Sum_Type.map_trm_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_2103_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum.Sum_Type.mr_rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.pred_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set4_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set3_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set2_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.set1_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum2.sum.Sum_Type.map_trm_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum2.sum2.sum2.prod.Product_Type.map_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod2.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_1_permute_0132_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_pretrm_prepat_lift2_0_0_permute_2301_0123|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum2.prod1.Pattern.mr_rel_trm_prepat_lift2_0_0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum.Sum_Type.mr_rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum1.sum.Sum_Type.set2_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum1.sum.Sum_Type.set1_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum2.sum1.sum.Sum_Type.map_trm_presum|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_pretrm_prelfset_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum2.lfset.Labeled_FSet.mr_rel_trm_prelfset_kill0|const"><span class="entity_def" id="POPLmark_2B.sum2.sum1.sum1.prod.Product_Type.mr_rel_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum.Sum_Type.mr_rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.pred_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set6_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set5_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set2_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.set1_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum.Sum_Type.map_trm_presum|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift0_1_1_permute_130245_012345|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum2.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_pretrm_presum_lift1_0_1_permute_520134_012345|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum1.sum1.sum.Sum_Type.mr_rel_trm_pretrm_presum_lift1_0_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_2|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum.Sum_Type.mr_rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum2.sum.Sum_Type.rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum2.sum.Sum_Type.set2_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum2.sum.Sum_Type.map_trm_presum|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_0_0_permute_3012_0123|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_0_0|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift1_1_1_permute_2013_0123|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift1_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.Sum_Type.mr_rel_trm_presum_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum2.prod.Product_Type.mr_rel_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.wit_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.set3_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.set1_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum2.prod.Product_Type.map_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum2.sum1.prod.Product_Type.mr_rel_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum2.sum1.prod.Product_Type.set_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum.Sum_Type.mr_rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum1.sum.Sum_Type.rel_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum1.sum.Sum_Type.set3_trm_presum|const"><span class="entity_def" id="POPLmark_2B.trm_presum.sum1.sum1.sum.Sum_Type.map_trm_presum|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_1_0_permute_1023_0123|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.Sum_Type.mr_rel_trm_presum_lift0_2_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod.Product_Type.mr_rel_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.wit_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.set3_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.set1_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.trm_preprod.sum1.sum1.sum2.prod.Product_Type.map_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_pretrm_preprod_lift0_0_1_permute_102_012|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_pretrm_preprod_lift0_0_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_1|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod.Product_Type.mr_rel_trm_preprod|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretrm_pretyp_lift1_0_0_permute_10_01|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod1.mr_rel_trm_pretyp_lift1_0_0|const"><span class="entity_def" id="POPLmark_2B.sum1.sum1.sum2.prod2.prod2.Product_Type.mr_rel_trm_preprod_lift0_1_0|const"><span class="entity_def" id="POPLmark_2B.trm|type"><span class="entity_def" id="POPLmark_2B.raw_trm|type"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_IITN_raw_trm|type"><span class="entity_def" id="POPLmark_2B.raw_trm.raw_trm_pre_raw_trm|type"><span class="entity_def" id="POPLmark_2B.trm_pre|type"><span class="entity_def" id="offset_96..111">binder_datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span>FTVars</span><span class="main"><span>:</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> FVars</span><span class="main"><span>:</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span>trm</span><span> </span><span class="main"><span>=</span></span><span>
    Var </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'v</span></span></span></span><span>
  </span><span class="main"><span>|</span></span><span> Abs x</span><span class="main"><span>::</span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'v</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span> t</span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>binds</span></span></span><span> x </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> t
  </span><span class="main"><span>|</span></span><span> App </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> TAbs X</span><span class="main"><span>::</span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'tv</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span> t</span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>binds</span></span></span><span> X </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> t
  </span><span class="main"><span>|</span></span><span> TApp </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> Rec </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.label|type"><span class="tconst"><span>label</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset|type"><span class="tconst"><span>lfset</span></span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> Proj </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="SystemFSub.html#SystemFSub.label|type"><span class="tconst"><span>label</span></span></a></span><span>
  </span><span class="main"><span>|</span></span><span> Let </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_96..111"><span class="tconst"><span>p</span></span></a><span class="main"><a class="entity_ref" href="../Binders/MRBNF_Recursor.html#MRBNF_Recursor.var_selector|type"><span>::</span></a></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> t</span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>binds</span></span></span><span> p </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> t
</span><span class="keyword1"><span class="command"><span>print_theorems</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.tvsubst_trm_pre_def|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_trm_pre_def|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_trm_pre_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.tvsubst_trm_pre|const"><span>tvsubst_trm_pre</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre|type"><span class="tconst"><span>trm_pre</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre|type"><span class="tconst"><span>trm_pre</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>tvsubst_trm_pre</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre|const"><span class="const"><span>Abs_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Rep_trm_pre|const"><span class="const"><span>Rep_trm_pre</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
    Inl </span><span class="main"><span>(</span></span><span>Inl </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> Inl </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> Inr </span><span class="main"><span>(</span></span><span>Inl </span><span class="main"><span>(</span></span><span>Inl </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> Inr </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span>Inr </span><span class="main"><span>(</span></span><span class="bound"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>x</span></span><span>
  </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.\&lt;eta&gt;|const"><span>η</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'btv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'bv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre|type"><span class="tconst"><span>trm_pre</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>η</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre|const"><span class="const"><span>Abs_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_free|fact"><span class="entity_def" id="POPLmark_2B.eta_free|thm"><span>eta_free</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre|const"><span class="const"><span>set2_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
    </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_inj|fact"><span class="entity_def" id="POPLmark_2B.eta_inj|thm"><span>eta_inj</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_natural|fact"><span class="entity_def" id="POPLmark_2B.eta_natural|thm"><span>eta_natural</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x1</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x2</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f3</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x3</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x3</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f4</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'x4</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x4</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x1</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x2</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f3</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f3</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x3</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f4</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f4</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'x4</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f3</span></span><span> </span><span class="free"><span>f4</span></span><span> </span><span class="free"><span>f5</span></span><span> </span><span class="free"><span>f6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="comment1"><span>(* Construction of substitution *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="POPLmark_2B.P|type"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.VVr_def|fact"><span class="entity_def" id="POPLmark_2B.VVr_def|thm"><span class="entity_def" id="POPLmark_2B.VVr_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.VVr|const"><span>VVr</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>VVr</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.isVVr_def|fact"><span class="entity_def" id="POPLmark_2B.isVVr_def|thm"><span class="entity_def" id="POPLmark_2B.isVVr_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.isVVr|const"><span>isVVr</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>isVVr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.asVVr_def|fact"><span class="entity_def" id="POPLmark_2B.asVVr_def|thm"><span class="entity_def" id="POPLmark_2B.asVVr_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.asVVr|const"><span>asVVr</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>asVVr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>SOME</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.Uctor_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.Uctor|const"><span>Uctor</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre|type"><span class="tconst"><span>trm_pre</span></span></a><span>
  </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Uctor</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
    </span><span class="bound"><span>f1</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr|const"><span class="const"><span>asVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span>
    </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="bound"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>R</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>R</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.PFVars_1_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars_1_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars_1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.PFVars_1|const"><span>PFVars_1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PFVars_1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="bound"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="bound"><span>f2</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.PFVars_2_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars_2_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars_2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.PFVars_2|const"><span>PFVars_2</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PFVars_2</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="bound"><span>f1</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.compSS_typ_def|fact"><span class="entity_def" id="POPLmark_2B.compSS_typ_def|thm"><span class="entity_def" id="POPLmark_2B.compSS_typ_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.compSS_typ|const"><span>compSS_typ</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compSS_typ</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.compSS_trm_def|fact"><span class="entity_def" id="POPLmark_2B.compSS_trm_def|thm"><span class="entity_def" id="POPLmark_2B.compSS_trm_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.compSS_trm|const"><span>compSS_trm</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compSS_trm</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.Pmap_def|fact"><span class="entity_def" id="POPLmark_2B.Pmap_def|thm"><span class="entity_def" id="POPLmark_2B.Pmap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.Pmap|const"><span>Pmap</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Pmap</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm|const"><span class="const"><span>compSS_trm</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g2</span></span></span></span><span> </span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_typ|const"><span class="const"><span>compSS_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g1</span></span></span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_defs|fact"><span class="entity_def" id="POPLmark_2B.compSS_defs(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_defs(1)|thm"><span>compSS_defs</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_typ_def|fact"><span>compSS_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm_def|fact"><span>compSS_trm_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.valid_P_def|fact"><span class="entity_def" id="POPLmark_2B.valid_P_def|thm"><span class="entity_def" id="POPLmark_2B.valid_P_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.valid_P|const"><span>valid_P</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_P</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="bound"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="bound"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.asVVr_VVr|fact"><span class="entity_def" id="POPLmark_2B.asVVr_VVr|thm"><span>asVVr_VVr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr|const"><span class="const"><span>asVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_def|fact"><span>asVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI2|fact"><span>someI2</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
    </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span>
    </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4275..4280">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_VVr|fact"><span class="entity_def" id="POPLmark_2B.permute_VVr|thm"><span>permute_VVr</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_ctor|fact"><span>trm.permute_ctor</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4275..4280"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4275..4280"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4720..4725">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.isVVr_permute|fact"><span class="entity_def" id="POPLmark_2B.isVVr_permute|thm"><span>isVVr_permute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4720..4725"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp1|fact"><span>inv_o_simp1</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4720..4725"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4720..4725"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_4720..4725"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_id0s|fact"><span class="entity_def" id="POPLmark_2B.compSS_id0s(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_id0s(1)|thm"><span>compSS_id0s</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_typ|const"><span class="const"><span>compSS_typ</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm|const"><span class="const"><span>compSS_trm</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_typ_def|fact"><span>compSS_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm_def|fact"><span>compSS_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id0|fact"><span>trm.permute_id0</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_id0|fact"><span>typ.permute_id0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv_id|fact"><span>inv_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5813..5818">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_comp0_trm|fact"><span class="entity_def" id="POPLmark_2B.compSS_comp0_trm|thm"><span>compSS_comp0_trm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>g_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm|const"><span class="const"><span>compSS_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm|const"><span class="const"><span>compSS_trm</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm|const"><span class="const"><span>compSS_trm</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm_def|fact"><span>compSS_trm_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.o_inv_distrib|fact"><span>o_inv_distrib</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp0|fact"><span>trm.permute_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_5813..5818"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_comp0s|fact"><span class="entity_def" id="POPLmark_2B.compSS_comp0s(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_comp0s(1)|thm"><span>compSS_comp0s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.compSS_comp0|fact"><span>typ.compSS_comp0</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvcompSS_tvsubst_typ_def|fact"><span>tvcompSS_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_typ_def|fact"><span>compSS_typ_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_comp0_trm|fact"><span>compSS_comp0_trm</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_VVrs|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_VVrs|thm"><span>IImsupp_VVrs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_def|fact"><span>imsupp_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff|fact"><span>disjoint_iff</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allE|fact"><span>allE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.de_Morgan_disj|fact"><span>de_Morgan_disj</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_not|fact"><span>not_not</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7162..7167">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_permute_commute|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_permute_commute|thm"><span>IImsupp_permute_commute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7265..7272">f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>f2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>y</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7162..7167"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>

     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong_id|fact"><span>trm.permute_cong_id</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7162..7167"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_onD|fact"><span>id_onD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_id_on|fact"><span>imsupp_id_on</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_subset_empty2|fact"><span>Int_subset_empty2</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="comment1"><span>(* repeated *)</span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_onD|fact"><span>id_onD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_id_on|fact"><span>imsupp_id_on</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_subset_empty2|fact"><span>Int_subset_empty2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -2</span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 3
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_VVrs|fact"><span>IImsupp_VVrs</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7265..7272"><span>f_prems</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_VVrs|fact"><span>IImsupp_VVrs</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.bij_not_eq_twice|fact"><span>bij_not_eq_twice</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_7265..7272"><span>f_prems</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9549..9554">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_cong_id_trm|fact"><span class="entity_def" id="POPLmark_2B.compSS_cong_id_trm|thm"><span>compSS_cong_id_trm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>g_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm|const"><span class="const"><span>compSS_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm_def|fact"><span>compSS_trm_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_10105..10110">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_permute_commute|fact"><span>IImsupp_permute_commute</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9549..9554"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_commute|fact"><span>Int_commute</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.disjointI|fact"><span>disjointI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_10105..10110"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.bij_id_imsupp|fact"><span>bij_id_imsupp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9549..9554"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* repeated *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_commute|fact"><span>Int_commute</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.disjointI|fact"><span>disjointI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_10105..10110"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.bij_id_imsupp|fact"><span>bij_id_imsupp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9549..9554"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_9549..9554"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.compSS_cong_ids|fact"><span class="entity_def" id="POPLmark_2B.compSS_cong_ids(2)|thm"><span class="entity_def" id="POPLmark_2B.compSS_cong_ids(1)|thm"><span>compSS_cong_ids</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.compSS_cong_id|fact"><span>typ.compSS_cong_id</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvcompSS_tvsubst_typ_def|fact"><span>tvcompSS_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_typ_def|fact"><span>compSS_typ_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_cong_id_trm|fact"><span>compSS_cong_id_trm</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_naturals|fact"><span class="entity_def" id="POPLmark_2B.SSupp_naturals(2)|thm"><span class="entity_def" id="POPLmark_2B.SSupp_naturals(1)|thm"><span>SSupp_naturals</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.SSupp_natural|fact"><span>typ.SSupp_natural</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.SSupp_natural|fact"><span>trm.SSupp_natural</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_naturals|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_naturals(3)|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_naturals(2)|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_naturals(1)|thm"><span>IImsupp_naturals</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.IImsupp_natural|fact"><span>typ.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.IImsupp_natural|fact"><span>trm.IImsupp_natural</span></a><span>

</span><span class="comment1"><span>(* Recursor axioms *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Pmap_id0|fact"><span class="entity_def" id="POPLmark_2B.Pmap_id0|thm"><span>Pmap_id0</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_id0s|fact"><span>compSS_id0s</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11202..11207">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Pmap_comp0|fact"><span class="entity_def" id="POPLmark_2B.Pmap_comp0|thm"><span>Pmap_comp0</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>g_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_11202..11207"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_comp0s|fact"><span>compSS_comp0s</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_comp0s|fact"><span>compSS_comp0s</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12038..12043">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.valid_Pmap|fact"><span class="entity_def" id="POPLmark_2B.valid_Pmap|thm"><span>valid_Pmap</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_defs|fact"><span>compSS_defs</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Meson.html#Meson.conj_forward|fact"><span>conj_forward</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_naturals|fact"><span>SSupp_naturals</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_12038..12043"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12585..12590">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.PFVars_Pmaps|fact"><span class="entity_def" id="POPLmark_2B.PFVars_Pmaps(2)|thm"><span class="entity_def" id="POPLmark_2B.PFVars_Pmaps(1)|thm"><span>PFVars_Pmaps</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1_def|fact"><span>PFVars_1_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_defs|fact"><span>compSS_defs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_naturals|fact"><span>IImsupp_naturals</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_12585..12590"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2_def|fact"><span>PFVars_2_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_defs|fact"><span>compSS_defs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_naturals|fact"><span>IImsupp_naturals</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_12585..12590"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Pmap_cong_id|fact"><span class="entity_def" id="POPLmark_2B.Pmap_cong_id|thm"><span>Pmap_cong_id</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tyvar</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'var</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13534..13541">f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1_def|fact"><span>PFVars_1_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2_def|fact"><span>PFVars_2_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_13854..13859">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_cong_ids|fact"><span>compSS_cong_ids</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_13534..13541"><span>f_prems</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_13854..13859"><span>prems</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Cinfinite_UNIV|fact"><span class="entity_def" id="POPLmark_2B.Cinfinite_UNIV|thm"><span>Cinfinite_UNIV</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.UNIV_cinfinite|fact"><span>trm_pre.UNIV_cinfinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Cinfinite_card|fact"><span class="entity_def" id="POPLmark_2B.Cinfinite_card|thm"><span>Cinfinite_card</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_Cinfinite|fact"><span>cmin_Cinfinite</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.regularCard_card|fact"><span class="entity_def" id="POPLmark_2B.regularCard_card|thm"><span>regularCard_card</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_regularCard|fact"><span>cmin_regularCard</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.var_regular|fact"><span>trm_pre.var_regular</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.var_regular|fact"><span>trm_pre.var_regular</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_UNIV|fact"><span>Cinfinite_UNIV</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Un_bound|fact"><span class="entity_def" id="POPLmark_2B.Un_bound|thm"><span>Un_bound</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.regularCard_Un|fact"><span>regularCard_Un</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.regularCard_card|fact"><span>regularCard_card</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.UN_bound|fact"><span class="entity_def" id="POPLmark_2B.UN_bound|thm"><span>UN_bound</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.regularCard_UNION|fact"><span>regularCard_UNION</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.regularCard_card|fact"><span>regularCard_card</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.small_PFVarss|fact"><span class="entity_def" id="POPLmark_2B.small_PFVarss(2)|thm"><span class="entity_def" id="POPLmark_2B.small_PFVarss(1)|thm"><span>small_PFVarss</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'tyvar</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'var</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tyvar</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'var</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1_def|fact"><span>PFVars_1_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Un_bound|fact"><span>Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.UN_bound|fact"><span>UN_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_bd_UNIV|fact"><span>typ.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_bd_UNIVs|fact"><span>trm.FVars_bd_UNIVs</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="comment1"><span>(* copied from above *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2_def|fact"><span>PFVars_2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Un_bound|fact"><span>Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.UN_bound|fact"><span>UN_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_bd_UNIV|fact"><span>typ.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_bd_UNIVs|fact"><span>trm.FVars_bd_UNIVs</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.sets_tvsubst_trm_pre|fact"><span class="entity_def" id="POPLmark_2B.sets_tvsubst_trm_pre(5)|thm"><span class="entity_def" id="POPLmark_2B.sets_tvsubst_trm_pre(4)|thm"><span class="entity_def" id="POPLmark_2B.sets_tvsubst_trm_pre(3)|thm"><span class="entity_def" id="POPLmark_2B.sets_tvsubst_trm_pre(2)|thm"><span class="entity_def" id="POPLmark_2B.sets_tvsubst_trm_pre(1)|thm"><span>sets_tvsubst_trm_pre</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre|const"><span class="const"><span>set2_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre|const"><span class="const"><span>set2_trm_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span>set3_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span>set3_trm_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span>set4_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span>set4_trm_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre|const"><span class="const"><span>set5_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre|const"><span class="const"><span>set5_trm_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre|const"><span class="const"><span>set6_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre|const"><span class="const"><span>set6_trm_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span>
</span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_singleton|fact"><span>UN_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span>
  </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_tvsubst_pat|fact"><span>PVars_tvsubst_pat</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.map_subst|fact"><span class="entity_def" id="POPLmark_2B.map_subst|thm"><span>map_subst</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f4</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f3</span></span><span> </span><span class="free"><span>f4</span></span><span> </span><span class="free"><span>f5</span></span><span> </span><span class="free"><span>f6</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f3</span></span><span> </span><span class="free"><span>f4</span></span><span> </span><span class="free"><span>f5</span></span><span> </span><span class="free"><span>f6</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.case_sum_map_sum|fact"><span>case_sum_map_sum</span></a><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id0|fact"><span>typ.map_id0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.case_prod_map_prod|fact"><span>case_prod_map_prod</span></a><span>
  </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.split|fact"><span>sum.split</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_comp|fact"><span>tvsubst_pat_comp</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.subst|fact"><span>typ.subst</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16737..16742">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FVars_tvsubst_typ_cmin|fact"><span class="entity_def" id="POPLmark_2B.FVars_tvsubst_typ_cmin|thm"><span>FVars_tvsubst_typ_cmin</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_16737..16742"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FTVars_subset|fact"><span class="entity_def" id="POPLmark_2B.FTVars_subset|thm"><span>FTVars_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span>set3_trm_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre|const"><span class="const"><span>set5_trm_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre|const"><span class="const"><span>set6_trm_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_17413..17418">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1_def|fact"><span>PFVars_1_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span>thin_rl</span><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_ctor|fact"><span>trm.FVars_ctor</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.sets_tvsubst_trm_pre|fact"><span>sets_tvsubst_trm_pre</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.map_subst|fact"><span>map_subst</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17413..17418"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_map|fact"><span>trm_pre.set_map</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.image_id|fact"><span>image_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Un_mono&apos;|fact"><span>Un_mono'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1_def|fact"><span>PFVars_1_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_singleton|fact"><span>UN_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span>
        </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_tvsubst_typ_def|fact"><span>tvVVr_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_typ_tvsubst_typ_def|fact"><span>tvη_typ_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar_def|fact"><span>TyVar_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id0|fact"><span>typ.map_id0</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_map|fact"><span>typ.set_map</span></a><span>
      </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17413..17418"><span>prems</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>,</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_tvsubst_typ_cmin|fact"><span>FVars_tvsubst_typ_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set|fact"><span>typ.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set|fact"><span>typ.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set|fact"><span>typ.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars_tvsubst_pat|fact"><span>PTVars_tvsubst_pat</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set|fact"><span>typ.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Diff_Un_disjunct|fact"><span>Diff_Un_disjunct</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17413..17418"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_mono|fact"><span>Diff_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_extend_simps|fact"><span>UN_extend_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17413..17418"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17413..17418"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* repeated *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17413..17418"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_17413..17418"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FVars_subset|fact"><span class="entity_def" id="POPLmark_2B.FVars_subset|thm"><span>FVars_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span>set4_trm_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre|const"><span class="const"><span>set5_trm_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre|const"><span class="const"><span>set6_trm_pre</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_20684..20689">prems</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetI|fact"><span>subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2_def|fact"><span>PFVars_2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.CollectI|fact"><span>CollectI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span>thin_rl</span><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_ctor|fact"><span>trm.FVars_ctor</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.sets_tvsubst_trm_pre|fact"><span>sets_tvsubst_trm_pre</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.map_subst|fact"><span>map_subst</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_map|fact"><span>trm_pre.set_map</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.image_id|fact"><span>image_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.sets_tvsubst_trm_pre|fact"><span>sets_tvsubst_trm_pre</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Un_mono&apos;|fact"><span>Un_mono'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>(⊆)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Diff_Un_disjunct|fact"><span>Diff_Un_disjunct</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20684..20689"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_mono|fact"><span>Diff_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_extend_simps|fact"><span>UN_extend_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="comment1"><span>(* REPEAT_DETERM *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20684..20689"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20684..20689"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* repeated *)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.subset_If|fact"><span>subset_If</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_empty&apos;|fact"><span>UN_empty'</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_subsetI|fact"><span>empty_subsetI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_mono|fact"><span>UN_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_refl|fact"><span>subset_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20684..20689"><span>prems</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_20684..20689"><span>prems</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI2|fact"><span>UnI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnI1|fact"><span>UnI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>(* END REPEAT_DETERM *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_Uctor|fact"><span class="entity_def" id="POPLmark_2B.permute_Uctor|thm"><span>permute_Uctor</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>
  </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>pu</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>pu</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_comp|fact"><span>trm_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.id_o_commute|fact"><span>id_o_commute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>f1</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.id_o_commute|fact"><span>id_o_commute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>f2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.fst_o_f|fact"><span>fst_o_f</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_comp|fact"><span>trm_pre.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_ctor|fact"><span>trm.permute_ctor</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_permute|fact"><span>isVVr_permute</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.case_split|fact"><span>case_split</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_VVr|fact"><span>permute_VVr</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_trm_def|fact"><span>compSS_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_simp1|fact"><span>inv_simp1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_ctor|fact"><span>trm.permute_ctor</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.map_subst|fact"><span>map_subst</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_comp|fact"><span>trm_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>assumption</span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp1|fact"><span>inv_o_simp1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_comp0|fact"><span>Pmap_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_Pmap|fact"><span>valid_Pmap</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_id0|fact"><span>Pmap_id0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_def|fact"><span>Pmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.compSS_typ_def|fact"><span>compSS_typ_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id0|fact"><span>typ.map_id0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.vvsubst_permute|fact"><span>typ.vvsubst_permute</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.SSupp_natural|fact"><span>typ.SSupp_natural</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f1</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f1</span></span></span><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_tvsubst_typ_bound|fact"><span>SSupp_typ_tvsubst_typ_bound</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_tvsubst_typ_bound|fact"><span>SSupp_typ_tvsubst_typ_bound</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.tvsubst_permutes|fact"><span>typ.tvsubst_permutes</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_comp|fact"><span>tvsubst_pat_comp</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_cong|fact"><span>tvsubst_pat_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>uub</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>uub</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.subst|fact"><span>typ.subst</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ_eq_tvsubst_typ_TyVar|fact"><span>permute_typ_eq_tvsubst_typ_TyVar</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>nvars</span></span><span class="main"><span>:</span></span><span> </span><span>int</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="inner_numeral"><span>2</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>parameters</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span>
  P </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
  Pmap </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap|const"><span class="const"><span>Pmap</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
  PFVarss </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1|const"><span class="const"><span>PFVars_1</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2|const"><span class="const"><span>PFVars_2</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span>
  </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  avoiding_sets </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  min_bound </span><span class="main"><span>=</span></span><span> </span><span>true</span><span class="main"><span>,</span></span><span>
  validity </span><span class="main"><span>=</span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>{</span></span><span>
    pred </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
    valid_Pmap </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_Pmap|fact"><span>valid_Pmap</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>THEN_ALL_NEW</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span>
  axioms </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span>
    Pmap_id0 </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>EVERY1</span><span> </span><span class="main"><span>[</span></span><span>
      </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>trans</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
      </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_id0|fact"><span>Pmap_id0</span></a><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
      </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span class="antiquote"><span>}</span></span></span></span><span>
    </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
    Pmap_comp0 </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_comp0|fact"><span>Pmap_comp0</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>REPEAT_DETERM</span><span> </span><span class="main"><span>(</span></span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    Pmap_cong_id </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Pmap_cong_id|fact"><span>Pmap_cong_id</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>REPEAT_DETERM</span><span> </span><span class="main"><span>(</span></span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>ORELSE</span><span> </span><span>Goal.assume_rule_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    PFVars_Pmaps </span><span class="main"><span>=</span></span><span> </span><span>replicate</span><span> </span><span class="entity"><span>nvars</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_Pmaps|fact"><span>PFVars_Pmaps</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>REPEAT_DETERM</span><span> </span><span class="main"><span>(</span></span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    small_PFVarss </span><span class="main"><span>=</span></span><span> </span><span>replicate</span><span> </span><span class="entity"><span>nvars</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.small_PFVarss|fact"><span>small_PFVarss</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span>THEN</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
    small_avoiding_sets </span><span class="main"><span>=</span></span><span> </span><span>replicate</span><span> </span><span class="entity"><span>nvars</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="antiquote"><span>}</span></span></span></span><span>
      </span><span>THEN_ALL_NEW</span><span> </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>}</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Proof.context</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>tactic</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>MRBNF_Recursor.parameter</span></span><span class="main"><span>;</span></span><span>
›</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>fp_res</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>MRBNF_FP_Def_Sugar.fp_result_of</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>context</span></span><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="inner_quoted"><span>"POPLmark_2B.trm"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>quot</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span>quotient_fps </span><span class="entity"><span>fp_res</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span>TVar</span><span> </span><span class="main"><span>(</span></span><span>rev</span><span> </span><span class="main"><span>(</span></span><span>Term.add_tvarsT</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span>T </span><span class="entity"><span>quot</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
›</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>model</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>MRBNF_Recursor.mk_quotient_model</span></span><span> </span><span class="entity"><span>quot</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>vars</span></span><span> </span><span>~~</span><span> </span><span class="main"><span>[</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>{</span></span><span>
  binding </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>binding</span></span><span> "</span><span class="entity_def" id="POPLmark_2B.XXr_tvsubst|const"><span class="entity_def" id="POPLmark_2B.XXl_tvsubst|const"><span class="entity_def" id="POPLmark_2B.ff0_tvsubst|const"><span class="entity_def" id="POPLmark_2B.f0_tvsubst|const"><span class="entity_def" id="POPLmark_2B.pick02_tvsubst|const"><span class="entity_def" id="POPLmark_2B.pick01_tvsubst|const"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_tvsubst|const"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_tvsubst|const"><span class="entity_def" id="POPLmark_2B.PUmap_tvsubst|const"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_tvsubst|const"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_tvsubst|const"><span class="entity_def" id="POPLmark_2B.Umap&apos;_tvsubst|const"><span class="entity_def" id="POPLmark_2B.suitable2_tvsubst|const"><span class="entity_def" id="POPLmark_2B.suitable1_tvsubst|const"><span class="entity_def" id="POPLmark_2B.Uctor_tvsubst_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.Umap_tvsubst_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst2_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst1_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.validP_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.Pmap_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_tvsubst|const"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_tvsubst|const"><span>tvsubst</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>"</span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
  Uctor </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor|const"><span class="const"><span>Uctor</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.P|type"><span class="tconst"><span>P</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span class="main"><span>,</span></span><span>
  validity </span><span class="main"><span>=</span></span><span> </span><span>NONE</span><span class="main"><span>,</span></span><span>
  axioms </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span>
    FVars_subsets </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>EVERY1</span><span> </span><span class="main"><span>[</span></span><span>
        </span><span>K</span><span> </span><span class="main"><span>(</span></span><span>Local_Defs.unfold0_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
        </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars_subset|fact"><span>FTVars_subset</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
        </span><span>REPEAT_DETERM</span><span> </span><span>o</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span>
        </span><span>Goal.assume_rule_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span>
      </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>EVERY1</span><span> </span><span class="main"><span>[</span></span><span>
        </span><span>K</span><span> </span><span class="main"><span>(</span></span><span>Local_Defs.unfold0_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
        </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_subset|fact"><span>FVars_subset</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
        </span><span>REPEAT_DETERM</span><span> </span><span>o</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span>
        </span><span>Goal.assume_rule_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span>
      </span><span class="main"><span>]</span></span><span>
    </span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
    permute_Uctor </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_Uctor|fact"><span>permute_Uctor</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>THEN_ALL_NEW</span><span> </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>}</span></span><span>
›</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.trm.rec_Uctor|fact"><span class="entity_def" id="POPLmark_2B.XXr_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.XXl_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.ff0_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.f0_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.pick02_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.pick01_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.elims|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.pelims|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.termination|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.pinduct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst.psimps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.intros|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.mono|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel_def|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.inducts|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.simps|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.induct|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.cases|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.intros|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.mono|fact"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.PUmap_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.Umap&apos;_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.suitable2_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.suitable1_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.Uctor_tvsubst_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.Umap_tvsubst_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst2_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst1_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.validP_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.Pmap_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.trm.rec_Uctor|thm"><span class="entity_def" id="POPLmark_2B.XXr_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.XXl_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.ff0_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.f0_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.pick02_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.pick01_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.elims|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.pelims|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.termination|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.pinduct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst.psimps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel.mono|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel_def|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.inducts|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.simps|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.induct|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.cases|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.intros|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph.mono|thm"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.PUmap_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.Umap&apos;_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.suitable2_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.suitable1_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.Uctor_tvsubst_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.Umap_tvsubst_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst2_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst1_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.validP_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.Pmap_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.XXr_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.XXl_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.ff0_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.f0_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.pick02_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.pick01_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_sumC_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap&apos;_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor&apos;_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.PUmap_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;2_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars&apos;1_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap&apos;_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable2_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.suitable1_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.Uctor_tvsubst_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.Umap_tvsubst_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst2_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.UFVars_tvsubst1_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.validP_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set2_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.avoiding_set1_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.Pmap_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars2_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.PFVars1_rec_tvsubst_def|axiom"><span class="entity_def" id="POPLmark_2B.f_tvsubst|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_dom|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_rel|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_sumC|const"><span class="entity_def" id="POPLmark_2B.f_tvsubst_graph|const"><span>local_setup</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>lthy</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>qualify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>I</span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ress</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>lthy</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>MRBNF_Recursor.create_binding_recursor</span></span><span> </span><span class="entity"><span>qualify</span></span><span> </span><span class="entity"><span>fp_res</span></span><span> </span><span class="entity"><span>parameters</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>model</span></span><span class="main"><span>]</span></span><span> </span><span class="entity"><span>lthy</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>notes</span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span class="main"><span>[</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"rec_Uctor"</span></span><span class="main"><span>,</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span>Local_Defs.unfold0</span><span> </span><span class="entity"><span>lthy</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>o</span><span> </span><span class="main"><span>#</span></span><span>rec_Uctor</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ress</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>]</span></span><span> </span><span>|&gt;</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>thmN</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>thms</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>Binding.qualify</span><span> </span><span>true</span><span> </span><span class="inner_quoted"><span>"trm"</span></span><span> </span><span class="main"><span>(</span></span><span>Binding.name</span><span> </span><span class="entity"><span>thmN</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="entity"><span>thms</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>lthy</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Local_Theory.notes</span><span> </span><span class="entity"><span>notes</span></span><span> </span><span class="entity"><span>lthy</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>print</span></span><span class="antiquote"><span>}</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span>ress</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>lthy</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
›</span></span><span>
</span><span class="keyword1"><span class="command"><span>print_theorems</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.tvsubst_def|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_def|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.tvsubst|const"><span>tvsubst</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>tvsubst</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ff0_tvsubst|const"><span class="const"><span>ff0_tvsubst</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f1</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f2</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="POPLmark_2B.U1_pre|type"><span>U1_pre</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre|type"><span class="tconst"><span>trm_pre</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_natural&apos;|fact"><span class="entity_def" id="POPLmark_2B.eta_natural&apos;|thm"><span>eta_natural'</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.eta_set_empties|fact"><span class="entity_def" id="POPLmark_2B.eta_set_empties(5)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(4)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(3)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(2)|thm"><span class="entity_def" id="POPLmark_2B.eta_set_empties(1)|thm"><span>eta_set_empties</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre|const"><span class="const"><span>set1_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span>set3_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span>set4_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre|const"><span class="const"><span>set5_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre|const"><span class="const"><span>set6_trm_pre</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre|const"><span class="const"><span>set1_trm_pre</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>a</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_bd_UNIV|fact"><span>trm_pre.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre|const"><span class="const"><span>set1_trm_pre</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_map|fact"><span>trm_pre.set_map</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.swap_fresh|fact"><span>swap_fresh</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.bij_swap|fact"><span>bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.bij_swap|fact"><span>bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span>set3_trm_pre</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>a</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_bd_UNIV|fact"><span>trm_pre.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span>set3_trm_pre</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_map|fact"><span>trm_pre.set_map</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.swap_fresh|fact"><span>swap_fresh</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural|fact"><span>eta_natural</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span>set4_trm_pre</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;eta&gt;|const"><span class="const"><span>η</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>a</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_bd_UNIV|fact"><span>trm_pre.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span>set4_trm_pre</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_map|fact"><span>trm_pre.set_map</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.swap_fresh|fact"><span>swap_fresh</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural&apos;|fact"><span>eta_natural'</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_swap_bound|fact"><span>MRBNF_FP.supp_swap_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_swap|fact"><span>Prelim.bij_swap</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.image_const|fact"><span>image_const</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.all_cong1|fact"><span>all_cong1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_map|fact"><span>trm_pre.set_map</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural&apos;|fact"><span>eta_natural'</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.forall_in_eq_UNIV|fact"><span>forall_in_eq_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.bd_card_order|fact"><span>trm_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.card_of_ordIso_subst|fact"><span>card_of_ordIso_subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_transitive|fact"><span>ordIso_transitive</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.Card_order_iff_ordIso_card_of|fact"><span>Card_order_iff_ordIso_card_of</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.bd_card_order|fact"><span>trm_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.ordIso_ordLess_False|fact"><span>ordIso_ordLess_False</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_bd|fact"><span>trm_pre.set_bd</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eqI|fact"><span>set_eqI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.image_const|fact"><span>image_const</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.all_cong1|fact"><span>all_cong1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>(∈)</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_map|fact"><span>trm_pre.set_map</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_natural&apos;|fact"><span>eta_natural'</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.forall_in_eq_UNIV|fact"><span>forall_in_eq_UNIV</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.bd_card_order|fact"><span>trm_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.card_of_ordIso_subst|fact"><span>card_of_ordIso_subst</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_transitive|fact"><span>ordIso_transitive</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_symmetric|fact"><span>ordIso_symmetric</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.Card_order_iff_ordIso_card_of|fact"><span>Card_order_iff_ordIso_card_of</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct2|fact"><span>conjunct2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_order_on_Card_order|fact"><span>card_order_on_Card_order</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.bd_card_order|fact"><span>trm_pre.bd_card_order</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.ordIso_ordLess_False|fact"><span>ordIso_ordLess_False</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set_bd|fact"><span>trm_pre.set_bd</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.FalseE|fact"><span>FalseE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34324..34329">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_VVr|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_VVr|thm"><span>tvsubst_VVr</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr|const"><span class="const"><span>VVr</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_def|fact"><span>tvsubst_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.rec_Uctor|fact"><span>trm.rec_Uctor</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_34324..34329"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.eta_set_empties|fact"><span>eta_set_empties</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty|fact"><span>Un_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_empty_left|fact"><span>Int_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_comp|fact"><span>trm_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_id|fact"><span>trm_pre.map_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.asVVr_VVr|fact"><span>asVVr_VVr</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_not_is_VVr|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_not_is_VVr|thm"><span>tvsubst_not_is_VVr</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.U1_pre|type"><span class="tconst"><span>U1_pre</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_35317..35324">f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35446..35457">empty_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre|const"><span class="const"><span>set3_trm_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre|const"><span class="const"><span>set4_trm_pre</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35568..35575">noclash</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm|const"><span class="const"><span>noclash_trm</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35601..35610">VVr_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr|const"><span class="const"><span>isVVr</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_ctor|const"><span class="const"><span>trm_ctor</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre|const"><span class="const"><span>tvsubst_trm_pre</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre|const"><span class="const"><span>map_trm_pre</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_def|fact"><span>tvsubst_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P|const"><span class="const"><span>valid_P</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.valid_P_def|fact"><span>valid_P_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35317..35324"><span>f_prems</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.rec_Uctor|fact"><span>trm.rec_Uctor</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_1_def|fact"><span>PFVars_1_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.PFVars_2_def|fact"><span>PFVars_2_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35446..35457"><span>empty_prems</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35568..35575"><span>noclash</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Uctor_def|fact"><span>Uctor_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_comp|fact"><span>trm_pre.map_comp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_id|fact"><span>bij_id</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_o|fact"><span>id_o</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_id|fact"><span>trm_pre.map_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_not_P|fact"><span>if_not_P</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_35601..35610"><span>VVr_prems</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_36389..36394">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_simps|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(8)|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(7)|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(6)|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(5)|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(4)|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(3)|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(2)|thm"><span class="entity_def" id="POPLmark_2B.tvsubst_simps(1)|thm"><span>tvsubst_simps</span></span></span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="free"><span>t1</span></span><span> </span><span class="free"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>XX</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>XX</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var_def|fact"><span>Var_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.meta_eq_to_obj_eq|fact"><span>meta_eq_to_obj_eq</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_VVr|fact"><span>tvsubst_VVr</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs_def|fact"><span>Abs_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_not_is_VVr|fact"><span>tvsubst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App_def|fact"><span>App_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_not_is_VVr|fact"><span>tvsubst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs_def|fact"><span>TAbs_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_not_is_VVr|fact"><span>tvsubst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp_def|fact"><span>TApp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_not_is_VVr|fact"><span>tvsubst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec_def|fact"><span>Rec_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_not_is_VVr|fact"><span>tvsubst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj_def|fact"><span>Proj_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_not_is_VVr|fact"><span>tvsubst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_def|fact"><span>Let_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_not_is_VVr|fact"><span>tvsubst_not_is_VVr</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_36389..36394"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.set_map|fact"><span>sum.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty|fact"><span>UN_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_empty2|fact"><span>UN_empty2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.noclash_trm_def|fact"><span>noclash_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set1_trm_pre_def|fact"><span>set1_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set6_trm_pre_def|fact"><span>set6_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set2_trm_pre_def|fact"><span>set2_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.isVVr_def|fact"><span>isVVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span>
      </span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm_pre_def|fact"><span>tvsubst_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="comment1"><span>(* END OF MANUAL tvsubst construction *)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.value.inducts|fact"><span class="entity_def" id="POPLmark_2B.value.simps|fact"><span class="entity_def" id="POPLmark_2B.value.induct|fact"><span class="entity_def" id="POPLmark_2B.value.cases|fact"><span class="entity_def" id="POPLmark_2B.value.intros|fact"><span class="entity_def" id="POPLmark_2B.value.mono|fact"><span class="entity_def" id="POPLmark_2B.value_def|fact"><span class="entity_def" id="POPLmark_2B.value.inducts|thm"><span class="entity_def" id="POPLmark_2B.value.simps|thm"><span class="entity_def" id="POPLmark_2B.value.induct|thm"><span class="entity_def" id="POPLmark_2B.value.cases|thm"><span class="entity_def" id="POPLmark_2B.value.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.value.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.value.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.value.mono|thm"><span class="entity_def" id="POPLmark_2B.value_def|thm"><span class="entity_def" id="POPLmark_2B.value_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity"><span class="entity_def" id="POPLmark_2B.value|const"><span>value</span></span></span><span>"</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>value</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>value</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>value</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>value</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42501..42506">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.value_equiv|fact"><span class="entity_def" id="POPLmark_2B.value_equiv|thm"><span>value_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>σ1</span></span><span> </span><span class="free"><span>σ2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.induct|fact"><span>value.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_42501..42506"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.intros|fact"><span>value.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum|type"><span>+</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.\&lt;Gamma&gt;|type"><span class="tconst"><span>Γ</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.wf_ctxt.inducts|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.simps|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.induct|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.cases|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.intros|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.mono|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_def|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.inducts|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.simps|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.induct|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.cases|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt.mono|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt_def|thm"><span class="entity_def" id="POPLmark_2B.wf_ctxt_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.wf_ctxt|const"><span>wf_ctxt</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⊢</span></span><span> _ </span><span class="keyword1"><span>OK</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>70</span><span class="main"><span>]</span></span><span> 100</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Nil|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Nil|thm"><span>wf_ctxt_Nil</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⊢</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="keyword1"><span>OK</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt.wf_ctxt_Cons|thm"><span>wf_ctxt_Cons</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="keyword1"><span>OK</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="keyword1"><span>OK</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>inductive_cases</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.wf_ctxtE|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxtE|thm"><span>wf_ctxtE</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_ConsE|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_ConsE|thm"><span>wf_ctxt_ConsE</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.proj_ctxt_def|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_def|thm"><span class="entity_def" id="POPLmark_2B.proj_ctxt_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.proj_ctxt|const"><span>proj_ctxt</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.\&lt;Gamma&gt;\&lt;^sub&gt;\&lt;tau&gt;|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>τ</sub></span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>proj_ctxt</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter|const"><span class="const"><span>List.map_filter</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><span>of</span></span><span> Inl </span><span class="bound"><span>X</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span class="const"><span>Some</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>X</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span class="const"><span>None</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ty_proj_ctxt|fact"><span class="entity_def" id="POPLmark_2B.wf_ty_proj_ctxt|thm"><span>wf_ty_proj_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_def|fact"><span>vimage_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_def|fact"><span>image_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_beta|fact"><span>split_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl_inject|fact"><span>Inl_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.Inr_Inl_False|fact"><span>Inr_Inl_False</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.exhaust_sel|fact"><span>prod.exhaust_sel</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_43577..43582">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_equiv|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_equiv|thm"><span>wf_ctxt_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>σ1</span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>σ1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.induct|fact"><span>wf_ctxt.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_43869..43881">wf_ctxt_Cons</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_43896..43897">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>σ1</span></span><span> </span><span class="free"><span>σ2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.o_bij|fact"><span>o_bij</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_comp|fact"><span>sum.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>σ1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>σ2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43577..43582"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_id|fact"><span>sum.map_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_comp|fact"><span>sum.map_comp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt.wf_ctxt_Cons</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.set_map|fact"><span>list.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.image_comp|fact"><span>image_comp</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43869..43881"><span>wf_ctxt_Cons</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#offset_43896..43897"><span>1</span></a><span>"</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43577..43582"><span>assms</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_permute|fact"><span>typ.FVars_permute</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43869..43881"><span>wf_ctxt_Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_43869..43881"><span>wf_ctxt_Cons</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.pat_typing.inducts|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.simps|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.induct|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.cases|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.intros|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.mono|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_def|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.inducts|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.simps|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.induct|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.cases|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.pat_typing.mono|thm"><span class="entity_def" id="POPLmark_2B.pat_typing_def|thm"><span class="entity_def" id="POPLmark_2B.pat_typing_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.pat_typing|const"><span>pat_typing</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⊢</span></span><span> _ </span><span class="keyword1"><span>:</span></span><span> _ </span><span class="keyword1"><span>→</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>30</span><span class="main"><span>,</span></span><span>29</span><span class="main"><span>,</span></span><span>30</span><span class="main"><span>]</span></span><span> 30</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.pat_typing.PVar|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.PVar|thm"><span>PVar</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⊢</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing.PRec|fact"><span class="entity_def" id="POPLmark_2B.pat_typing.PRec|thm"><span>PRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>⊢</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span class="const"><span>List.concat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.typing.inducts|fact"><span class="entity_def" id="POPLmark_2B.typing.simps|fact"><span class="entity_def" id="POPLmark_2B.typing.induct|fact"><span class="entity_def" id="POPLmark_2B.typing.cases|fact"><span class="entity_def" id="POPLmark_2B.typing.intros|fact"><span class="entity_def" id="POPLmark_2B.typing.mono|fact"><span class="entity_def" id="POPLmark_2B.typing_def|fact"><span class="entity_def" id="POPLmark_2B.typing.inducts|thm"><span class="entity_def" id="POPLmark_2B.typing.simps|thm"><span class="entity_def" id="POPLmark_2B.typing.induct|thm"><span class="entity_def" id="POPLmark_2B.typing.cases|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(9)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(8)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(7)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(6)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(5)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(4)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.typing.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.typing.mono|thm"><span class="entity_def" id="POPLmark_2B.typing_def|thm"><span class="entity_def" id="POPLmark_2B.typing_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.typing|const"><span>typing</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.\&lt;Gamma&gt;\&lt;^sub&gt;t|type"><span class="tconst"><span>Γ<span class="hidden">⇩</span><sub>t</sub></span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_ </span><span class="keyword1"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> _ </span><span class="keyword1"><span><span class="hidden">❙</span><b>:</b></span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>30</span><span class="main"><span>,</span></span><span>29</span><span class="main"><span>,</span></span><span>30</span><span class="main"><span>]</span></span><span> 30</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.typing.TVar|fact"><span class="entity_def" id="POPLmark_2B.typing.TVar|thm"><span>TVar</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TAbs|fact"><span class="entity_def" id="POPLmark_2B.typing.TAbs|thm"><span>TAbs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Fun|const"><span>→</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TApp|fact"><span class="entity_def" id="POPLmark_2B.typing.TApp|thm"><span>TApp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Fun|const"><span>→</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TTAbs|fact"><span class="entity_def" id="POPLmark_2B.typing.TTAbs|thm"><span>TTAbs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span>  </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>∀</span></a></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T1</span></span></span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TTApp|fact"><span class="entity_def" id="POPLmark_2B.typing.TTApp|thm"><span>TTApp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>∀</span></a></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T11</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T12</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TSub|fact"><span class="entity_def" id="POPLmark_2B.typing.TSub|thm"><span>TSub</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TRec|fact"><span class="entity_def" id="POPLmark_2B.typing.TRec|thm"><span>TRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TProj|fact"><span class="entity_def" id="POPLmark_2B.typing.TProj|thm"><span>TProj</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TT</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing.TLet|fact"><span class="entity_def" id="POPLmark_2B.typing.TLet|thm"><span>TLet</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Δ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Γ</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>⊢</b></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>:</b></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_simps|fact"><span>map_filter_simps</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_wf_ctxt|fact"><span class="entity_def" id="POPLmark_2B.typing_wf_ctxt|thm"><span>typing_wf_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_wf_ty|fact"><span class="entity_def" id="POPLmark_2B.typing_wf_ty|thm"><span>typing_wf_ty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_equiv|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_equiv|thm"><span>proj_ctxt_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_46218..46223">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.ty_proj_ctxt_equiv|fact"><span class="entity_def" id="POPLmark_2B.ty_proj_ctxt_equiv|thm"><span>ty_proj_ctxt_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T1</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_equiv|fact"><span>proj_ctxt_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_46218..46223"><span>assms</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.equiv|fact"><span>ty.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_46218..46223"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_typ_fun_upd_bound&apos;|fact"><span class="entity_def" id="POPLmark_2B.SSupp_typ_fun_upd_bound&apos;|thm"><span>SSupp_typ_fun_upd_bound'</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cnotzero_UNIV|fact"><span>Cnotzero_UNIV</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_bound|fact"><span>SSupp_typ_fun_upd_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_le|fact"><span>SSupp_typ_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_triv|fact"><span>fun_upd_triv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_upd|fact"><span>fun_upd_upd</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.infinite_card_of_insert|fact"><span>infinite_card_of_insert</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_ordLess_trans|fact"><span>ordIso_ordLess_trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cnotzero_UNIV|fact"><span>Cnotzero_UNIV</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_bound|fact"><span>SSupp_typ_fun_upd_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_le|fact"><span>SSupp_typ_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_triv|fact"><span>fun_upd_triv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_upd|fact"><span>fun_upd_upd</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.infinite_card_of_insert|fact"><span>infinite_card_of_insert</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_ordLess_trans|fact"><span>ordIso_ordLess_trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Abs_inject|fact"><span class="entity_def" id="POPLmark_2B.Abs_inject|thm"><span>Abs_inject</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs_def|fact"><span>Abs_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Conditionally_Complete_Lattices.html#Conditionally_Complete_Lattices.conditionally_complete_lattice_class.cSup_singleton|fact"><span>cSup_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_empty|fact"><span>Union_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_empty|fact"><span>image_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_Diff|fact"><span>empty_Diff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_id|fact"><span>prod.map_id</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_pre.set2_typ_pre_def|fact"><span>set2_typ_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span>
    </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.TAbs_inject|fact"><span class="entity_def" id="POPLmark_2B.TAbs_inject|thm"><span>TAbs_inject</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs_def|fact"><span>TAbs_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Conditionally_Complete_Lattices.html#Conditionally_Complete_Lattices.conditionally_complete_lattice_class.cSup_singleton|fact"><span>cSup_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_empty|fact"><span>Union_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_empty|fact"><span>image_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_Diff|fact"><span>empty_Diff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_id|fact"><span>prod.map_id</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_pre.set2_typ_pre_def|fact"><span>set2_typ_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span>
    </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Let_inject|fact"><span class="entity_def" id="POPLmark_2B.Let_inject|thm"><span>Let_inject</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="free"><span>u'</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span>p'</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="free"><span>u'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>p'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_def|fact"><span>Let_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.TT_inject0|fact"><span>trm.TT_inject0</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set3_trm_pre_def|fact"><span>set3_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set4_trm_pre_def|fact"><span>set4_trm_pre_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.set5_trm_pre_def|fact"><span>set5_trm_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inverse|fact"><span>Abs_trm_pre_inverse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Conditionally_Complete_Lattices.html#Conditionally_Complete_Lattices.conditionally_complete_lattice_class.cSup_singleton|fact"><span>cSup_singleton</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_left|fact"><span>Un_empty_left</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_empty|fact"><span>Union_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_empty|fact"><span>image_empty</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_Diff|fact"><span>empty_Diff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.map_trm_pre_def|fact"><span>map_trm_pre_def</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_id|fact"><span>prod.map_id</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_pre.set2_typ_pre_def|fact"><span>set2_typ_pre_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.prod_set_simps|fact"><span>prod_set_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.set_map|fact"><span>prod.set_map</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.UN_single|fact"><span>UN_single</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm_pre.Abs_trm_pre_inject|fact"><span>Abs_trm_pre_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.inject|fact"><span>sum.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span>
    </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_50118..50123">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.in_context_equiv|fact"><span class="entity_def" id="POPLmark_2B.in_context_equiv|thm"><span>in_context_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_50118..50123"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_50407..50412">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_tusubst|fact"><span class="entity_def" id="POPLmark_2B.permute_tusubst|thm"><span>permute_tusubst</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.tvsubst_permutes|fact"><span>typ.tvsubst_permutes</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_50407..50412"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar|fact"><span>SSupp_typ_TyVar</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_le|fact"><span>SSupp_typ_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span class="quoted"><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_50407..50412"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_FFVars|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_FFVars|thm"><span>wf_ctxt_FFVars</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_fresh_ty_extend|fact"><span class="entity_def" id="POPLmark_2B.typing_fresh_ty_extend|thm"><span>typing_fresh_ty_extend</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair_inject|fact"><span>Pair_inject</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnE|fact"><span>UnE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_vimage_iff|fact"><span>subset_vimage_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimageD|fact"><span>vimageD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_FFVars|fact"><span>wf_ctxt_FFVars</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_typ_TyVar_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_typ_TyVar_bound|thm"><span>SSupp_typ_TyVar_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar|fact"><span>SSupp_typ_TyVar</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm|thm"><span>SSupp_trm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var_def|fact"><span>Var_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_Var_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_Var_bound|thm"><span>SSupp_Var_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|fact"><span>SSupp_trm</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_51983..51988">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_eq_tvsubst_trm|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_eq_tvsubst_trm|thm"><span>tvsubst_eq_tvsubst_trm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_trm|const"><span class="const"><span>tvsubst_trm</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51983..51988"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound1</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51983..51988"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51983..51988"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound2</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51983..51988"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51983..51988"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51983..51988"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_51983..51988"><span>assms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_TyVar_bound|fact"><span>SSupp_typ_TyVar_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.subst|fact"><span>trm.subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Abs</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_TyVar_bound|fact"><span>SSupp_typ_TyVar_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_TyVar|fact"><span>tvsubst_typ_TyVar</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>App</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_TyVar_bound|fact"><span>SSupp_typ_TyVar_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TAbs</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_TyVar|fact"><span>IImsupp_typ_TyVar</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_TyVar_bound|fact"><span>SSupp_typ_TyVar_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_TyVar|fact"><span>tvsubst_typ_TyVar</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TApp</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>x2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_TyVar_bound|fact"><span>SSupp_typ_TyVar_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_TyVar|fact"><span>tvsubst_typ_TyVar</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Rec</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Proj</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Let</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.subst|fact"><span>trm.subst</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_Var_upd_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_Var_upd_bound|thm"><span>SSupp_Var_upd_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var_def|fact"><span>Var_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.vvsubst_tvsubst_pat|fact"><span class="entity_def" id="POPLmark_2B.vvsubst_tvsubst_pat|thm"><span>vvsubst_tvsubst_pat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"
  </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>x1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_54838..54843">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f1 f2 g1 x
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.tvsubst_permutes|fact"><span>typ.tvsubst_permutes</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54838..54843"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.vvsubst_permute|fact"><span>typ.vvsubst_permute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_54838..54843"><span>prems</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1-2</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_55058..55063">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.permute_tvsubst|thm"><span>permute_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>g1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>g1</span></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55491..55492">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.SSupp_natural|fact"><span>trm.SSupp_natural</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55739..55740">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.SSupp_natural|fact"><span>typ.SSupp_natural</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_image|fact"><span>card_of_image</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55982..55983">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="bound"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="bound"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_56216..56217">a</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55491..55492"><span>1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55739..55740"><span>2</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55982..55983"><span>3</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.tvsubst_permutes|fact"><span>typ.tvsubst_permutes</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_cong|fact"><span>fun_cong</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_apply|fact"><span>comp_apply</span></a><span class="main"><span>]</span></span><span>  
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>g1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>  
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound2</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound3</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_bd_UNIV|fact"><span>typ.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Bound5</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.Un_bound|fact"><span>var_class.Un_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var_class.UN_bound|fact"><span>var_class.UN_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Abs</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56216..56217"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.IImsupp_natural|fact"><span>trm.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.IImsupp_natural|fact"><span>trm.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TAbs</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56216..56217"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.IImsupp_natural|fact"><span>trm.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.IImsupp_natural|fact"><span>typ.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_permute|fact"><span>typ.FVars_permute</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TApp</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56216..56217"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Let</span><span> </span><span class="skolem"><span>x1</span></span><span> </span><span class="skolem"><span>x2</span></span><span> </span><span class="skolem"><span>x3</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_56216..56217"><span>a</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_map|fact"><span>trm.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_Un_distrib|fact"><span>Int_Un_distrib</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.IImsupp_natural|fact"><span>trm.IImsupp_natural</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_permute|fact"><span>trm.FVars_permute</span></a><span>
          </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_comp|fact"><span>tvsubst_pat_comp</span></a><span>
        </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.vvsubst_tvsubst_pat|fact"><span>vvsubst_tvsubst_pat</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_supp_bound|fact"><span>imsupp_supp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55058..55063"><span>assms</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55491..55492"><span>1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55739..55740"><span>2</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_55982..55983"><span>3</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_tvsubst|fact"><span>permute_tvsubst</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_Var|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_Var|thm"><span>SSupp_trm_Var</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var_def|fact"><span>Var_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_Var_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_Var_bound|thm"><span>SSupp_trm_Var_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_fun_upd|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_fun_upd|thm"><span>SSupp_trm_fun_upd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span class="main"><span>:=</span></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="const"><span>insert</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_fun_upd_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_fun_upd_bound|thm"><span>SSupp_trm_fun_upd_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span class="main"><span>:=</span></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_fun_upd|fact"><span>SSupp_trm_fun_upd</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.Cnotzero_UNIV|fact"><span>Cnotzero_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite.insertI|fact"><span>finite.insertI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.infinite_card_of_insert|fact"><span>infinite_card_of_insert</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordIso_ordLess_trans|fact"><span>ordIso_ordLess_trans</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_typ_TyVar_upd_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_typ_TyVar_upd_bound|thm"><span>SSupp_typ_TyVar_upd_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_tvsubst_typ_def|fact"><span>tvVVr_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_typ_tvsubst_typ_def|fact"><span>tvη_typ_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar_def|fact"><span>TyVar_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.emp_bound_cmin|fact"><span class="entity_def" id="POPLmark_2B.emp_bound_cmin|thm"><span>emp_bound_cmin</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_Var|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_Var(2)|thm"><span class="entity_def" id="POPLmark_2B.IImsupp_Var(1)|thm"><span>IImsupp_Var</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd|thm"><span>IImsupp_fun_upd</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_tvsubst_typ_def|fact"><span>tvVVr_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_typ_tvsubst_typ_def|fact"><span>tvη_typ_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar_def|fact"><span>TyVar_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span>
    </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_def|fact"><span>imsupp_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_permute|fact"><span>typ.FVars_permute</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_60675..60680">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd_permute|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_fun_upd_permute|thm"><span>IImsupp_fun_upd_permute</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp|const"><span class="const"><span>imsupp</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvVVr_tvsubst_typ_def|fact"><span>tvVVr_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tv\&lt;eta&gt;_typ_tvsubst_typ_def|fact"><span>tvη_typ_tvsubst_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar_def|fact"><span>TyVar_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span>
    </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_def|fact"><span>imsupp_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_60675..60680"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_permute|fact"><span>typ.FVars_permute</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61073..61078">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_TyVar|fact"><span class="entity_def" id="POPLmark_2B.permute_TyVar|thm"><span>permute_TyVar</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61073..61078"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61265..61270">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_Var|fact"><span class="entity_def" id="POPLmark_2B.permute_Var|thm"><span>permute_Var</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61265..61270"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61517..61522">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.fun_upd_comp_TyVar|fact"><span class="entity_def" id="POPLmark_2B.fun_upd_comp_TyVar|thm"><span>fun_upd_comp_TyVar</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61517..61522"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61780..61785">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.fun_upd_comp_Var|fact"><span class="entity_def" id="POPLmark_2B.fun_upd_comp_Var|thm"><span>fun_upd_comp_Var</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_61780..61785"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_def|fact"><span>fun_upd_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_62106..62111">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_tusubst_trm_trm|fact"><span class="entity_def" id="POPLmark_2B.permute_tusubst_trm_trm|thm"><span>permute_tusubst_trm_trm</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62106..62111"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_tvsubst|fact"><span>permute_tvsubst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_62462..62467">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_tusubst_trm_typ|fact"><span class="entity_def" id="POPLmark_2B.permute_tusubst_trm_typ|thm"><span>permute_tusubst_trm_typ</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62462..62467"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_tvsubst|fact"><span>permute_tvsubst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Forall_eq_tvsubst_typ|fact"><span class="entity_def" id="POPLmark_2B.Forall_eq_tvsubst_typ|thm"><span>Forall_eq_tvsubst_typ</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_62850..62852">il</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span class="const"><span>Forall</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span class="const"><span>Forall</span></span></a><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>T2</span></span><span> </span><span class="free"><span>T1'</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>Y</span></span><span class="main"><span>:=</span></span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T1'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_63000..63001">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on|const"><span class="const"><span>id_on</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_63085..63086">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>T1'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>T1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_62850..62852"><span>il</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_inject|fact"><span>typ_inject</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_63085..63086"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ_eq_tvsubst_typ_TyVar&apos;|fact"><span>permute_typ_eq_tvsubst_typ_TyVar'</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fact</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_comp|fact"><span>tvsubst_typ_comp</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_63000..63001"><span>f</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar|fact"><span>SSupp_typ_TyVar</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_le|fact"><span>SSupp_typ_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_subset_bound|fact"><span>card_of_subset_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite.simps|fact"><span>finite.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar|fact"><span>SSupp_typ_TyVar</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_le|fact"><span>SSupp_typ_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_subset_bound|fact"><span>card_of_subset_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite.simps|fact"><span>finite.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_tvsubst_typ_bound|fact"><span>SSupp_typ_tvsubst_typ_bound</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>›</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_63000..63001"><span>f</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.SSupp_comp_bound|fact"><span>typ.SSupp_comp_bound</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
       </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_63000..63001"><span>f</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_onD|fact"><span>id_onD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>  </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_63972..63977">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.in_context_equiv_Inr|fact"><span class="entity_def" id="POPLmark_2B.in_context_equiv_Inr|thm"><span>in_context_equiv_Inr</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_63972..63977"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> y T'
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.exhaust|fact"><span>sum.exhaust</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>y</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_pointE|fact"><span>bij_pointE</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_bij|fact"><span>typ.permute_bij</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_imageI|fact"><span>map_prod_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.extend_equiv_sum|fact"><span class="entity_def" id="POPLmark_2B.extend_equiv_sum|thm"><span>extend_equiv_sum</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.concat_equiv_sum|fact"><span class="entity_def" id="POPLmark_2B.concat_equiv_sum|thm"><span>concat_equiv_sum</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum.simps|fact"><span>map_sum.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_simp|fact"><span>map_prod_simp</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_65054..65059">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_equiv|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_equiv|thm"><span>pat_typing_equiv</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_65054..65059"><span>assms</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.vvsubst_permute|fact"><span>typ.vvsubst_permute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_concat|fact"><span>map_concat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.intros|fact"><span>pat_typing.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_65054..65059"><span>assms</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_tvsubst_pat|fact"><span>PVars_tvsubst_pat</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_65054..65059"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.HELP1|fact"><span class="entity_def" id="POPLmark_2B.HELP1|thm"><span>HELP1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>
     </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x2</span></span><span> </span><span class="bound"><span>x3</span></span><span class="main"><span>.</span></span><span>
         </span><span class="free"><span>Ra</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
              </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Γ'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x3</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span> </span><span class="free"><span>σ2a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>XXa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="free"><span>σ1a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TTa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span>
    </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ra</span></span><span> </span><span class="free"><span>Γ'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>XXa</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/String.html#String.string|type"><span class="tconst"><span>string</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset|type"><span class="tconst"><span>lfset</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>TTa</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_comp|fact"><span>prod.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_comp|fact"><span>sum.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident|fact"><span>sum.map_ident</span></a><span>
       </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_comp|fact"><span>typ.permute_comp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_id|fact"><span>typ.permute_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span>
       </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_map|fact"><span>lfset.rel_map</span></a><span>
       </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_dom|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_dom|thm"><span>pat_typing_dom</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> del_insts</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_subset_iff|fact"><span>image_subset_iff</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_concat_disjoint|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_concat_disjoint|thm"><span>wf_ctxt_concat_disjoint</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.disjoint|const"><span>⊥</span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.typing.equiv|fact"><span class="entity_def" id="POPLmark_2B.typing.strong_induct|fact"><span class="entity_def" id="POPLmark_2B.II&apos;_typing_def|fact"><span class="entity_def" id="POPLmark_2B.II_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm3_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm2_typing_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm1_typing_def|fact"><span class="entity_def" id="POPLmark_2B.G_typing_def|fact"><span class="entity_def" id="POPLmark_2B.typing.equiv|thm"><span class="entity_def" id="POPLmark_2B.typing.strong_induct|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_typing_def|thm"><span class="entity_def" id="POPLmark_2B.II_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm3_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm2_typing_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm1_typing_def|thm"><span class="entity_def" id="POPLmark_2B.G_typing_def|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.II_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm3_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm2_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm1_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.G_typing_def|axiom"><span class="entity_def" id="POPLmark_2B.II&apos;_typing|const"><span class="entity_def" id="POPLmark_2B.II_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp32_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp31_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp22_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp21_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp12_typing|const"><span class="entity_def" id="POPLmark_2B.Tsupp11_typing|const"><span class="entity_def" id="POPLmark_2B.Tperm3_typing|const"><span class="entity_def" id="POPLmark_2B.Tperm2_typing|const"><span class="entity_def" id="POPLmark_2B.Tperm1_typing|const"><span class="entity_def" id="POPLmark_2B.G_typing|const"><span>binder_inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> typing
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_66899..66904">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> R B1 B2 Γ t T
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_simps|fact"><span>ex_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj_disj_distribL|fact"><span>conj_disj_distribL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_disj_distrib|fact"><span>ex_disj_distrib</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x T' Γ'
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' x T1 t T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>x</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.Un_bound|fact"><span>trm.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>finite_set</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cinfinite_imp_infinite|fact"><span>cinfinite_imp_infinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inr|fact"><span>inj_Inr</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UNIV_cinfinite|fact"><span>lfset.UNIV_cinfinite</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs_inject|fact"><span>Abs_inject</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span>
          </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' t T' _ u
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' X T1 t T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T1</span></span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.Un_bound|fact"><span>typ.Un_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.UN_bound|fact"><span>typ.UN_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_bd_UNIV|fact"><span>typ.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>finite_set</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cinfinite_imp_infinite|fact"><span>cinfinite_imp_infinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inl|fact"><span>inj_Inl</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UNIV_cinfinite|fact"><span>lfset.UNIV_cinfinite</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs_inject|fact"><span>TAbs_inject</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.cases|fact"><span>setl.cases</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_fresh_ty_extend|fact"><span>typing_fresh_ty_extend</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_inject|fact"><span>typ_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span>
            </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_cong_id|fact"><span>typ.permute_cong_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
            </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.cases|fact"><span>setl.cases</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' t X T11 T12 T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T11</span></span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.Un_bound|fact"><span>typ.Un_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.UN_bound|fact"><span>typ.UN_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_bd_UNIV|fact"><span>typ.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>finite_set</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cinfinite_imp_infinite|fact"><span>cinfinite_imp_infinite</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inl|fact"><span>inj_Inl</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UNIV_cinfinite|fact"><span>lfset.UNIV_cinfinite</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs_inject|fact"><span>TAbs_inject</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.cases|fact"><span>setl.cases</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar|fact"><span>SSupp_typ_TyVar</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_fun_upd_le|fact"><span>SSupp_typ_fun_upd_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.card_of_Un_singl_ordLess_infinite|fact"><span>card_of_Un_singl_ordLess_infinite</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.emp_bound|fact"><span>emp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.insert_bound|fact"><span>insert_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup.orderE|fact"><span>sup.orderE</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>T11</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Forall_eq_tvsubst_typ|fact"><span>Forall_eq_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_inject|fact"><span>typ_inject</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.inject|fact"><span>typ.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Γ' t T' p Δ u U
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.extend_fresh|fact"><span>extend_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> B</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> σ
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_Un_distrib|fact"><span>Int_Un_distrib</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_Un_distrib2|fact"><span>Int_Un_distrib2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_def|fact"><span>vimage_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>T'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_equiv|fact"><span>pat_typing_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>σ</span></span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_66899..66904"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>σ</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>4</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> z U x
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>z</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_concat_disjoint|fact"><span>wf_ctxt_concat_disjoint</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_iff|fact"><span>Diff_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span>
                </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_eq|fact"><span>vimage_eq</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.Un_bound|fact"><span>typ.Un_bound</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_minus_bound|fact"><span>card_of_minus_bound</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.match.inducts|fact"><span class="entity_def" id="POPLmark_2B.match.simps|fact"><span class="entity_def" id="POPLmark_2B.match.induct|fact"><span class="entity_def" id="POPLmark_2B.match.cases|fact"><span class="entity_def" id="POPLmark_2B.match.intros|fact"><span class="entity_def" id="POPLmark_2B.match.mono|fact"><span class="entity_def" id="POPLmark_2B.match_def|fact"><span class="entity_def" id="POPLmark_2B.match.inducts|thm"><span class="entity_def" id="POPLmark_2B.match.simps|thm"><span class="entity_def" id="POPLmark_2B.match.induct|thm"><span class="entity_def" id="POPLmark_2B.match.cases|thm"><span class="entity_def" id="POPLmark_2B.match.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.match.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.match.mono|thm"><span class="entity_def" id="POPLmark_2B.match_def|thm"><span class="entity_def" id="POPLmark_2B.match_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.match|const"><span>match</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>σ</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.match.MPVar|fact"><span class="entity_def" id="POPLmark_2B.match.MPVar|thm"><span>MPVar</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>σ</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>match</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.match.MPRec|fact"><span class="entity_def" id="POPLmark_2B.match.MPRec|thm"><span>MPRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>match</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>match</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>PP</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.restrict_def|fact"><span class="entity_def" id="POPLmark_2B.restrict_def|thm"><span class="entity_def" id="POPLmark_2B.restrict_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="POPLmark_2B.restrict|const"><span>restrict</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_cong|fact"><span class="entity_def" id="POPLmark_2B.match_cong|thm"><span>match_cong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_restrict|fact"><span class="entity_def" id="POPLmark_2B.match_restrict|thm"><span>match_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_cong|fact"><span>match_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.step.inducts|fact"><span class="entity_def" id="POPLmark_2B.step.simps|fact"><span class="entity_def" id="POPLmark_2B.step.induct|fact"><span class="entity_def" id="POPLmark_2B.step.cases|fact"><span class="entity_def" id="POPLmark_2B.step.intros|fact"><span class="entity_def" id="POPLmark_2B.step.mono|fact"><span class="entity_def" id="POPLmark_2B.step_def|fact"><span class="entity_def" id="POPLmark_2B.step.inducts|thm"><span class="entity_def" id="POPLmark_2B.step.simps|thm"><span class="entity_def" id="POPLmark_2B.step.induct|thm"><span class="entity_def" id="POPLmark_2B.step.cases|thm"><span class="entity_def" id="POPLmark_2B.step.intros(10)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(9)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(8)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(7)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(6)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(5)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(4)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(3)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(2)|thm"><span class="entity_def" id="POPLmark_2B.step.intros(1)|thm"><span class="entity_def" id="POPLmark_2B.step.mono|thm"><span class="entity_def" id="POPLmark_2B.step_def|thm"><span class="entity_def" id="POPLmark_2B.step_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="POPLmark_2B.step|const"><span>step</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="POPLmark_2B.step.AppAbs|fact"><span class="entity_def" id="POPLmark_2B.step.AppAbs|thm"><span>AppAbs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.TAppTAbs|fact"><span class="entity_def" id="POPLmark_2B.step.TAppTAbs|thm"><span>TAppTAbs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T2</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.LetV|fact"><span class="entity_def" id="POPLmark_2B.step.LetV|thm"><span>LetV</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ProjRec|fact"><span class="entity_def" id="POPLmark_2B.step.ProjRec|thm"><span>ProjRec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>VV</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.AppCong1|fact"><span class="entity_def" id="POPLmark_2B.step.AppCong1|thm"><span>AppCong1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.AppCong2|fact"><span class="entity_def" id="POPLmark_2B.step.AppCong2|thm"><span>AppCong2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.TAppCong|fact"><span class="entity_def" id="POPLmark_2B.step.TAppCong|thm"><span>TAppCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.ProjCong|fact"><span class="entity_def" id="POPLmark_2B.step.ProjCong|thm"><span>ProjCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Proj|const"><span class="const"><span>Proj</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.RecCong|fact"><span class="entity_def" id="POPLmark_2B.step.RecCong|thm"><span>RecCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>XX</span></span></span></span><span class="main"><span>⦃</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="POPLmark_2B.step.LetCong|fact"><span class="entity_def" id="POPLmark_2B.step.LetCong|thm"><span>LetCong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>step</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_empty|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_empty|thm"><span>proj_ctxt_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.canonical_closed_Fun|fact"><span class="entity_def" id="POPLmark_2B.canonical_closed_Fun|thm"><span>canonical_closed_Fun</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T11</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Fun|const"><span>→</span></a></span><span> </span><span class="free"><span>T12</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>T11</span></span></span><span> </span><span class="quoted"><span class="free"><span>T12</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.canonical_closed_Forall|fact"><span class="entity_def" id="POPLmark_2B.canonical_closed_Forall|thm"><span>canonical_closed_Forall</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span class="const"><span>Forall</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T11</span></span><span> </span><span class="free"><span>T12</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>S11</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>T11</span></span></span><span> </span><span class="quoted"><span class="free"><span>T12</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.canonical_closed_TRec|fact"><span class="entity_def" id="POPLmark_2B.canonical_closed_TRec|thm"><span>canonical_closed_TRec</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>XX</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="bound"><span>XX</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="bound"><span>XX</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="bound"><span>XX</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>TT</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order.trans|fact"><span>order.trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|fact"><span>list.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.distinct|fact"><span>trm.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>37</span><span class="main"><span class="main"><span>,</span></span></span><span>39</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.inject|fact"><span>trm.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.TRec_typingD|fact"><span class="entity_def" id="POPLmark_2B.TRec_typingD|thm"><span>TRec_typingD</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>XX</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>XX</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>XX</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>XX</span></span></span><span> </span><span class="quoted"><span class="free"><span>TT</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.cases|fact"><span>ty.cases</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Least_Fixpoint.html#BNF_Least_Fixpoint.meta_spec2|fact"><span>meta_spec2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_spec|fact"><span>meta_spec</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.prod_in_Collect_iff|fact"><span>prod_in_Collect_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_unique_on_PVars|fact"><span class="entity_def" id="POPLmark_2B.match_unique_on_PVars|thm"><span>match_unique_on_PVars</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar_def|fact"><span>PVar_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar_def|fact"><span>PVar_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat_inverse|fact"><span>Rep_pat_inverse</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_ex_match|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_ex_match|thm"><span>pat_typing_ex_match</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'t</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_76892..76896">PRec</span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_TRec|fact"><span>canonical_closed_TRec</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>,</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>XX</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_76970..76972">XX</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="bound"><span>v</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_77050..77056">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>SOME</span></a></span><span> </span><span class="bound"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup|const"><span class="const"><span>lflookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup|const"><span class="const"><span>lfrlookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup|const"><span class="const"><span>lflookup</span></span></a><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup|const"><span class="const"><span>lfrlookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76970..76972"><span>XX</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>σ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.MPRec|fact"><span>MPRec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.ord_eq_le_trans|fact"><span>ord_eq_le_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76970..76972"><span>XX</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> l P v'
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>v'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_lfin|fact"><span>lflookup_lfin</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TRec_typingD|fact"><span>TRec_typingD</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76970..76972"><span>XX</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_lfin|fact"><span>lflookup_lfin</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76970..76972"><span>XX</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_values|fact"><span>lfin_values</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_cong|fact"><span>match_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.ballI|fact"><span>ballI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_77050..77056"><span>σ_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> σ x
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup|const"><span class="const"><span>lfrlookup</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_eq|fact"><span>lflookup_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_unique_on_PVars|fact"><span>match_unique_on_PVars</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.tfl_some|fact"><span>tfl_some</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfrlookup_eq|fact"><span>lfrlookup_eq</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_76892..76896"><span>PRec</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lflookup_eq|fact"><span>lflookup_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.MPVar|fact"><span>MPVar</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.progress|fact"><span class="entity_def" id="POPLmark_2B.progress|thm"><span>progress</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>t'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step|const"><span class="const"><span>step</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.induct|fact"><span>typing.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 2
     </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.intros|fact"><span>value.intros</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.intros|fact"><span>step.intros</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.cases|fact"><span>value.cases</span></a><span>
     </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_Fun|fact"><span>canonical_closed_Fun</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_Forall|fact"><span>canonical_closed_Forall</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.canonical_closed_TRec|fact"><span>canonical_closed_TRec</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.RecCong|fact"><span>RecCong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.ProjRec|fact"><span>ProjRec</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_ex_match|fact"><span>pat_typing_ex_match</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value.intros|fact"><span>value.intros</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.intros|fact"><span>step.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.set_proj_ctxt_eq|fact"><span class="entity_def" id="POPLmark_2B.set_proj_ctxt_eq|thm"><span>set_proj_ctxt_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_permute|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_permute|thm"><span>wf_ctxt_extend_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Γ'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Γ'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ'</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_permute|fact"><span class="entity_def" id="POPLmark_2B.typing_permute|thm"><span>typing_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVar|fact"><span>TVar</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TAbs|fact"><span>TAbs</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.simps|fact"><span>list.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>15</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TApp|fact"><span>TApp</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTAbs|fact"><span>TTAbs</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.simps|fact"><span>list.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>15</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTApp|fact"><span>TTApp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.set_proj_ctxt_eq|fact"><span>set_proj_ctxt_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_permute|fact"><span>ty_permute</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.set_proj_ctxt_eq|fact"><span>set_proj_ctxt_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_permute|fact"><span>ty_permute</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>TRec</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>TProj</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>TLet</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_append|fact"><span>set_append</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_permute|fact"><span>wf_ctxt_extend_permute</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_concat|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_concat|thm"><span>proj_ctxt_concat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inl|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inl|thm"><span>proj_ctxt_extend_Inl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inr|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_extend_Inr|thm"><span>proj_ctxt_extend_Inr</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.dom_proj_ctxt|fact"><span class="entity_def" id="POPLmark_2B.dom_proj_ctxt|thm"><span>dom_proj_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span class="const"><span>fst</span></span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.set_proj_ctxt|fact"><span class="entity_def" id="POPLmark_2B.set_proj_ctxt|thm"><span>set_proj_ctxt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_insert_middle|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_insert_middle|thm"><span>wf_ctxt_insert_middle</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_weaken1|fact"><span class="entity_def" id="POPLmark_2B.typing_weaken1|thm"><span>typing_weaken1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>U</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_80874..80878">TAbs</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_80874..80878"><span>TAbs</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TAbs|fact"><span>typing.TAbs</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_permute|fact"><span>typing_permute</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_81109..81114">TTApp</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81109..81114"><span>TTApp</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_weakening_extend|fact"><span>ty_weakening_extend</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.simps|fact"><span>typing.simps</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTApp|fact"><span>typing.TTApp</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_81360..81365">TTAbs</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81360..81365"><span>TTAbs</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTAbs|fact"><span>typing.TTAbs</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_permute|fact"><span>typing_permute</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_81598..81602">TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81598..81602"><span>TSub</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_weakening_extend|fact"><span>ty_weakening_extend</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.simps|fact"><span>typing.simps</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_81943..81947">TLet</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonI|fact"><span>singletonI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81943..81947"><span>TLet</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_insert_middle|fact"><span>wf_ctxt_insert_middle</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_insert_middle|fact"><span>wf_ctxt_insert_middle</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonI|fact"><span>singletonI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.sum_set_simps|fact"><span>sum_set_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup.orderE|fact"><span>sup.orderE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_81943..81947"><span>TLet</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_permute|fact"><span>typing_permute</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_weaken|fact"><span class="entity_def" id="POPLmark_2B.typing_weaken|thm"><span>typing_weaken</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>xT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_weaken1|fact"><span>typing_weaken1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_narrowing|fact"><span class="entity_def" id="POPLmark_2B.typing_narrowing|thm"><span>typing_narrowing</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_83128..83132">TVar</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_83128..83132"><span>TVar</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.rev_image_eqI|fact"><span>rev_image_eqI</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair_inject|fact"><span>Pair_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_83128..83132"><span>TVar</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVar|fact"><span>typing.TVar</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_83484..83488">TRec</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_83484..83488"><span>TRec</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.rev_image_eqI|fact"><span>rev_image_eqI</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Pair_inject|fact"><span>Pair_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_extend_Inl|fact"><span>proj_ctxt_extend_Inl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ConsE|fact"><span>wf_ConsE</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt.wf_ctxt_Cons|fact"><span>wf_ctxt_Cons</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_83484..83488"><span>TRec</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_narrowing2|fact"><span>ty_narrowing2</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.append_Cons|fact"><span>append_Cons</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_narrowing2|fact"><span>ty_narrowing2</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken|thm"><span>wf_ctxt_weaken</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_notin|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_notin|thm"><span>wf_ctxt_notin</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_trm_Var|fact"><span class="entity_def" id="POPLmark_2B.tvVVr_tvsubst_trm_Var|thm"><span>tvVVr_tvsubst_trm_Var</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="const"><span>tvVVr_tvsubst_trm</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvVVr_tvsubst_trm_def|fact"><span>tvVVr_tvsubst_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.VVr_def|fact"><span>VVr_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var_def|fact"><span>Var_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tv\&lt;eta&gt;_trm_tvsubst_trm_def|fact"><span>tvη_trm_tvsubst_trm_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_unary|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_unary|thm"><span>IImsupp_2_trm_unary</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="const"><span>insert</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.typing_tvsubst|thm"><span>typing_tvsubst</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_84648..84652">TVar</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="skolem"><span>Δ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken|fact"><span>wf_ctxt_weaken</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_notin|fact"><span>wf_ctxt_notin</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_84648..84652"><span>TVar</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVar|fact"><span>typing.TVar</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_weaken|fact"><span>typing_weaken</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TAbs</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.append_Cons|fact"><span>append_Cons</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_fun_upd|fact"><span>SSupp_trm_fun_upd</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TAbs|fact"><span>typing.TAbs</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TApp</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TApp|fact"><span>typing.TApp</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TTAbs</span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.append_Cons|fact"><span>append_Cons</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTAbs|fact"><span>typing.TTAbs</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TTApp</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTApp|fact"><span>typing.TTApp</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken|fact"><span>wf_ctxt_weaken</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_map|fact"><span>lfset.rel_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TProj</span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>typing.TProj</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLet</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ'</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append_assoc|fact"><span>append_assoc</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_unary|fact"><span>IImsupp_2_trm_unary</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Abs_inject_permute|fact"><span class="entity_def" id="POPLmark_2B.Abs_inject_permute|thm"><span>Abs_inject_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs_inject|fact"><span>Abs_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span>
     </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_permute|fact"><span>trm.FVars_permute</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong_id|fact"><span>trm.permute_cong_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong_id|fact"><span>trm.permute_cong_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.TAbs_inject_permute|fact"><span class="entity_def" id="POPLmark_2B.TAbs_inject_permute|thm"><span>TAbs_inject_permute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs_inject|fact"><span>TAbs_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span>
     </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_permute|fact"><span>trm.FVars_permute</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong_id|fact"><span>trm.permute_cong_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong_id|fact"><span>trm.permute_cong_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>Y</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_AbsD|fact"><span class="entity_def" id="POPLmark_2B.typing_AbsD|thm"><span>typing_AbsD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Fun|const"><span>→</span></a></span><span> </span><span class="free"><span>U2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>S2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="bound"><span>S2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="bound"><span>S2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs|const"><span class="const"><span>Abs</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>S1</span></span></span><span> </span><span class="quoted"><span class="free"><span>s2</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>U1</span></span></span><span> </span><span class="quoted"><span class="free"><span>U2</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_87030..87034">TAbs</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_87030..87034"><span>TAbs</span></a><span class="main"><span>(</span></span><span>1-4</span><span class="main"><span>,</span></span><span>6-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Abs_inject_permute|fact"><span>Abs_inject_permute</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_ArrEL|fact"><span>SA_ArrEL</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T2</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.equiv|fact"><span>typing.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="free"><span class="free"><span>x</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 4 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.simps|fact"><span>setr.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span>
          </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong_id|fact"><span>trm.permute_cong_id</span></a><span>
          </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong2|fact"><span>arg_cong2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>Γ</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="skolem"><span>T2</span></span><span>"</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_TAbsD|fact"><span class="entity_def" id="POPLmark_2B.typing_TAbsD|thm"><span>typing_TAbsD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FFVars_ctxt|const"><span class="const"><span>FFVars_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><span>⟹</span></span><span>
   </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>∀</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall|const"><span>.</span></a></span><span> </span><span class="free"><span>U2</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>S2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>s2</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="bound"><span>S2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="bound"><span>S2</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs|const"><span class="const"><span>TAbs</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="free"><span>s2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>S1</span></span></span><span> </span><span class="quoted"><span class="free"><span>s2</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>U1</span></span></span><span> </span><span class="quoted"><span class="free"><span>U2</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_88000..88005">TTAbs</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>1</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>S1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>11</span><span class="main"><span class="main"><span>,</span></span></span><span>12</span><span class="main"><span class="main"><span>,</span></span></span><span>4</span><span class="main"><span class="main"><span>,</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.rrename_swap_FFvars|fact"><span>rrename_swap_FFvars</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subsetD|fact"><span>subsetD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.inject|fact"><span>trm.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>2</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_cong_id|fact"><span>typ.permute_cong_id</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_eqD|fact"><span>fst_eqD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setl.simps|fact"><span>setl.simps</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimageI|fact"><span>vimageI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>13</span><span class="main"><span class="main"><span>,</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_88534..88535">3</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="skolem"><span>Y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_subset_conv|fact"><span>Diff_subset_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>15</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.le_sup_iff|fact"><span>le_sup_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_commute|fact"><span>sup_commute</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set|fact"><span>typ.set</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_88687..88688">4</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs</span></a><span class="main"><span>(</span></span><span>1-9</span><span class="main"><span>,</span></span><span>11-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TAbs_inject_permute|fact"><span>TAbs_inject_permute</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_inject|fact"><span>typ_inject</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_AllEL|fact"><span>SA_AllEL</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.equiv|fact"><span>typing.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.simps|fact"><span>setr.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span>
          </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>5</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_AllER|fact"><span>SA_AllER</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.Forall_swapD|fact"><span>Forall_swapD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_sym|fact"><span>swap_sym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_narrowing|fact"><span>typing_narrowing</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> S1 Z S2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Γ </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Z</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span></a></span><span> </span><span class="free"><span class="free"><span>U1</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.equiv|fact"><span>ty.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="free"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Z</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Z</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span></a></span><span> </span><span class="free"><span class="free"><span>U1</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_comp|fact"><span>typ.permute_comp</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>U1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U1</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>Z</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T2</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_cong|fact"><span>typ.permute_cong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.permute_cong_id|fact"><span>typ.permute_cong_id</span></a><span>
           </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_comp_bound|fact"><span>supp_comp_bound</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#offset_88534..88535"><span>3</span></a><span>"</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_empty_right|fact"><span>Un_empty_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_insert_right|fact"><span>Un_insert_right</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insertE|fact"><span>insertE</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_88000..88005"><span>TTAbs.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#offset_88687..88688"><span>4</span></a><span>"</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_pairs2|fact"><span>split_pairs2</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_FFVars|fact"><span>wf_FFVars</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty_fresh_extend|fact"><span>ty_fresh_extend</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_RecD|fact"><span class="entity_def" id="POPLmark_2B.typing_RecD|thm"><span>typing_RecD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>VV</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>VV</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>VV</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Rec|const"><span class="const"><span>Rec</span></span></a><span> </span><span class="free"><span>VV</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TTa</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist_map_lfset|fact"><span>labelist_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.distinct|fact"><span>typ.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>17</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.inject|fact"><span>typ.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SA_TRecER|fact"><span>SA_TRecER</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>TTa</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>TT</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>Γ'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>TTa</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
        </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>_</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.distinct|fact"><span>typ.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>17</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>TTa</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.inject|fact"><span>typ.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>TTa</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_well_scoped|fact"><span class="entity_def" id="POPLmark_2B.typing_well_scoped|thm"><span>typing_well_scoped</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TVar</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TAbs</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_eq|fact"><span>vimage_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TTAbs</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.in_mono|fact"><span>in_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.inject|fact"><span>prod.inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage_eq|fact"><span>vimage_eq</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_ConsE|fact"><span>wf_ctxt_ConsE</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TTApp</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>TSub</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TProj</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLet</span><span> </span><span class="skolem"><span>Γ'</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_dom|fact"><span>pat_typing_dom</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.ty_refl&apos;|fact"><span class="entity_def" id="POPLmark_2B.ty_refl&apos;|thm"><span>ty_refl'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_92672..92677">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm_bound|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm_bound|thm"><span>IImsupp_1_trm_bound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_92672..92677"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UN_bound|fact"><span>lfset.UN_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_93007..93012">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_bound|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_bound|thm"><span>IImsupp_2_trm_bound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_93007..93012"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.UN_bound|fact"><span>lfset.UN_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_93341..93346">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FVars_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.FVars_tvsubst|thm"><span>FVars_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_93341..93346"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_bound|fact"><span>IImsupp_typ_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_bound|fact"><span>IImsupp_1_trm_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_bound|fact"><span>IImsupp_2_trm_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.in_IImsupp|fact"><span>trm.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_tvsubst_pat|fact"><span>PVars_tvsubst_pat</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_iff|fact"><span>Diff_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_iff|fact"><span>Int_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span>
        </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_tvsubst_pat|fact"><span>PVars_tvsubst_pat</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_tvsubst_pat|fact"><span>PVars_tvsubst_pat</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.in_IImsupp|fact"><span>trm.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_94589..94594">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FTVars_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.FTVars_tvsubst|thm"><span>FTVars_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_94589..94594"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_bound|fact"><span>IImsupp_typ_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_bound|fact"><span>IImsupp_1_trm_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_bound|fact"><span>IImsupp_2_trm_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.ex_in_conv|fact"><span>ex_in_conv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.in_IImsupp|fact"><span>trm.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_VVr|fact"><span>typ.FVars_VVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.in_IImsupp|fact"><span>typ.in_IImsupp</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars_tvsubst_pat|fact"><span>PTVars_tvsubst_pat</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_iff|fact"><span>Diff_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.IntI|fact"><span>IntI</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars_tvsubst_pat|fact"><span>PTVars_tvsubst_pat</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_95850..95855">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_tvsubst|thm"><span>SSupp_trm_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_95850..95855"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_VVr|fact"><span>tvsubst_VVr</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_96217..96222">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_1_trm_tvsubst|thm"><span>IImsupp_1_trm_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_96217..96222"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst|fact"><span>SSupp_trm_tvsubst</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>g</span></span></span><span> </span><span class="quoted"><span class="free"><span>h</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars_tvsubst|fact"><span>FTVars_tvsubst</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty_iff|fact"><span>empty_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_VVr|fact"><span>typ.FVars_VVr</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_96852..96857">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.IImsupp_2_trm_tvsubst|thm"><span>IImsupp_2_trm_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_96852..96857"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst|fact"><span>SSupp_trm_tvsubst</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>g</span></span></span><span> </span><span class="quoted"><span class="free"><span>h</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_tvsubst|fact"><span>FVars_tvsubst</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span>
      </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_97383..97388">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_tvsubst_bound|thm"><span>SSupp_trm_tvsubst_bound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>h</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst|fact"><span>SSupp_trm_tvsubst</span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_97383..97388"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Un_ordLess_infinite_Field|fact"><span>card_of_Un_ordLess_infinite_Field</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ </span><a class="entity_ref" href="POPLmark_2B.html#offset_97383..97388"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>3</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.cinfinite_def|fact"><span>cinfinite_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_98010..98015">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span class="entity_def" id="POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|thm"><span>SSupp_typ_tvsubst_typ_bound'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_tvsubst_typ|fact"><span>SSupp_typ_tvsubst_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_98010..98015"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Un_ordLess_infinite_Field|fact"><span>card_of_Un_ordLess_infinite_Field</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ </span><a class="entity_ref" href="POPLmark_2B.html#offset_98010..98015"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Arithmetic.html#BNF_Cardinal_Arithmetic.cinfinite_def|fact"><span>cinfinite_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Cinfinite_card|fact"><span>Cinfinite_card</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_98593..98598">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_comp|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_comp|thm"><span>tvsubst_comp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>g'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_98593..98598"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
                 </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_bound|fact"><span>IImsupp_typ_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_bound|fact"><span>IImsupp_1_trm_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_bound|fact"><span>IImsupp_2_trm_bound</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_comp|fact"><span>tvsubst_typ_comp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span>
        </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_tvsubst|fact"><span>IImsupp_2_trm_tvsubst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_tvsubst|fact"><span>IImsupp_1_trm_tvsubst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_tvsubst_typ|fact"><span>IImsupp_typ_tvsubst_typ</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_tvsubst|fact"><span>IImsupp_2_trm_tvsubst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_comp|fact"><span>tvsubst_typ_comp</span></a><span>
        </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_tvsubst|fact"><span>IImsupp_2_trm_tvsubst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_tvsubst|fact"><span>IImsupp_1_trm_tvsubst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_tvsubst_typ|fact"><span>IImsupp_typ_tvsubst_typ</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.in_IImsupp|fact"><span>typ.in_IImsupp</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_tvsubst|fact"><span>IImsupp_2_trm_tvsubst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_tvsubst|fact"><span>FVars_tvsubst</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_tvsubst_pat|fact"><span>PVars_tvsubst_pat</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_comp|fact"><span>tvsubst_pat_comp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI1|fact"><span>Int_Un_emptyI1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.singletonD|fact"><span>singletonD</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.in_IImsupp|fact"><span>trm.in_IImsupp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_100696..100701">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_cong|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_cong|thm"><span>tvsubst_cong</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_101021..101025">cong</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g'</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_100696..100701"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_101021..101025"><span>cong</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm|const"><span class="const"><span>IImsupp_1_trm</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm|const"><span class="const"><span>IImsupp_2_trm</span></span></a><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ|const"><span class="const"><span>IImsupp_typ</span></span></a><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_bound|fact"><span>IImsupp_typ_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_bound|fact"><span>IImsupp_1_trm_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_bound|fact"><span>IImsupp_2_trm_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span>
        </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong0|fact"><span>lfset.map_cong0</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_cong|fact"><span>tvsubst_pat_cong</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> h</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI1|fact"><span>Int_Un_emptyI1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_cong|fact"><span>tvsubst_pat_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Int_Un_emptyI1|fact"><span>Int_Un_emptyI1</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_Var_comp|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_Var_comp|thm"><span>SSupp_trm_Var_comp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.finite_FVars|fact"><span class="entity_def" id="POPLmark_2B.finite_FVars|thm"><span>finite_FVars</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.finite_FTVars|fact"><span class="entity_def" id="POPLmark_2B.finite_FTVars|thm"><span>finite_FTVars</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_pat_id|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_pat_id|thm"><span>tvsubst_pat_id</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_id|fact"><span>o_id</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id_bound|fact"><span>supp_id_bound</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id|fact"><span>pat.map_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_102821..102826">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_trm_eq_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.permute_trm_eq_tvsubst|thm"><span>permute_trm_eq_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_102821..102826"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin1|fact"><span>cmin1</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin2|fact"><span>cmin2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_Var_comp|fact"><span>SSupp_trm_Var_comp</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ_eq_tvsubst_typ_TyVar|fact"><span>permute_typ_eq_tvsubst_typ_TyVar</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong0|fact"><span>lfset.map_cong0</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_Var_comp|fact"><span>SSupp_trm_Var_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_Var_comp|fact"><span>SSupp_trm_Var_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span>
           </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Int_commute|fact"><span>Int_commute</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.supp_id_on|fact"><span>supp_id_on</span></a><span>
           </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> h</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_cong|fact"><span>tvsubst_pat_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_102821..102826"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_cong|fact"><span>pat.map_cong</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_restrict|fact"><span class="entity_def" id="POPLmark_2B.SSupp_restrict|thm"><span>SSupp_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect_mono_iff|fact"><span>Collect_mono_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_restrict_Var|fact"><span class="entity_def" id="POPLmark_2B.SSupp_restrict_Var|thm"><span>SSupp_restrict_Var</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect_mono|fact"><span>Collect_mono</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.inject|fact"><span>trm.inject</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_104937..104942">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.permute_trm_eq_tvsubst&apos;|fact"><span class="entity_def" id="POPLmark_2B.permute_trm_eq_tvsubst&apos;|thm"><span>permute_trm_eq_tvsubst'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>σ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ_eq_tvsubst_typ_TyVar|fact"><span>permute_typ_eq_tvsubst_typ_TyVar</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong0|fact"><span>lfset.map_cong0</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_Var_comp|fact"><span>SSupp_trm_Var_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_1_trm_def|fact"><span>IImsupp_1_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_2_trm_def|fact"><span>IImsupp_2_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.IImsupp_typ_def|fact"><span>IImsupp_typ_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>τ</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_tvsubst_pat|fact"><span>vvsubst_pat_tvsubst_pat</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_cong|fact"><span>tvsubst_pat_cong</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.arg_cong3|fact"><span>arg_cong3</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> h</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_104937..104942"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.DiffD2|fact"><span>DiffD2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_triv|fact"><span>Diff_triv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_104937..104942"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.not_in_supp_alt|fact"><span>not_in_supp_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.supp_swap_bound_cmin|fact"><span class="entity_def" id="POPLmark_2B.supp_swap_bound_cmin|thm"><span>supp_swap_bound_cmin</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLeq_ordLess_trans|fact"><span>ordLeq_ordLess_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_mono1|fact"><span>card_of_mono1</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span></a></span><span class="free"><span class="free"><span class="free"><span>x</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="free"><span class="free"><span class="free"><span>y</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span></a></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_restrict|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_restrict|thm"><span>SSupp_trm_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_def|fact"><span>SSupp_trm_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Int_bound2|fact"><span class="entity_def" id="POPLmark_2B.Int_bound2|thm"><span>Int_bound2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.card_of_subset_bound|fact"><span>card_of_subset_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.lattice_class.inf_sup_ord|fact"><span>inf_sup_ord</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_trm_restrict_bound|fact"><span class="entity_def" id="POPLmark_2B.SSupp_trm_restrict_bound|thm"><span>SSupp_trm_restrict_bound</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>σ</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm|type"><span class="tconst"><span>trm</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm|const"><span class="const"><span>SSupp_trm</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin|const"><span class="const"><span>cmin</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of_Card_order|fact"><span>card_of_Card_order</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.SSupp_typ_restrict|fact"><span class="entity_def" id="POPLmark_2B.SSupp_typ_restrict|thm"><span>SSupp_typ_restrict</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_def|fact"><span>SSupp_typ_def</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.FVars_restrict|fact"><span class="entity_def" id="POPLmark_2B.FVars_restrict|thm"><span>FVars_restrict</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_FVars|fact"><span class="entity_def" id="POPLmark_2B.match_FVars|thm"><span>match_FVars</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_permute|fact"><span class="entity_def" id="POPLmark_2B.match_permute|thm"><span>match_permute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>ρ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>ρ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>ρ</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ρ</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
   </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>ρ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>ρ</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span>
     </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_109173..109178">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.nonrep_lfmap|fact"><span class="entity_def" id="POPLmark_2B.nonrep_lfmap|thm"><span>nonrep_lfmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>PP</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_109429..109430">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.o_bij|fact"><span>o_bij</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp0|fact"><span>pat.map_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 7
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp1|fact"><span>inv_o_simp1</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id0|fact"><span>pat.map_id0</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp0|fact"><span>pat.map_comp0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id0|fact"><span>pat.map_id0</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allI|fact"><span>allI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allE|fact"><span>allE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_equiv|fact"><span>lfin_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109429..109430"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rotate_tac</span></span><span> -1</span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_equiv|fact"><span>lfin_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109429..109430"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allI|fact"><span>allI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allE|fact"><span>allE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|fact"><span class="dynamic"><span class="dynamic"><span>equiv</span></span></span></a><span class="main"><span class="main"><span>(</span></span></span><span>14</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109429..109430"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id|fact"><span>pat.map_id</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impE|fact"><span>impE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|fact"><span class="dynamic"><span class="dynamic"><span>equiv</span></span></span></a><span class="main"><span class="main"><span>(</span></span></span><span>14</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109429..109430"><span>1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bij_imp_bij_inv|fact"><span>bij_imp_bij_inv</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_109173..109178"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.inv_o_simp2|fact"><span>inv_o_simp2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_id|fact"><span>pat.map_id</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_110975..110980">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.restrict_equiv|fact"><span class="entity_def" id="POPLmark_2B.restrict_equiv|thm"><span>restrict_equiv</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_110975..110980"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_111346..111351">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_equiv_aux|fact"><span class="entity_def" id="POPLmark_2B.match_equiv_aux|thm"><span>match_equiv_aux</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.induct|fact"><span>match.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>MPVar</span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_111346..111351"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>MPRec</span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="skolem"><span>VV</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_111346..111351"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.intros|fact"><span>match.intros</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_111902..111907">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.match_equiv|fact"><span class="entity_def" id="POPLmark_2B.match_equiv|thm"><span>match_equiv</span></span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_equiv_aux|fact"><span>match_equiv_aux</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f1</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="free"><span class="free"><span>f2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> -1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_111902..111907"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp0|fact"><span>trm.permute_comp0</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id0|fact"><span>trm.permute_id0</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_assoc|fact"><span>comp_assoc</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_equiv_aux|fact"><span>match_equiv_aux</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_111902..111907"><span>assms</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_112505..112510">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.Ball_value|fact"><span class="entity_def" id="POPLmark_2B.Ball_value|thm"><span>Ball_value</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>f1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>f2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'b</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f1</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>f2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span class="const"><span>Ball</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><span class="free"><span>f1</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span class="const"><span>Ball</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.value|const"><span class="const"><span>value</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_112505..112510"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|fact"><span class="dynamic"><span class="dynamic"><span>equiv</span></span></span></a><span class="main"><span class="main"><span>(</span></span></span><span>26</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Binders/Tools/equivariance.ML.html#MRBNF_Recursor.equiv|attribute"><span class="operator"><span>equiv</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_equiv|fact"><span>restrict_equiv</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_equiv|fact"><span>match_equiv</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.map_lfset_lfupdate|fact"><span>map_lfset_lfupdate</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="POPLmark_2B.step.equiv|fact"><span class="entity_def" id="POPLmark_2B.step.strong_induct|fact"><span class="entity_def" id="POPLmark_2B.II&apos;_step_def|fact"><span class="entity_def" id="POPLmark_2B.II_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp22_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp21_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp12_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tsupp11_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm2_step_def|fact"><span class="entity_def" id="POPLmark_2B.Tperm1_step_def|fact"><span class="entity_def" id="POPLmark_2B.G_step_def|fact"><span class="entity_def" id="POPLmark_2B.step.equiv|thm"><span class="entity_def" id="POPLmark_2B.step.strong_induct|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_step_def|thm"><span class="entity_def" id="POPLmark_2B.II_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp22_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp21_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp12_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tsupp11_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm2_step_def|thm"><span class="entity_def" id="POPLmark_2B.Tperm1_step_def|thm"><span class="entity_def" id="POPLmark_2B.G_step_def|thm"><span class="entity_def" id="POPLmark_2B.II&apos;_step_def|axiom"><span class="entity_def" id="POPLmark_2B.II_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp22_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp21_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp12_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tsupp11_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm2_step_def|axiom"><span class="entity_def" id="POPLmark_2B.Tperm1_step_def|axiom"><span class="entity_def" id="POPLmark_2B.G_step_def|axiom"><span class="entity_def" id="POPLmark_2B.II&apos;_step|const"><span class="entity_def" id="POPLmark_2B.II_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp22_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp21_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp12_step|const"><span class="entity_def" id="POPLmark_2B.Tsupp11_step|const"><span class="entity_def" id="POPLmark_2B.Tperm2_step|const"><span class="entity_def" id="POPLmark_2B.Tperm1_step|const"><span class="entity_def" id="POPLmark_2B.G_step|const"><span>binder_inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> step
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_112925..112930">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> R B1 B2 t u
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_simps|fact"><span>ex_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj_disj_distribL|fact"><span>conj_disj_distribL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ex_disj_distrib|fact"><span>ex_disj_distrib</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_112925..112930"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> v x T t
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>x</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_VVr|fact"><span>trm.FVars_VVr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_tvsubst|fact"><span>FVars_tvsubst</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm_eq_tvsubst|fact"><span>permute_trm_eq_tvsubst</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id|fact"><span>supp_id</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_comp|fact"><span>tvsubst_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_Var_comp|fact"><span>SSupp_trm_Var_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_Var_comp|fact"><span>SSupp_trm_Var_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_simps|fact"><span>swap_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> X T t T2
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars|const"><span class="const"><span>FTVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>T2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.Un_bound|fact"><span>lfset.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.FVars_bd_UNIVs|fact"><span>trm.FVars_bd_UNIVs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_VVr|fact"><span>typ.FVars_VVr</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_bd_UNIVs|fact"><span>typ.FVars_bd_UNIVs</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span></a></span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FTVars_tvsubst|fact"><span>FTVars_tvsubst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm_eq_tvsubst|fact"><span>permute_trm_eq_tvsubst</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_id|fact"><span>supp_id</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_comp|fact"><span>tvsubst_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_comp|fact"><span>fun_upd_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span>  </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_TyVar_comp|fact"><span>SSupp_typ_TyVar_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.supp_swap_bound_cmin|fact"><span>supp_swap_bound_cmin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap_def|fact"><span>swap_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> v σ p u
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>disjI1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.extend_fresh|fact"><span>extend_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> B</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ρ
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_tvsubst|fact"><span>FVars_tvsubst</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars_restrict|fact"><span>FVars_restrict</span></a><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_FVars|fact"><span>match_FVars</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>3</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>v</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>σ</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_permute|fact"><span>match_permute</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm_eq_tvsubst&apos;|fact"><span>permute_trm_eq_tvsubst'</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_comp|fact"><span>tvsubst_comp</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>  </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_typ_tvsubst_typ_bound&apos;|fact"><span>SSupp_typ_tvsubst_typ_bound'</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.Un_bound|fact"><span>trm.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> VV l v
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> t t' u
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> t t' p u
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>disjI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.extend_fresh|fact"><span>extend_fresh</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> B</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span></span><span> A</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>t'</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ρ
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_permute|fact"><span>match_permute</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_permute|fact"><span>match_permute</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.Un_bound|fact"><span>trm.Un_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.set_bd_UNIV|fact"><span>trm.set_bd_UNIV</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ty_extend_tvsubst_typ|fact"><span class="entity_def" id="POPLmark_2B.wf_ty_extend_tvsubst_typ|thm"><span>wf_ty_extend_tvsubst_typ</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_iff|fact"><span>Un_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_map_prod|fact"><span>fst_map_prod</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_iff|fact"><span>insert_iff</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ty_closed_in|fact"><span class="entity_def" id="POPLmark_2B.wf_ty_closed_in|thm"><span>wf_ty_closed_in</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>∈</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.ty_tvsubst_typ|fact"><span class="entity_def" id="POPLmark_2B.ty_tvsubst_typ|thm"><span>ty_tvsubst_typ</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.strong_induct|fact"><span>ty.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>SA_Top</span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_Top|fact"><span>ty.SA_Top</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_extend_tvsubst_typ|fact"><span>wf_ty_extend_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_image|fact"><span>image_image</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_118915..118927">SA_Refl_TVar</span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_118915..118927"><span>SA_Refl_TVar.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_extend_tvsubst_typ|fact"><span>wf_ty_extend_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_image|fact"><span>image_image</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.Domain.DomainI|fact"><span>Domain.DomainI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.fst_eq_Domain|fact"><span>fst_eq_Domain</span></a><span>
      </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_Refl_TVar|fact"><span>ty.SA_Refl_TVar</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_119202..119215">SA_Trans_TVar</span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_119232..119234">ok</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119202..119215"><span>SA_Trans_TVar.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.wf_concatD|fact"><span>wf_concatD</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_119364..119368">True</span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119202..119215"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119202..119215"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.context_determ|fact"><span>context_determ</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_119489..119491">IH</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119202..119215"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119202..119215"><span>SA_Trans_TVar</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119232..119234"><span>ok</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_TyVar|fact"><span>tvsubst_typ_TyVar</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119202..119215"><span>SA_Trans_TVar</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119489..119491"><span>IH</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_transitivity2|fact"><span>ty_transitivity2</span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_weakening|fact"><span>ty_weakening</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_context|fact"><span>wf_context</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119364..119368"><span>True</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_119983..119988">False</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119232..119234"><span>ok</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>&lt;:</span></a></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.in_context|const"><span>∈</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>U</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_TyVar|fact"><span>tvsubst_typ_TyVar</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_closed_in|fact"><span>wf_ty_closed_in</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119202..119215"><span>SA_Trans_TVar</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_119983..119988"><span>False</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_upper1|fact"><span>Un_upper1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.set_map|fact"><span>list.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_imageI|fact"><span>map_prod_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_append|fact"><span>set_append</span></a><span>
          </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_Trans_TVar|fact"><span>ty.SA_Trans_TVar</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>SA_All</span><span> </span><span class="skolem"><span>T<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>S<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>S<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>T<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.subst|fact"><span>typ.subst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_fun_upd|fact"><span>IImsupp_fun_upd</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>SA_TRec</span><span> </span><span class="skolem"><span>YY</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty.SA_TRec|fact"><span>ty.SA_TRec</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_extend_tvsubst_typ|fact"><span>wf_ty_extend_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_image|fact"><span>image_image</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span>
        </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.proj_ctxt_map|fact"><span class="entity_def" id="POPLmark_2B.proj_ctxt_map|thm"><span>proj_ctxt_map</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt_def|fact"><span>proj_ctxt_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_map|fact"><span>filter_map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_beta|fact"><span>split_beta</span></a><span>
    </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_cong|fact"><span>list.map_cong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_cong|fact"><span>filter_cong</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum.splits|fact"><span>sum.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_tvsubst_typ_aux|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_tvsubst_typ_aux|thm"><span>wf_ctxt_extend_tvsubst_typ_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 4 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_tvsubst_typ|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_extend_tvsubst_typ|thm"><span>wf_ctxt_extend_tvsubst_typ</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_tvsubst_typ_aux|fact"><span>wf_ctxt_extend_tvsubst_typ_aux</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.dom_proj_ctxt|fact"><span>dom_proj_ctxt</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken_ext|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_weaken_ext|thm"><span>wf_ctxt_weaken_ext</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.wf_ctxt_closed|fact"><span class="entity_def" id="POPLmark_2B.wf_ctxt_closed|thm"><span>wf_ctxt_closed</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>⊢</span></a></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt|const"><span>OK</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a><span> </span><span class="free"><span>Γ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_typ_tvsubst_typ|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_typ_tvsubst_typ|thm"><span>tvsubst_typ_tvsubst_typ</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span>
   </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
   </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_comp|fact"><span>tvsubst_typ_comp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ_tvsubst_typ_bound|fact"><span>SSupp_typ_tvsubst_typ_bound</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span>
       </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_TyVar|fact"><span>tvsubst_typ_TyVar</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_tvsubst_typ|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_tvsubst_typ|thm"><span>pat_typing_tvsubst_typ</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span>
    </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_apply|fact"><span>fun_upd_apply</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.map_concat|fact"><span>map_concat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span>
     </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_tvsubst_pat|fact"><span>PVars_tvsubst_pat</span></a><span>
     </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.intros|fact"><span>pat_typing.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.typing_tvsubst_typ|fact"><span class="entity_def" id="POPLmark_2B.typing_tvsubst_typ|thm"><span>typing_tvsubst_typ</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>⊢</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.ty|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span class="main"><span>:=</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_122946..122950">TVar</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_TyVar|fact"><span>tvsubst_typ_TyVar</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_closed|fact"><span>wf_ctxt_closed</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_notin|fact"><span>wf_ctxt_notin</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken_ext|fact"><span>wf_ctxt_weaken_ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_122946..122950"><span>TVar</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_tvsubst_typ|fact"><span>wf_ctxt_extend_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TVar|fact"><span>typing.TVar</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TTAbs</span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="skolem"><span>T1</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_fun_upd|fact"><span>IImsupp_fun_upd</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 3 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTAbs|fact"><span>typing.TTAbs</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_123425..123430">TTApp</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>Z</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T11</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span class="const"><span>Inl</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.extend|const"><span>&lt;:</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_123425..123430"><span>TTApp.hyps</span></a><span class="main"><span>(</span></span><span>12</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?XP</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_123425..123430"><span>TTApp</span></a><span class="main"><span>(</span></span><span>11</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_123425..123430"><span>TTApp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>13</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_123425..123430"><span>TTApp</span></a><span class="main"><span>(</span></span><span>12</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ty_tvsubst_typ|fact"><span>ty_tvsubst_typ</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="POPLmark_2B.html#offset_123425..123430"><span>TTApp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>13</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="var"><span>?XP</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span>
    </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span>
    </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>Z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>T2</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="var"><span>?XP</span></span><span> </span><span class="skolem"><span>T12</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.IImsupp_fun_upd|fact"><span>IImsupp_fun_upd</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_123425..123430"><span>TTApp</span></a><span class="main"><span>(</span></span><span>1-9</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TTApp|fact"><span>typing.TTApp</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.subst|fact"><span>typ.subst</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.set_proj_ctxt|fact"><span>set_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_123425..123430"><span>TTApp</span></a><span class="main"><span>(</span></span><span>1-9</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_typ_tvsubst_typ|fact"><span>tvsubst_typ_tvsubst_typ</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TSub</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.ty_tvsubst_typ|fact"><span>ty_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|fact"><span>well_scoped</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_extend_tvsubst_typ|fact"><span>wf_ctxt_extend_tvsubst_typ</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_map|fact"><span>lfset.rel_map</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.rel_mono_strong|fact"><span>lfset.rel_mono_strong</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TProj</span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>typing.TProj</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TLet</span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ'</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>Δ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_tvsubst_typ|fact"><span>pat_typing_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_distinct|fact"><span class="entity_def" id="POPLmark_2B.pat_distinct(2)|thm"><span class="entity_def" id="POPLmark_2B.pat_distinct(1)|thm"><span>pat_distinct</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar_def|fact"><span>PVar_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 2</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.restrict_empty|fact"><span class="entity_def" id="POPLmark_2B.restrict_empty|thm"><span>restrict_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.tvsubst_id|fact"><span class="entity_def" id="POPLmark_2B.tvsubst_id|thm"><span>tvsubst_id</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.strong_induct|fact"><span>trm.strong_induct</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong_id|fact"><span>lfset.map_cong_id</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.labels_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.labels_lfdelete|thm"><span>labels_lfdelete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.distinct_labelist|fact"><span class="entity_def" id="POPLmark_2B.distinct_labelist|thm"><span>distinct_labelist</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span class="const"><span>distinct</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist_def|fact"><span>labelist_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.labelist_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.labelist_lfdelete|thm"><span>labelist_lfdelete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter|const"><span class="const"><span>filter</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>(≠)</span></a></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct_remove1_removeAll|fact"><span>distinct_remove1_removeAll</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist_def|fact"><span>labelist_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.removeAll_filter_not_eq|fact"><span>removeAll_filter_not_eq</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.linorder_class.sorted_list_of_set.sorted_key_list_of_set_remove|fact"><span>sorted_list_of_set.sorted_key_list_of_set_remove</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.lfin_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.lfin_lfdelete|thm"><span>lfin_lfdelete</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l'</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.lfin_lfdeleteI|fact"><span class="entity_def" id="POPLmark_2B.lfin_lfdeleteI|thm"><span>lfin_lfdeleteI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>l'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.nonrep_PRec_lfdelete|fact"><span class="entity_def" id="POPLmark_2B.nonrep_PRec_lfdelete|thm"><span>nonrep_PRec_lfdelete</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>PP</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_def|fact"><span>PVars_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_126197..126202">lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.pat_typing_tvsubst|fact"><span class="entity_def" id="POPLmark_2B.pat_typing_tvsubst|thm"><span>pat_typing_tvsubst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>⊢</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing|const"><span>→</span></a></span><span> </span><span class="free"><span>Δ</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match|const"><span class="const"><span>match</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126197..126202"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>Δ</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>U</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing.induct|fact"><span>pat_typing.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>PVar</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_tvsubst|fact"><span>typing_tvsubst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span></span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>σ</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a></span></a><span> </span><span class="bound"><span class="bound"><span>σ</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>PRec</span><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match.cases|fact"><span>match.cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_RecD|fact"><span>typing_RecD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/hypsubst.ML.html#HOL.hypsubst_thin|method"><span class="operator"><span>hypsubst_thin</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_126990..126995">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> VV
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_126990..126995"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>,</span></span><span>5-</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labelist|const"><span class="const"><span>labelist</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>TT</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>PP</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>VV</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span class="const"><span>set</span></span></a></span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.set_labelist|fact"><span>set_labelist</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_127298..127303">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> l ls TT PP VV u
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels|const"><span class="const"><span>labels</span></span></a><span> </span><span class="skolem"><span>VV</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4-</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.labels_lfin_iff|fact"><span>labels_lfin_iff</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> T P v
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>" </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span class="const"><span>List.concat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>ls</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="skolem"><span>U</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>l</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span class="const"><span>List.concat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>ls</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>v</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>U</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span>(</span></span><span>4-</span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_weaken|fact"><span>typing_weaken</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ctxt_weaken_ext|fact"><span>wf_ctxt_weaken_ext</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>TT</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>PP</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst|const"><span class="const"><span>tvsubst</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict|const"><span class="const"><span>restrict</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Var|const"><span class="const"><span>Var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfdelete|const"><span class="const"><span>lfdelete</span></span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>VV</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>4-</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.distinct_labelist|fact"><span>distinct_labelist</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>TT</span></span></span><span class="main"><span>]</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_id_conv|fact"><span>filter_id_conv</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_128620..128625">prems</span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_128620..128625"><span>prems</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_values|fact"><span>lfin_values</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../Pure/Pure/Pure.html#Pure.meta_mp|fact"><span>meta_mp</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_comp|fact"><span>tvsubst_comp</span></a><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>3</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>λ</span></span></span><span class="bound"><span class="bound"><span>t</span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span class="const"><span>typing</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="bound"><span class="bound"><span>t</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD1|fact"><span>iffD1</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ_eq_tvsubst_typ_TyVar|fact"><span>permute_typ_eq_tvsubst_typ_TyVar</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>5</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_tvsubst_bound|fact"><span>SSupp_trm_tvsubst_bound</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>5</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x P' l'
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_cong|fact"><span>tvsubst_cong</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_id|fact"><span>tvsubst_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
               </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>l'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.match_FVars|fact"><span>match_FVars</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>σ</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>v</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union_iff|fact"><span>Union_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x P' l'
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>l'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdeleteI|fact"><span>lfin_lfdeleteI</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.tvsubst_simps|fact"><span>tvsubst_simps</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.cmin_greater|fact"><span>cmin_greater</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Int_bound2|fact"><span>Int_bound2</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_PRec|fact"><span>PVars_PRec</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.SSupp_trm_restrict|fact"><span>SSupp_trm_restrict</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.nonrep_PRec_lfdelete|fact"><span>nonrep_PRec_lfdelete</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_bd_UNIV|fact"><span>pat.set_bd_UNIV</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_127298..127303"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.restrict_def|fact"><span>restrict_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.lfin_lfdelete|fact"><span>lfin_lfdelete</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="POPLmark_2B.preservation|fact"><span class="entity_def" id="POPLmark_2B.preservation|thm"><span>preservation</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step|const"><span class="const"><span>step</span></span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>⊢</b></span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing|const"><span><span class="hidden">❙</span><b>:</b></span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.strong_induct|fact"><span>typing.strong_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_131791..131795">TApp</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_131791..131795"><span>TApp</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span>1</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>,</span></span><span>4-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.App|const"><span class="const"><span>App</span></span></a><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.strong_induct|fact"><span>step.strong_induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> v x T t
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_AbsD|fact"><span>typing_AbsD</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_tvsubst|fact"><span>typing_tvsubst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span></span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_132356..132361">TTApp</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>X</span></span><span> </span><span class="skolem"><span>T11</span></span><span> </span><span class="skolem"><span>T12</span></span><span> </span><span class="skolem"><span>T2</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_132356..132361"><span>TTApp</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>,</span></span><span>1-7</span><span class="main"><span>,</span></span><span>9</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.TApp|const"><span class="const"><span>TApp</span></span></a><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>T2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>X</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T11</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T12</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.strong_induct|fact"><span>step.strong_induct</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>prefer</span></span></span></span></span><span> 2
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Y T t U
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_TAbsD|fact"><span>typing_TAbsD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?U1.0</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>T11</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> </span><span class="var"><span>?U2.0</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span>3</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.inject|fact"><span>typ.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ctxt|fact"><span>typing_wf_ctxt</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.wf_ty_proj_ctxt|fact"><span>wf_ty_proj_ctxt</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Forall_eq_tvsubst_typ|fact"><span>Forall_eq_tvsubst_typ</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>Y</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.permute_typ|const"><span class="const"><span>permute_typ</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="skolem"><span class="skolem"><span>X</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span class="main"><a class="entity_ref" href="../Binders/Swapping.html#Swapping.swap|const"><span>↔</span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>T12</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.inject|fact"><span>typ.inject</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_tvsubst_typ|fact"><span>typing_tvsubst_typ</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> Δ</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span class="quoted"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.empty_context|const"><span>∅</span></a></span></span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>TSub</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_twist|fact"><span>fun_upd_twist</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.intros|fact"><span>typing.intros</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>TRec</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>XX</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.cases|fact"><span>step.cases</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TRec|fact"><span>typing.TRec</span></a><span>  </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfin_lfupdate|fact"><span>lfin_lfupdate</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfupdate_idle|fact"><span>lfupdate_idle</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.map_lfset_lfupdate|fact"><span>map_lfset_lfupdate</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_133492..133497">TProj</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>ta</span></span><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ta</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.wf_ty|const"><span>ok</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TRec|const"><span class="const"><span>TRec</span></span></a><span> </span><span class="skolem"><span>TT</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="SystemFSub.html#SystemFSub.well_scoped|const"><span>closed_in</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.proj_ctxt|const"><span class="const"><span>proj_ctxt</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_wf_ty|fact"><span>typing_wf_ty</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_well_scoped|fact"><span>typing_well_scoped</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_133492..133497"><span>TProj</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.cases|fact"><span>step.cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TProj|fact"><span>typing.TProj</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing_RecD|fact"><span>typing_RecD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="POPLmark_1B.html#POPLmark_1B.ty_refl|fact"><span>ty_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_133789..133793">TLet</span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Δ</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>U</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_133789..133793"><span>TLet</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>,</span></span><span>1-6</span><span class="main"><span>,</span></span><span>8-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Binders/Tools/binder_induction.ML.html#MRBNF_Recursor.binder_induction|method"><span class="operator"><span>binder_induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let|const"><span class="const"><span>Let</span></span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>avoiding</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t'</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.strong_induct|fact"><span>step.strong_induct</span></a><span class="main"><span>)</span></span><span>
             </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> σ p' u' ρ
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.rev_mp|fact"><span>rev_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.ex_avoiding_bij|fact"><span>ex_avoiding_bij</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ρ</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.FVars|const"><span class="const"><span>FVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>p'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>dom</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.set_map|fact"><span>pat.set_map</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.finite_set|fact"><span>List.finite_set</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageI|fact"><span>finite_imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL-Cardinals/Cardinal_Order_Relation.html#Cardinal_Order_Relation.finite_ordLess_infinite2|fact"><span>finite_ordLess_infinite2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_vimageI|fact"><span>finite_vimageI</span></a><span>
            </span><a class="entity_ref" href="../Prelim/HOL-Library.Infinite_Typeclass.html#Infinite_Typeclass.infinite_class.infinite_UNIV|fact"><span>infinite_UNIV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.inj_Inr|fact"><span>inj_Inr</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjE|fact"><span>conjE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> ρ'
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ</span></span><span> </span><span class="skolem"><span>p'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span> </span><span class="skolem"><span>p'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.permute_trm|const"><span class="const"><span>permute_trm</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span> </span><span class="skolem"><span>u'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_tvsubst|fact"><span>pat_typing_tvsubst</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.pat_typing_equiv|fact"><span>pat_typing_equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ'</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_comp|fact"><span>pat.map_comp</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.equiv|fact"><span>typing.equiv</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span>ρ'</span></span></span><span>"</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>Γ</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span class="main"><a class="entity_ref" href="SystemFSub.html#SystemFSub.concat|const"><span><span class="hidden">❙</span><b>,</b></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span>Δ</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>rotated</span></span><span> 4</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span class="const"><span>map</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span class="const"><span>map_prod</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.map_sum|const"><span class="const"><span>map_sum</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Γ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_inv_bound|fact"><span>supp_inv_bound</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_comp|fact"><span>trm.permute_comp</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_id|fact"><span>trm.permute_id</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.map_ident_strong|fact"><span>list.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Sum_Type.sum.map_ident_strong|fact"><span>sum.map_ident_strong</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.map_ident_strong|fact"><span>prod.map_ident_strong</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.imsupp_id_on|fact"><span>imsupp_id_on</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span class="const"><span>inv</span></span></a><span> </span><span class="skolem"><span>ρ'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span class="const"><span>Inr</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.vimage|const"><span>-`</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.dom|const"><span class="const"><span>SystemFSub.dom</span></span></a><span> </span><span class="skolem"><span>Γ</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.imsupp_inv|fact"><span>imsupp_inv</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.cases|fact"><span>setr.cases</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.trm.permute_cong|fact"><span>trm.permute_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_vvsubst_pat|fact"><span>PVars_vvsubst_pat</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_133789..133793"><span>TLet.fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span>
              </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.intros|fact"><span>setr.intros</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 0 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.id_on_def|fact"><span>id_on_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.pat.map_cong|fact"><span>pat.map_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_vvsubst_pat|fact"><span>PVars_vvsubst_pat</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#offset_133789..133793"><span>TLet.fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.UN_I|fact"><span>UN_I</span></a><span>
              </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.setr.intros|fact"><span>setr.intros</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.Let_inject|fact"><span>Let_inject</span></a><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TLet|fact"><span>typing.TLet</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.step.cases|fact"><span>step.cases</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="POPLmark_2B.html#POPLmark_2B.typing.TSub|fact"><span>typing.TSub</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>