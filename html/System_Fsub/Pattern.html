<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Pattern</title>
</head>


<body>
<div class="head">
<h1>Theory Pattern</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Pattern.html"><span>Pattern</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="POPLmark_1B.html"><span>POPLmark_1B</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.prepat.size_neq|fact"><span class="entity_def" id="Pattern.prepat.size_gen|fact"><span class="entity_def" id="Pattern.prepat.size|fact"><span class="entity_def" id="Pattern.arity_size_prepat|fact"><span class="entity_def" id="Pattern.prepat.size_prepat_overloaded_def|fact"><span class="entity_def" id="Pattern.size_prepat_inst.size_prepat|fact"><span class="entity_def" id="Pattern.prepat.size_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.Domainp_rel|fact"><span class="entity_def" id="Pattern.prepat.simps|fact"><span class="entity_def" id="Pattern.prepat.rel_induct|fact"><span class="entity_def" id="Pattern.prepat.rec_transfer|fact"><span class="entity_def" id="Pattern.prepat.rec_o_map|fact"><span class="entity_def" id="Pattern.prepat.rec|fact"><span class="entity_def" id="Pattern.prepat.induct|fact"><span class="entity_def" id="Pattern.prepat.set_intros|fact"><span class="entity_def" id="Pattern.prepat.set_cases|fact"><span class="entity_def" id="Pattern.prepat.set|fact"><span class="entity_def" id="Pattern.prepat.rel_intros|fact"><span class="entity_def" id="Pattern.prepat.rel_inject|fact"><span class="entity_def" id="Pattern.prepat.rel_distinct|fact"><span class="entity_def" id="Pattern.prepat.rel_cases|fact"><span class="entity_def" id="Pattern.prepat.pred_inject|fact"><span class="entity_def" id="Pattern.prepat.map|fact"><span class="entity_def" id="Pattern.prepat.ctr_transfer|fact"><span class="entity_def" id="Pattern.prepat.case_transfer|fact"><span class="entity_def" id="Pattern.prepat.splits|fact"><span class="entity_def" id="Pattern.prepat.split_asm|fact"><span class="entity_def" id="Pattern.prepat.split|fact"><span class="entity_def" id="Pattern.prepat.nchotomy|fact"><span class="entity_def" id="Pattern.prepat.inject|fact"><span class="entity_def" id="Pattern.prepat.exhaust|fact"><span class="entity_def" id="Pattern.prepat.distinct|fact"><span class="entity_def" id="Pattern.prepat.case_distrib|fact"><span class="entity_def" id="Pattern.prepat.case_cong_weak|fact"><span class="entity_def" id="Pattern.prepat.case_cong|fact"><span class="entity_def" id="Pattern.prepat.case|fact"><span class="entity_def" id="Pattern.prepat.eq.simps|fact"><span class="entity_def" id="Pattern.prepat.eq.refl|fact"><span class="entity_def" id="Pattern.arity_equal_prepat|fact"><span class="entity_def" id="Pattern.equal_prepat_def|fact"><span class="entity_def" id="Pattern.equal_prepat_inst.equal_prepat|fact"><span class="entity_def" id="Pattern.arity_partial_term_of_prepat|fact"><span class="entity_def" id="Pattern.partial_term_of_prepat_triv|fact"><span class="entity_def" id="Pattern.partial_term_of_prepat_inst.partial_term_of_prepat|fact"><span class="entity_def" id="Pattern.arity_term_of_prepat|fact"><span class="entity_def" id="Pattern.term_of_prepat_triv|fact"><span class="entity_def" id="Pattern.term_of_prepat_inst.term_of_prepat|fact"><span class="entity_def" id="Pattern.prepat.case_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.ctor_rec_prepat_def|fact"><span class="entity_def" id="Pattern.Pattern.prepat.bd_regularCard|fact"><span class="entity_def" id="Pattern.Pattern.prepat.bd_cinfinite|fact"><span class="entity_def" id="Pattern.Pattern.prepat.bd_card_order|fact"><span class="entity_def" id="Pattern.Pattern.prepat.set_bd|fact"><span class="entity_def" id="Pattern.Pattern.prepat.set_transfer|fact"><span class="entity_def" id="Pattern.Pattern.prepat.set_map|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_transfer|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_transp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_symp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_reflp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_refl_strong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_refl|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_cong_simp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_cong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_mono_strong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_mono|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_map|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_Grp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_flip|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_eq_onp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_eq|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_conversep|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_compp_Grp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.rel_compp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_set|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_True|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_transfer|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_rel|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_map|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_cong_simp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_cong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_mono_strong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.pred_mono|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_ident_strong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_ident|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_transfer|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_id0|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_id|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong_pred|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong_simp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong0|fact"><span class="entity_def" id="Pattern.Pattern.prepat.map_comp|fact"><span class="entity_def" id="Pattern.Pattern.prepat.inj_map_strong|fact"><span class="entity_def" id="Pattern.Pattern.prepat.inj_map|fact"><span class="entity_def" id="Pattern.Pattern.prepat.in_rel|fact"><span class="entity_def" id="Pattern.prepat.wit_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.pred_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.rel_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.PPVars_def|fact"><span class="entity_def" id="Pattern.prepat.map_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.dtor_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.ctor_fold_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.ctor_prepat_def|fact"><span class="entity_def" id="Pattern.arity_typerep_prepat|fact"><span class="entity_def" id="Pattern.typerep_prepat_def|fact"><span class="entity_def" id="Pattern.typerep_prepat_inst.typerep_prepat|fact"><span class="entity_def" id="Pattern.prepat.Abs_prepat_induct|fact"><span class="entity_def" id="Pattern.prepat.Rep_prepat_induct|fact"><span class="entity_def" id="Pattern.prepat.Abs_prepat_cases|fact"><span class="entity_def" id="Pattern.prepat.Rep_prepat_cases|fact"><span class="entity_def" id="Pattern.prepat.Abs_prepat_inject|fact"><span class="entity_def" id="Pattern.prepat.Rep_prepat_inject|fact"><span class="entity_def" id="Pattern.prepat.Abs_prepat_inverse|fact"><span class="entity_def" id="Pattern.prepat.Rep_prepat_inverse|fact"><span class="entity_def" id="Pattern.prepat.Rep_prepat|fact"><span class="entity_def" id="Pattern.prepat.type_definition_prepat|fact"><span class="entity_def" id="Pattern.arity_type_prepat|fact"><span class="entity_def" id="Pattern.prepat.str_init_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.arity_typerep_prepat_IITN_prepat|fact"><span class="entity_def" id="Pattern.prepat.typerep_prepat_IITN_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.typerep_prepat_IITN_prepat_inst.typerep_prepat_IITN_prepat|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_induct|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_induct|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_cases|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_cases|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_inject|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_inject|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_inverse|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_inverse|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat|fact"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.type_definition_prepat_IITN_prepat|fact"><span class="entity_def" id="Pattern.arity_type_prepat_IITN_prepat|fact"><span class="entity_def" id="Pattern.prepat.min_alg_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.mor_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.alg_prepat_def|fact"><span class="entity_def" id="Pattern.pre_prepat.prepat.set2_pre_prepat_def|fact"><span class="entity_def" id="Pattern.pre_prepat.prepat.set1_pre_prepat_def|fact"><span class="entity_def" id="Pattern.pre_prepat.prepat.rel_pre_prepat_def|fact"><span class="entity_def" id="Pattern.pre_prepat.prepat.map_pre_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.arity_typerep_prepat_pre_prepat|fact"><span class="entity_def" id="Pattern.prepat.typerep_prepat_pre_prepat_def|fact"><span class="entity_def" id="Pattern.prepat.typerep_prepat_pre_prepat_inst.typerep_prepat_pre_prepat|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_induct|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_induct|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_cases|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_cases|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_inject|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_inject|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_inverse|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_inverse|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat|fact"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.type_definition_prepat_pre_prepat|fact"><span class="entity_def" id="Pattern.arity_type_prepat_pre_prepat|fact"><span class="entity_def" id="Pattern.prepat.size_neq|thm"><span class="entity_def" id="Pattern.prepat.size_gen(2)|thm"><span class="entity_def" id="Pattern.prepat.size_gen(1)|thm"><span class="entity_def" id="Pattern.prepat.size(4)|thm"><span class="entity_def" id="Pattern.prepat.size(3)|thm"><span class="entity_def" id="Pattern.prepat.size(2)|thm"><span class="entity_def" id="Pattern.prepat.size(1)|thm"><span class="entity_def" id="Pattern.arity_size_prepat|thm"><span class="entity_def" id="Pattern.prepat.size_prepat_overloaded_def|thm"><span class="entity_def" id="Pattern.size_prepat_inst.size_prepat|thm"><span class="entity_def" id="Pattern.prepat.size_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.Domainp_rel|thm"><span class="entity_def" id="Pattern.prepat.simps(16)|thm"><span class="entity_def" id="Pattern.prepat.simps(15)|thm"><span class="entity_def" id="Pattern.prepat.simps(14)|thm"><span class="entity_def" id="Pattern.prepat.simps(13)|thm"><span class="entity_def" id="Pattern.prepat.simps(12)|thm"><span class="entity_def" id="Pattern.prepat.simps(11)|thm"><span class="entity_def" id="Pattern.prepat.simps(10)|thm"><span class="entity_def" id="Pattern.prepat.simps(9)|thm"><span class="entity_def" id="Pattern.prepat.simps(8)|thm"><span class="entity_def" id="Pattern.prepat.simps(7)|thm"><span class="entity_def" id="Pattern.prepat.simps(6)|thm"><span class="entity_def" id="Pattern.prepat.simps(5)|thm"><span class="entity_def" id="Pattern.prepat.simps(4)|thm"><span class="entity_def" id="Pattern.prepat.simps(3)|thm"><span class="entity_def" id="Pattern.prepat.simps(2)|thm"><span class="entity_def" id="Pattern.prepat.simps(1)|thm"><span class="entity_def" id="Pattern.prepat.rel_induct|thm"><span class="entity_def" id="Pattern.prepat.rec_transfer|thm"><span class="entity_def" id="Pattern.prepat.rec_o_map|thm"><span class="entity_def" id="Pattern.prepat.rec(2)|thm"><span class="entity_def" id="Pattern.prepat.rec(1)|thm"><span class="entity_def" id="Pattern.prepat.induct|thm"><span class="entity_def" id="Pattern.prepat.set_intros(2)|thm"><span class="entity_def" id="Pattern.prepat.set_intros(1)|thm"><span class="entity_def" id="Pattern.prepat.set_cases|thm"><span class="entity_def" id="Pattern.prepat.set(2)|thm"><span class="entity_def" id="Pattern.prepat.set(1)|thm"><span class="entity_def" id="Pattern.prepat.rel_intros(2)|thm"><span class="entity_def" id="Pattern.prepat.rel_intros(1)|thm"><span class="entity_def" id="Pattern.prepat.rel_inject(2)|thm"><span class="entity_def" id="Pattern.prepat.rel_inject(1)|thm"><span class="entity_def" id="Pattern.prepat.rel_distinct(2)|thm"><span class="entity_def" id="Pattern.prepat.rel_distinct(1)|thm"><span class="entity_def" id="Pattern.prepat.rel_cases|thm"><span class="entity_def" id="Pattern.prepat.pred_inject(2)|thm"><span class="entity_def" id="Pattern.prepat.pred_inject(1)|thm"><span class="entity_def" id="Pattern.prepat.map(2)|thm"><span class="entity_def" id="Pattern.prepat.map(1)|thm"><span class="entity_def" id="Pattern.prepat.ctr_transfer(2)|thm"><span class="entity_def" id="Pattern.prepat.ctr_transfer(1)|thm"><span class="entity_def" id="Pattern.prepat.case_transfer|thm"><span class="entity_def" id="Pattern.prepat.splits(2)|thm"><span class="entity_def" id="Pattern.prepat.splits(1)|thm"><span class="entity_def" id="Pattern.prepat.split_asm|thm"><span class="entity_def" id="Pattern.prepat.split|thm"><span class="entity_def" id="Pattern.prepat.nchotomy|thm"><span class="entity_def" id="Pattern.prepat.inject(2)|thm"><span class="entity_def" id="Pattern.prepat.inject(1)|thm"><span class="entity_def" id="Pattern.prepat.exhaust|thm"><span class="entity_def" id="Pattern.prepat.distinct(2)|thm"><span class="entity_def" id="Pattern.prepat.distinct(1)|thm"><span class="entity_def" id="Pattern.prepat.case_distrib|thm"><span class="entity_def" id="Pattern.prepat.case_cong_weak|thm"><span class="entity_def" id="Pattern.prepat.case_cong|thm"><span class="entity_def" id="Pattern.prepat.case(2)|thm"><span class="entity_def" id="Pattern.prepat.case(1)|thm"><span class="entity_def" id="Pattern.prepat.eq.simps(6)|thm"><span class="entity_def" id="Pattern.prepat.eq.simps(5)|thm"><span class="entity_def" id="Pattern.prepat.eq.simps(4)|thm"><span class="entity_def" id="Pattern.prepat.eq.simps(3)|thm"><span class="entity_def" id="Pattern.prepat.eq.simps(2)|thm"><span class="entity_def" id="Pattern.prepat.eq.simps(1)|thm"><span class="entity_def" id="Pattern.prepat.eq.refl|thm"><span class="entity_def" id="Pattern.arity_equal_prepat|thm"><span class="entity_def" id="Pattern.equal_prepat_def|thm"><span class="entity_def" id="Pattern.equal_prepat_inst.equal_prepat|thm"><span class="entity_def" id="Pattern.arity_partial_term_of_prepat|thm"><span class="entity_def" id="Pattern.partial_term_of_prepat_triv|thm"><span class="entity_def" id="Pattern.partial_term_of_prepat_inst.partial_term_of_prepat|thm"><span class="entity_def" id="Pattern.arity_term_of_prepat|thm"><span class="entity_def" id="Pattern.term_of_prepat_triv|thm"><span class="entity_def" id="Pattern.term_of_prepat_inst.term_of_prepat|thm"><span class="entity_def" id="Pattern.prepat.case_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.ctor_rec_prepat_def|thm"><span class="entity_def" id="Pattern.Pattern.prepat.bd_regularCard|thm"><span class="entity_def" id="Pattern.Pattern.prepat.bd_cinfinite|thm"><span class="entity_def" id="Pattern.Pattern.prepat.bd_card_order|thm"><span class="entity_def" id="Pattern.Pattern.prepat.set_bd|thm"><span class="entity_def" id="Pattern.Pattern.prepat.set_transfer|thm"><span class="entity_def" id="Pattern.Pattern.prepat.set_map|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_transfer|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_transp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_symp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_reflp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_refl_strong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_refl|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_cong_simp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_cong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_mono_strong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_mono|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_map(2)|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_map(1)|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_Grp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_flip|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_eq_onp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_eq|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_conversep|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_compp_Grp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.rel_compp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_set|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_True|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_transfer|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_rel|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_map|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_cong_simp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_cong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_mono_strong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.pred_mono|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_ident_strong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_ident|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_transfer|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_id0|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_id|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong_pred|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong_simp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_cong0|thm"><span class="entity_def" id="Pattern.Pattern.prepat.map_comp|thm"><span class="entity_def" id="Pattern.Pattern.prepat.inj_map_strong|thm"><span class="entity_def" id="Pattern.Pattern.prepat.inj_map|thm"><span class="entity_def" id="Pattern.Pattern.prepat.in_rel|thm"><span class="entity_def" id="Pattern.prepat.wit_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.pred_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.rel_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.PPVars_def|thm"><span class="entity_def" id="Pattern.prepat.map_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.dtor_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.ctor_fold_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.ctor_prepat_def|thm"><span class="entity_def" id="Pattern.arity_typerep_prepat|thm"><span class="entity_def" id="Pattern.typerep_prepat_def|thm"><span class="entity_def" id="Pattern.typerep_prepat_inst.typerep_prepat|thm"><span class="entity_def" id="Pattern.prepat.Abs_prepat_induct|thm"><span class="entity_def" id="Pattern.prepat.Rep_prepat_induct|thm"><span class="entity_def" id="Pattern.prepat.Abs_prepat_cases|thm"><span class="entity_def" id="Pattern.prepat.Rep_prepat_cases|thm"><span class="entity_def" id="Pattern.prepat.Abs_prepat_inject|thm"><span class="entity_def" id="Pattern.prepat.Rep_prepat_inject|thm"><span class="entity_def" id="Pattern.prepat.Abs_prepat_inverse|thm"><span class="entity_def" id="Pattern.prepat.Rep_prepat_inverse|thm"><span class="entity_def" id="Pattern.prepat.Rep_prepat|thm"><span class="entity_def" id="Pattern.prepat.type_definition_prepat|thm"><span class="entity_def" id="Pattern.arity_type_prepat|thm"><span class="entity_def" id="Pattern.prepat.str_init_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.arity_typerep_prepat_IITN_prepat|thm"><span class="entity_def" id="Pattern.prepat.typerep_prepat_IITN_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.typerep_prepat_IITN_prepat_inst.typerep_prepat_IITN_prepat|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_induct|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_induct|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_cases|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_cases|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_inject|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_inject|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat_inverse|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat_inverse|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat|thm"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.type_definition_prepat_IITN_prepat|thm"><span class="entity_def" id="Pattern.arity_type_prepat_IITN_prepat|thm"><span class="entity_def" id="Pattern.prepat.min_alg_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.mor_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.alg_prepat_def|thm"><span class="entity_def" id="Pattern.pre_prepat.prepat.set2_pre_prepat_def|thm"><span class="entity_def" id="Pattern.pre_prepat.prepat.set1_pre_prepat_def|thm"><span class="entity_def" id="Pattern.pre_prepat.prepat.rel_pre_prepat_def|thm"><span class="entity_def" id="Pattern.pre_prepat.prepat.map_pre_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.arity_typerep_prepat_pre_prepat|thm"><span class="entity_def" id="Pattern.prepat.typerep_prepat_pre_prepat_def|thm"><span class="entity_def" id="Pattern.prepat.typerep_prepat_pre_prepat_inst.typerep_prepat_pre_prepat|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_induct|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_induct|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_cases|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_cases|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_inject|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_inject|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat_inverse|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat_inverse|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat|thm"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.type_definition_prepat_pre_prepat|thm"><span class="entity_def" id="Pattern.arity_type_prepat_pre_prepat|thm"><span class="entity_def" id="Pattern.prepat.size_prepat_overloaded_def|axiom"><span class="entity_def" id="Pattern.size_prepat_inst.size_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.size_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.rec_prepat_def|axiom"><span class="entity_def" id="Pattern.equal_prepat_def_raw|axiom"><span class="entity_def" id="Pattern.equal_prepat_inst.equal_prepat_def|axiom"><span class="entity_def" id="Pattern.partial_term_of_prepat_triv_raw|axiom"><span class="entity_def" id="Pattern.partial_term_of_prepat_inst.partial_term_of_prepat_def|axiom"><span class="entity_def" id="Pattern.term_of_prepat_triv_raw|axiom"><span class="entity_def" id="Pattern.term_of_prepat_inst.term_of_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.case_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.PPRec_def|axiom"><span class="entity_def" id="Pattern.prepat.PPVar_def|axiom"><span class="entity_def" id="Pattern.prepat.ctor_rec_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.wit_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.pred_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.rel_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.PPVars_def|axiom"><span class="entity_def" id="Pattern.prepat.map_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.dtor_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.ctor_fold_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.ctor_prepat_def|axiom"><span class="entity_def" id="Pattern.typerep_prepat_def_raw|axiom"><span class="entity_def" id="Pattern.typerep_prepat_inst.typerep_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.type_definition_prepat|axiom"><span class="entity_def" id="Pattern.arity_type_prepat|axiom"><span class="entity_def" id="Pattern.prepat.str_init_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.typerep_prepat_IITN_prepat_def_raw|axiom"><span class="entity_def" id="Pattern.prepat.typerep_prepat_IITN_prepat_inst.typerep_prepat_IITN_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.type_definition_prepat_IITN_prepat|axiom"><span class="entity_def" id="Pattern.arity_type_prepat_IITN_prepat|axiom"><span class="entity_def" id="Pattern.prepat.min_alg_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.mor_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.alg_prepat_def|axiom"><span class="entity_def" id="Pattern.pre_prepat.prepat.wit2_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.pre_prepat.prepat.wit1_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.pre_prepat.prepat.pred_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.pre_prepat.prepat.rel_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.pre_prepat.prepat.set2_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.pre_prepat.prepat.set1_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.pre_prepat.prepat.map_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.typerep_prepat_pre_prepat_def_raw|axiom"><span class="entity_def" id="Pattern.prepat.typerep_prepat_pre_prepat_inst.typerep_prepat_pre_prepat_def|axiom"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.type_definition_prepat_pre_prepat|axiom"><span class="entity_def" id="Pattern.arity_type_prepat_pre_prepat|axiom"><span class="entity_def" id="Pattern.raw_sum.prepat.sum.Sum_Type.pred_raw_sum_def|axiom"><span class="entity_def" id="Pattern.raw_sum.prepat.sum.Sum_Type.rel_raw_sum_def|axiom"><span class="entity_def" id="Pattern.raw_sum.prepat.sum.Sum_Type.map_raw_sum_def|axiom"><span class="entity_def" id="Pattern.size_prepat_inst.size_prepat|const"><span class="entity_def" id="Pattern.prepat.size_prepat|const"><span class="entity_def" id="Pattern.equal_prepat_inst.equal_prepat|const"><span class="entity_def" id="Pattern.partial_term_of_prepat_inst.partial_term_of_prepat|const"><span class="entity_def" id="Pattern.term_of_prepat_inst.term_of_prepat|const"><span class="entity_def" id="Pattern.prepat.case_prepat|const"><span class="entity_def" id="Pattern.typerep_prepat_inst.typerep_prepat|const"><span class="entity_def" id="Pattern.prepat.Abs_prepat|const"><span class="entity_def" id="Pattern.prepat.Rep_prepat|const"><span class="entity_def" id="Pattern.prepat.typerep_prepat_IITN_prepat_inst.typerep_prepat_IITN_prepat|const"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Abs_prepat_IITN_prepat|const"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat.Rep_prepat_IITN_prepat|const"><span class="entity_def" id="Pattern.prepat.mor_prepat|const"><span class="entity_def" id="Pattern.prepat.alg_prepat|const"><span class="entity_def" id="Pattern.prepat.typerep_prepat_pre_prepat_inst.typerep_prepat_pre_prepat|const"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Abs_prepat_pre_prepat|const"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat.Rep_prepat_pre_prepat|const"><span class="entity_def" id="Pattern.raw_sum.prepat.sum.Sum_Type.pred_raw_sum|const"><span class="entity_def" id="Pattern.raw_sum.prepat.sum.Sum_Type.rel_raw_sum|const"><span class="entity_def" id="Pattern.raw_sum.prepat.sum.Sum_Type.map_raw_sum|const"><span class="entity_def" id="Pattern.prepat.prepat_IITN_prepat|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><span class="quoted"><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a></span><span class="main"><span>,</span></span><span> </span><span class="entity_def" id="Pattern.prepat.PPVars|const"><span>PPVars</span></span><span class="main"><span>:</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Pattern.prepat.rec_prepat|const"><span class="entity_def" id="Pattern.prepat.ctor_rec_prepat|const"><span class="entity_def" id="Pattern.prepat.wit_prepat|const"><span class="entity_def" id="Pattern.prepat.pred_prepat|const"><span class="entity_def" id="Pattern.prepat.rel_prepat|const"><span class="entity_def" id="Pattern.prepat.map_prepat|const"><span class="entity_def" id="Pattern.prepat.dtor_prepat|const"><span class="entity_def" id="Pattern.prepat.ctor_fold_prepat|const"><span class="entity_def" id="Pattern.prepat.ctor_prepat|const"><span class="entity_def" id="Pattern.prepat.str_init_prepat|const"><span class="entity_def" id="Pattern.prepat.min_alg_prepat|const"><span class="entity_def" id="Pattern.pre_prepat.prepat.wit2_pre_prepat|const"><span class="entity_def" id="Pattern.pre_prepat.prepat.wit1_pre_prepat|const"><span class="entity_def" id="Pattern.pre_prepat.prepat.pred_pre_prepat|const"><span class="entity_def" id="Pattern.pre_prepat.prepat.rel_pre_prepat|const"><span class="entity_def" id="Pattern.pre_prepat.prepat.set2_pre_prepat|const"><span class="entity_def" id="Pattern.pre_prepat.prepat.set1_pre_prepat|const"><span class="entity_def" id="Pattern.pre_prepat.prepat.map_pre_prepat|const"><span class="entity_def" id="Pattern.prepat|type"><span class="entity_def" id="Pattern.prepat.prepat_pre_prepat|type"><span>prepat</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="Pattern.prepat.PPVar|const"><span>PPVar</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'v</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Pattern.prepat.PPRec|const"><span>PPRec</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.label|type"><span class="tconst"><span>label</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset|type"><span class="tconst"><span>lfset</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.finite_PPVars|fact"><span class="entity_def" id="Pattern.finite_PPVars|thm"><span>finite_PPVars</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.nonrep_prepat_def|fact"><span class="entity_def" id="Pattern.nonrep_prepat_def|thm"><span class="entity_def" id="Pattern.nonrep_prepat_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Pattern.nonrep_prepat|const"><span>nonrep_prepat</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nonrep_prepat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>Q</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.rel_prepat|const"><span class="const"><span>rel_prepat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_prepat_PPVar|fact"><span class="entity_def" id="Pattern.nonrep_prepat_PPVar|thm"><span>nonrep_prepat_PPVar</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_def|fact"><span>nonrep_prepat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Q
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>Q</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PVars_bd|fact"><span class="entity_def" id="Pattern.PVars_bd|thm"><span>PVars_bd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess_ordLeq_trans|fact"><span>ordLess_ordLeq_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.prepat.set_bd|fact"><span>prepat.set_bd</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ_pre.var_large|fact"><span>typ_pre.var_large</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.values_lfupdate|fact"><span class="entity_def" id="Pattern.values_lfupdate|thm"><span>values_lfupdate</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfupdate|const"><span class="const"><span>lfupdate</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span class="const"><span>insert</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.map_lfset_lfupdate|fact"><span class="entity_def" id="Pattern.map_lfset_lfupdate|thm"><span>map_lfset_lfupdate</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfupdate|const"><span class="const"><span>lfupdate</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfupdate|const"><span class="const"><span>lfupdate</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> 0 4 </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_def|fact"><span>map_prod_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_beta|fact"><span>split_beta</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.lfupdate_idle|fact"><span class="entity_def" id="Pattern.lfupdate_idle|thm"><span>lfupdate_idle</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>⦃</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.nonrep_lfset_alt|fact"><span>nonrep_lfset_alt</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.lfin_lfupdate|fact"><span class="entity_def" id="Pattern.lfin_lfupdate|thm"><span>lfin_lfupdate</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>⦃</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.map_prepat_idleD|fact"><span class="entity_def" id="Pattern.map_prepat_idleD|thm"><span>map_prepat_idleD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin|fact"><span>values_lfin</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.map_prepat_swapD|fact"><span class="entity_def" id="Pattern.map_prepat_swapD|thm"><span>map_prepat_swapD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span>z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>z'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z'</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>Q</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin|fact"><span>values_lfin</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_prepat_PRecD1|fact"><span class="entity_def" id="Pattern.nonrep_prepat_PRecD1|thm"><span>nonrep_prepat_PRecD1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_def|fact"><span>nonrep_prepat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> Q
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="free"><span class="free"><span>X</span></span></span><span class="main"><span class="main"><span>⦃</span></span></span><span class="free"><span class="free"><span>x</span></span></span><span> </span><span class="main"><span class="main"><span>:=</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Q</span></span></span><span class="main"><span class="main"><span>⦄</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.map_lfset_lfupdate|fact"><span>map_lfset_lfupdate</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_ident|fact"><span>lfset.map_ident</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.prepat.rel_refl|fact"><span>prepat.rel_refl</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfupdate_idle|fact"><span>lfupdate_idle</span></a><span>
      </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.values_lfupdate|fact"><span>values_lfupdate</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
       </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfupdate|const"><span class="const"><span>lfupdate</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>P</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exE|fact"><span>exE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>f</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfin_lfupdate|fact"><span>lfin_lfupdate</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_prepat_PRecD2|fact"><span class="entity_def" id="Pattern.nonrep_prepat_PRecD2|thm"><span>nonrep_prepat_PRecD2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_def|fact"><span>nonrep_prepat_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span> LR</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_2569..2571">LR</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="skolem"><span>Q</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.exists_fresh|fact"><span>MRBNF_FP.exists_fresh</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_bd|fact"><span>PVars_bd</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.rel_prepat|const"><span class="const"><span>rel_prepat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfupdate|const"><span class="const"><span>lfupdate</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z'</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.map_lfset_lfupdate|fact"><span>map_lfset_lfupdate</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_ident|fact"><span>lfset.map_ident</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.prepat.rel_map|fact"><span>prepat.rel_map</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.prepat.rel_refl|fact"><span>prepat.rel_refl</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfupdate_idle|fact"><span>lfupdate_idle</span></a><span>
      </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_mp|fact"><span>set_mp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.values_lfupdate|fact"><span>values_lfupdate</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
      </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfupdate|const"><span class="const"><span>lfupdate</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>P</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Q</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z'</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfupdate|const"><span class="const"><span>lfupdate</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z'</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3274..3275">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>⦃</span></span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z'</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.arg_cong|fact"><span>arg_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> f</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>P</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>P</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfin_lfupdate|fact"><span>lfin_lfupdate</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span> </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>z</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.map_prepat_idleD|fact"><span>map_prepat_idleD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_3274..3275"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z'</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfin_lfupdate|fact"><span>lfin_lfupdate</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>z'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span>(</span></span><span>6</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.map_prepat_swapD|fact"><span>map_prepat_swapD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#offset_2569..2571"><span>LR</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>,</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>z'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_values|fact"><span>lfin_values</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.set_intros|fact"><span>prepat.set_intros</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.lfset_eq_iff|fact"><span class="entity_def" id="Pattern.lfset_eq_iff|thm"><span>lfset_eq_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4164..4169">lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_prepat_PRecI|fact"><span class="entity_def" id="Pattern.nonrep_prepat_PRecI|thm"><span>nonrep_prepat_PRecI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_4164..4169"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_def|fact"><span>nonrep_prepat_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span> RL</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4468..4470">RL</span><span> </span><span class="skolem"><span>QQ</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>QQ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>QQ</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_4468..4470"><span>RL</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4554..4555">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.rel_prepat|const"><span class="const"><span>rel_prepat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>P</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4624..4626">xP</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_4554..4555"><span>*</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.rel_prepat|const"><span class="const"><span>rel_prepat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/atomize_elim.ML.html#HOL.atomize_elim|method"><span class="operator"><span>atomize_elim</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.FSet.html#FSet.rel_fset_alt|fact"><span>rel_fset_alt</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_4164..4169"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_4624..4626"><span>xP</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.rel_prepat|const"><span class="const"><span>rel_prepat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="skolem"><span>Q</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_def|fact"><span>nonrep_prepat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>g</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="skolem"><span>P</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/atomize_elim.ML.html#HOL.atomize_elim|method"><span class="operator"><span>atomize_elim</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span class="main"><span>λ</span></span></span></span><span class="bound"><span class="bound"><span class="bound"><span>x</span></span></span></span><span class="main"><span class="main"><span class="main"><span>.</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span></a></span></a></span><span> </span><span class="bound"><span class="bound"><span class="bound"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a></span></a></span></a><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>P</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span></a></span></a></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>f</span></span></span></span><span> </span><span class="bound"><span class="bound"><span class="bound"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span></a></span></a></span><span> </span><span class="bound"><span class="bound"><span class="bound"><span>x</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp_def|fact"><span>supp_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.prepat.map_cong|fact"><span>prepat.map_cong</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="skolem"><span>P</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5212..5213">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5219..5226">pick_ex</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5212..5213"><span>this</span></a><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_5236..5242">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>pick</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pick</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>SOME</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5358..5362">have</span></span></span><span> </span><span class="entity_def" id="offset_5363..5367">pick</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pick</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pick</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="skolem"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>P</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI_ex|fact"><span>someI_ex</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5219..5226"><span>pick_ex</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5358..5362"><span>that</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5236..5242"><span>pick_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps_case_prod|fact"><span>Eps_case_prod</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_5554..5560">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>pick_part</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pick_part</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.The|const"><span>THE</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>(</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>,</span></a></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.The|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5638..5642">have</span></span></span><span> </span><span class="entity_def" id="offset_5643..5652">pick_part</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pick_part</span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span class="const"><span>snd</span></span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pick_part</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>z</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5638..5642"><span>that</span></a><span> </span><a class="entity_ref" href="Pattern.html#offset_4164..4169"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5554..5560"><span>pick_part_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.the1I2|fact"><span>the1I2</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_5913..5919">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>pick1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pick1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span class="const"><span>case_prod</span></span></a><span> </span><span class="skolem"><span>pick</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pick_part</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>QQ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="skolem"><span>Y</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>pick1</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5913..5919"><span>pick1_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.lfset_eq_iff|fact"><span>lfset_eq_iff</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x P
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>P'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.rel_prepat|const"><span class="const"><span>rel_prepat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span class="const"><span>top</span></span></a><span> </span><span class="bound"><span>P'</span></span><span> </span><span class="skolem"><span>P</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5363..5367"><span>pick</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P'
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>P'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.sym|fact"><span>sym</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.prepat.map_cong|fact"><span>prepat.map_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_P|fact"><span>if_P</span></a><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_beta|fact"><span>split_beta</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.Pattern.prepat.map_cong|fact"><span>prepat.map_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span>pick</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>P'</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="Pattern.html#offset_4164..4169"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span> </span><a class="entity_ref" href="Pattern.html#offset_5643..5652"><span>pick_part</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.surjective_pairing|fact"><span>surjective_pairing</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_4554..4555"><span>*</span></a><span>
        </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset.lifting|bundle"><span>lfset.lifting</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Isabelle_Prelim/HOL-Library.FSet.html#FSet.rel_fset_alt|fact"><span>rel_fset_alt</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x P
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>frule</span></span><span> </span><a class="entity_ref" href="Pattern.html#offset_5363..5367"><span>pick</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="skolem"><span>Y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.map_prepat|const"><span class="const"><span>map_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="skolem"><span>pick_part</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="skolem"><span>pick</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span>›</span></span></span><span>
        </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_label_inject|fact"><span>lfin_label_inject</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.nonrep_PPRec_def|fact"><span class="entity_def" id="Pattern.nonrep_PPRec_def|thm"><span class="entity_def" id="Pattern.nonrep_PPRec_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Pattern.nonrep_PPRec|const"><span>nonrep_PPRec</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="bound"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_PPRec_lfemtpy|fact"><span class="entity_def" id="Pattern.nonrep_PPRec_lfemtpy|thm"><span>nonrep_PPRec_lfemtpy</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec|const"><span class="const"><span>nonrep_PPRec</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfempty|const"><span class="const"><span>lfempty</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec_def|fact"><span>nonrep_PPRec_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_prepat_PRec|fact"><span class="entity_def" id="Pattern.nonrep_prepat_PRec|thm"><span>nonrep_prepat_PRec</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
  </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec|const"><span class="const"><span>nonrep_PPRec</span></span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec_def|fact"><span>nonrep_PPRec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRecI|fact"><span>nonrep_prepat_PRecI</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRecD1|fact"><span>nonrep_prepat_PRecD1</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRecD2|fact"><span>nonrep_prepat_PRecD2</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>X</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.arity_typerep_pat|fact"><span class="entity_def" id="Pattern.typerep_pat_def|fact"><span class="entity_def" id="Pattern.typerep_pat_inst.typerep_pat|fact"><span class="entity_def" id="Pattern.pat.Abs_pat_induct|fact"><span class="entity_def" id="Pattern.pat.Rep_pat_induct|fact"><span class="entity_def" id="Pattern.pat.Abs_pat_cases|fact"><span class="entity_def" id="Pattern.pat.Rep_pat_cases|fact"><span class="entity_def" id="Pattern.pat.Abs_pat_inject|fact"><span class="entity_def" id="Pattern.pat.Rep_pat_inject|fact"><span class="entity_def" id="Pattern.pat.Abs_pat_inverse|fact"><span class="entity_def" id="Pattern.pat.Rep_pat_inverse|fact"><span class="entity_def" id="Pattern.pat.Rep_pat|fact"><span class="entity_def" id="Pattern.pat.type_definition_pat|fact"><span class="entity_def" id="Pattern.arity_type_pat|fact"><span class="entity_def" id="Pattern.arity_typerep_pat|thm"><span class="entity_def" id="Pattern.typerep_pat_def|thm"><span class="entity_def" id="Pattern.typerep_pat_inst.typerep_pat|thm"><span class="entity_def" id="Pattern.pat.Abs_pat_induct|thm"><span class="entity_def" id="Pattern.pat.Rep_pat_induct|thm"><span class="entity_def" id="Pattern.pat.Abs_pat_cases|thm"><span class="entity_def" id="Pattern.pat.Rep_pat_cases|thm"><span class="entity_def" id="Pattern.pat.Abs_pat_inject|thm"><span class="entity_def" id="Pattern.pat.Rep_pat_inject|thm"><span class="entity_def" id="Pattern.pat.Abs_pat_inverse|thm"><span class="entity_def" id="Pattern.pat.Rep_pat_inverse|thm"><span class="entity_def" id="Pattern.pat.Rep_pat|thm"><span class="entity_def" id="Pattern.pat.type_definition_pat|thm"><span class="entity_def" id="Pattern.arity_type_pat|thm"><span class="entity_def" id="Pattern.typerep_pat_def_raw|axiom"><span class="entity_def" id="Pattern.typerep_pat_inst.typerep_pat_def|axiom"><span class="entity_def" id="Pattern.pat.type_definition_pat|axiom"><span class="entity_def" id="Pattern.arity_type_pat|axiom"><span class="entity_def" id="Pattern.typerep_pat_inst.typerep_pat|const"><span class="entity_def" id="Pattern.pat.Abs_pat|const"><span class="entity_def" id="Pattern.pat.Rep_pat|const"><span>typedef</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><span class="quoted"><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><span class="quoted"><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Pattern.pat|type"><span>pat</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>{</span></a></span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="bound"><span>p</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Collect|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span class="const"><span>undefined</span></span></a><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.Quotient_pat|fact"><span class="entity_def" id="Pattern.pat.domain|fact"><span class="entity_def" id="Pattern.pat.bi_unique|fact"><span class="entity_def" id="Pattern.pat.right_total|fact"><span class="entity_def" id="Pattern.pat.right_unique|fact"><span class="entity_def" id="Pattern.pat.left_unique|fact"><span class="entity_def" id="Pattern.pat.rep_transfer|fact"><span class="entity_def" id="Pattern.arity_term_of_pat|fact"><span class="entity_def" id="Pattern.term_of_pat_triv|fact"><span class="entity_def" id="Pattern.term_of_pat_inst.term_of_pat|fact"><span class="entity_def" id="Pattern.cr_pat_def|fact"><span class="entity_def" id="Pattern.pat.lifting|bundle"><span class="entity_def" id="Pattern.Quotient_pat|thm"><span class="entity_def" id="Pattern.pat.domain|thm"><span class="entity_def" id="Pattern.pat.bi_unique|thm"><span class="entity_def" id="Pattern.pat.right_total|thm"><span class="entity_def" id="Pattern.pat.right_unique|thm"><span class="entity_def" id="Pattern.pat.left_unique|thm"><span class="entity_def" id="Pattern.pat.rep_transfer|thm"><span class="entity_def" id="Pattern.arity_term_of_pat|thm"><span class="entity_def" id="Pattern.term_of_pat_triv|thm"><span class="entity_def" id="Pattern.term_of_pat_inst.term_of_pat|thm"><span class="entity_def" id="Pattern.cr_pat_def|thm"><span class="entity_def" id="Pattern.term_of_pat_triv_raw|axiom"><span class="entity_def" id="Pattern.term_of_pat_inst.term_of_pat_def|axiom"><span class="entity_def" id="Pattern.cr_pat_def|axiom"><span class="entity_def" id="Pattern.term_of_pat_inst.term_of_pat|const"><span class="entity_def" id="Pattern.cr_pat|const"><span>setup_lifting</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.type_definition_pat|fact"><span>type_definition_pat</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.PVar.rep_eq|fact"><span class="entity_def" id="Pattern.PVar.abs_eq|fact"><span class="entity_def" id="Pattern.PVar.transfer|fact"><span class="entity_def" id="Pattern.PVar.rsp|fact"><span class="entity_def" id="Pattern.PVar_def|fact"><span class="entity_def" id="Pattern.PVar.rep_eq|thm"><span class="entity_def" id="Pattern.PVar.abs_eq|thm"><span class="entity_def" id="Pattern.PVar.transfer|thm"><span class="entity_def" id="Pattern.PVar.rsp|thm"><span class="entity_def" id="Pattern.PVar_def|thm"><span class="entity_def" id="Pattern.PVar_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Pattern.PVar|const"><span>PVar</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PVar_inject|fact"><span class="entity_def" id="Pattern.PVar_inject|thm"><span>PVar_inject</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.PRec_def|fact"><span class="entity_def" id="Pattern.PRec_def|thm"><span class="entity_def" id="Pattern.PRec_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Pattern.PRec|const"><span>PRec</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.label|type"><span class="tconst"><span>label</span></span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfset|type"><span class="tconst"><span>lfset</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PRec</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec|const"><span class="const"><span>nonrep_PPRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|const"><span class="const"><span>Rep_pat</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat|const"><span class="const"><span>Abs_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|const"><span class="const"><span>Rep_pat</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat|const"><span class="const"><span>Abs_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfempty|const"><span class="const"><span>lfempty</span></span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PRec_transfer|fact"><span class="entity_def" id="Pattern.PRec_transfer|thm"><span>PRec_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span class="const"><span>rel_fun</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.rel_lfset|const"><span class="const"><span>rel_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.cr_pat|const"><span class="const"><span>cr_pat</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.cr_pat|const"><span class="const"><span>cr_pat</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec|const"><span class="const"><span>nonrep_PPRec</span></span></a><span> </span><span class="bound"><span>X</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="bound"><span>X</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfempty|const"><span class="const"><span>lfempty</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.cr_pat_def|fact"><span>cr_pat_def</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span>
    </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.in_rel|fact"><span>lfset.in_rel</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="../Binders/MRBNF_FP.html#MRBNF_FP.Collect_prod_beta|fact"><span>Collect_prod_beta</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|fact"><span>subset_eq</span></a><span>
       </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong_id|fact"><span>lfset.map_cong_id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.vvsubst_prepat.elims|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.induct|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.simps|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.pelims|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.cases|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.termination|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.pinduct|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.psimps|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.inducts|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.simps|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.induct|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.cases|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.intros|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.mono|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_rel_def|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.inducts|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.simps|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.induct|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.cases|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.intros|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.mono|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_graph_def|fact"><span class="entity_def" id="Pattern.vvsubst_prepat.elims|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.induct|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.simps(2)|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.simps(1)|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.pelims|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.cases|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.termination|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.pinduct|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.psimps(2)|thm"><span class="entity_def" id="Pattern.vvsubst_prepat.psimps(1)|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.inducts|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.simps|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.induct|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.cases|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.intros|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_rel.mono|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_rel_def|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.inducts|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.simps|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.induct|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.cases|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.intros(2)|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.intros(1)|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph.mono|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_graph_def|thm"><span class="entity_def" id="Pattern.vvsubst_prepat_def|axiom"><span class="entity_def" id="Pattern.vvsubst_prepat_rel_def|axiom"><span class="entity_def" id="Pattern.vvsubst_prepat_sumC_def|axiom"><span class="entity_def" id="Pattern.vvsubst_prepat_graph_def|axiom"><span class="entity_def" id="Pattern.vvsubst_prepat_dom|const"><span class="entity_def" id="Pattern.vvsubst_prepat_rel|const"><span class="entity_def" id="Pattern.vvsubst_prepat_sumC|const"><span class="entity_def" id="Pattern.vvsubst_prepat_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Pattern.vvsubst_prepat|const"><span>vvsubst_prepat</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vvsubst_prepat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.vvsubst_typ|const"><span class="const"><span>vvsubst_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vvsubst_prepat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>vvsubst_prepat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.tvsubst_prepat.elims|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.induct|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.simps|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.pelims|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.cases|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.termination|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.pinduct|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.psimps|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.inducts|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.simps|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.induct|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.cases|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.intros|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.mono|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_rel_def|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.inducts|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.simps|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.induct|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.cases|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.intros|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.mono|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_graph_def|fact"><span class="entity_def" id="Pattern.tvsubst_prepat.elims|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.induct|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.simps(2)|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.simps(1)|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.pelims|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.cases|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.termination|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.pinduct|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.psimps(2)|thm"><span class="entity_def" id="Pattern.tvsubst_prepat.psimps(1)|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.inducts|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.simps|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.induct|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.cases|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.intros|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_rel.mono|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_rel_def|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.inducts|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.simps|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.induct|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.cases|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.intros(2)|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.intros(1)|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph.mono|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_graph_def|thm"><span class="entity_def" id="Pattern.tvsubst_prepat_def|axiom"><span class="entity_def" id="Pattern.tvsubst_prepat_rel_def|axiom"><span class="entity_def" id="Pattern.tvsubst_prepat_sumC_def|axiom"><span class="entity_def" id="Pattern.tvsubst_prepat_graph_def|axiom"><span class="entity_def" id="Pattern.tvsubst_prepat_dom|const"><span class="entity_def" id="Pattern.tvsubst_prepat_rel|const"><span class="entity_def" id="Pattern.tvsubst_prepat_sumC|const"><span class="entity_def" id="Pattern.tvsubst_prepat_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Pattern.tvsubst_prepat|const"><span>tvsubst_prepat</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>tvsubst_prepat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>tvsubst_prepat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>tvsubst_prepat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>τ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>σ</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.PPTVars.elims|fact"><span class="entity_def" id="Pattern.PPTVars.induct|fact"><span class="entity_def" id="Pattern.PPTVars.simps|fact"><span class="entity_def" id="Pattern.PPTVars.pelims|fact"><span class="entity_def" id="Pattern.PPTVars.cases|fact"><span class="entity_def" id="Pattern.PPTVars.termination|fact"><span class="entity_def" id="Pattern.PPTVars.pinduct|fact"><span class="entity_def" id="Pattern.PPTVars.psimps|fact"><span class="entity_def" id="Pattern.PPTVars_rel.inducts|fact"><span class="entity_def" id="Pattern.PPTVars_rel.simps|fact"><span class="entity_def" id="Pattern.PPTVars_rel.induct|fact"><span class="entity_def" id="Pattern.PPTVars_rel.cases|fact"><span class="entity_def" id="Pattern.PPTVars_rel.intros|fact"><span class="entity_def" id="Pattern.PPTVars_rel.mono|fact"><span class="entity_def" id="Pattern.PPTVars_rel_def|fact"><span class="entity_def" id="Pattern.PPTVars_graph.inducts|fact"><span class="entity_def" id="Pattern.PPTVars_graph.simps|fact"><span class="entity_def" id="Pattern.PPTVars_graph.induct|fact"><span class="entity_def" id="Pattern.PPTVars_graph.cases|fact"><span class="entity_def" id="Pattern.PPTVars_graph.intros|fact"><span class="entity_def" id="Pattern.PPTVars_graph.mono|fact"><span class="entity_def" id="Pattern.PPTVars_graph_def|fact"><span class="entity_def" id="Pattern.PPTVars.elims|thm"><span class="entity_def" id="Pattern.PPTVars.induct|thm"><span class="entity_def" id="Pattern.PPTVars.simps(2)|thm"><span class="entity_def" id="Pattern.PPTVars.simps(1)|thm"><span class="entity_def" id="Pattern.PPTVars.pelims|thm"><span class="entity_def" id="Pattern.PPTVars.cases|thm"><span class="entity_def" id="Pattern.PPTVars.termination|thm"><span class="entity_def" id="Pattern.PPTVars.pinduct|thm"><span class="entity_def" id="Pattern.PPTVars.psimps(2)|thm"><span class="entity_def" id="Pattern.PPTVars.psimps(1)|thm"><span class="entity_def" id="Pattern.PPTVars_rel.inducts|thm"><span class="entity_def" id="Pattern.PPTVars_rel.simps|thm"><span class="entity_def" id="Pattern.PPTVars_rel.induct|thm"><span class="entity_def" id="Pattern.PPTVars_rel.cases|thm"><span class="entity_def" id="Pattern.PPTVars_rel.intros|thm"><span class="entity_def" id="Pattern.PPTVars_rel.mono|thm"><span class="entity_def" id="Pattern.PPTVars_rel_def|thm"><span class="entity_def" id="Pattern.PPTVars_graph.inducts|thm"><span class="entity_def" id="Pattern.PPTVars_graph.simps|thm"><span class="entity_def" id="Pattern.PPTVars_graph.induct|thm"><span class="entity_def" id="Pattern.PPTVars_graph.cases|thm"><span class="entity_def" id="Pattern.PPTVars_graph.intros(2)|thm"><span class="entity_def" id="Pattern.PPTVars_graph.intros(1)|thm"><span class="entity_def" id="Pattern.PPTVars_graph.mono|thm"><span class="entity_def" id="Pattern.PPTVars_graph_def|thm"><span class="entity_def" id="Pattern.PPTVars_def|axiom"><span class="entity_def" id="Pattern.PPTVars_rel_def|axiom"><span class="entity_def" id="Pattern.PPTVars_sumC_def|axiom"><span class="entity_def" id="Pattern.PPTVars_graph_def|axiom"><span class="entity_def" id="Pattern.PPTVars_dom|const"><span class="entity_def" id="Pattern.PPTVars_rel|const"><span class="entity_def" id="Pattern.PPTVars_sumC|const"><span class="entity_def" id="Pattern.PPTVars_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Pattern.PPTVars|const"><span>PPTVars</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PPTVars</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVar|const"><span class="const"><span>PPVar</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PPTVars</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPRec|const"><span class="const"><span>PPRec</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><span class="free"><span>PPTVars</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.finite_PPTVars|fact"><span class="entity_def" id="Pattern.finite_PPTVars|thm"><span>finite_PPTVars</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PPTVars|const"><span class="const"><span>PPTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PPVars_vvsubst_prepat|fact"><span class="entity_def" id="Pattern.PPVars_vvsubst_prepat|thm"><span>PPVars_vvsubst_prepat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_prepat|const"><span class="const"><span>vvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PPVars_tvsubst_prepat|fact"><span class="entity_def" id="Pattern.PPVars_tvsubst_prepat|thm"><span>PPVars_tvsubst_prepat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PPTVars_vvsubst_prepat|fact"><span class="entity_def" id="Pattern.PPTVars_vvsubst_prepat|thm"><span>PPTVars_vvsubst_prepat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PPTVars|const"><span class="const"><span>PPTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_prepat|const"><span class="const"><span>vvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PPTVars|const"><span class="const"><span>PPTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_map|fact"><span>typ.set_map</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PPTVars_tvsubst_prepat|fact"><span class="entity_def" id="Pattern.PPTVars_tvsubst_prepat|thm"><span>PPTVars_tvsubst_prepat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PPTVars|const"><span class="const"><span>PPTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PPTVars|const"><span class="const"><span>PPTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>τ</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_tvsubst_typ|fact"><span>FVars_tvsubst_typ</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_prepat_vvsubst_prepat|fact"><span class="entity_def" id="Pattern.nonrep_prepat_vvsubst_prepat|thm"><span>nonrep_prepat_vvsubst_prepat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_prepat|const"><span class="const"><span>vvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_values|fact"><span>lfin_values</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec_def|fact"><span>nonrep_PPRec_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.vvsubst_pat.rep_eq|fact"><span class="entity_def" id="Pattern.vvsubst_pat.abs_eq|fact"><span class="entity_def" id="Pattern.vvsubst_pat.transfer|fact"><span class="entity_def" id="Pattern.vvsubst_pat.rsp|fact"><span class="entity_def" id="Pattern.vvsubst_pat_def|fact"><span class="entity_def" id="Pattern.vvsubst_pat.rep_eq|thm"><span class="entity_def" id="Pattern.vvsubst_pat.abs_eq|thm"><span class="entity_def" id="Pattern.vvsubst_pat.transfer|thm"><span class="entity_def" id="Pattern.vvsubst_pat.rsp|thm"><span class="entity_def" id="Pattern.vvsubst_pat_def|thm"><span class="entity_def" id="Pattern.vvsubst_pat_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Pattern.vvsubst_pat|const"><span>vvsubst_pat</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>τ</span></span><span> </span><span class="bound"><span>σ</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_prepat|const"><span class="const"><span>vvsubst_prepat</span></span></a><span> </span><span class="bound"><span>τ</span></span><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_vvsubst_prepat|fact"><span>nonrep_prepat_vvsubst_prepat</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_prepat_tvsubst_prepat|fact"><span class="entity_def" id="Pattern.nonrep_prepat_tvsubst_prepat|thm"><span>nonrep_prepat_tvsubst_prepat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat|const"><span class="const"><span>nonrep_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_values|fact"><span>lfin_values</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec_def|fact"><span>nonrep_PPRec_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.bij_implies_inject|fact"><span>bij_implies_inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.tvsubst_pat.rep_eq|fact"><span class="entity_def" id="Pattern.tvsubst_pat.abs_eq|fact"><span class="entity_def" id="Pattern.tvsubst_pat.transfer|fact"><span class="entity_def" id="Pattern.tvsubst_pat.rsp|fact"><span class="entity_def" id="Pattern.tvsubst_pat_def|fact"><span class="entity_def" id="Pattern.tvsubst_pat.rep_eq|thm"><span class="entity_def" id="Pattern.tvsubst_pat.abs_eq|thm"><span class="entity_def" id="Pattern.tvsubst_pat.transfer|thm"><span class="entity_def" id="Pattern.tvsubst_pat.rsp|thm"><span class="entity_def" id="Pattern.tvsubst_pat_def|thm"><span class="entity_def" id="Pattern.tvsubst_pat_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Pattern.tvsubst_pat|const"><span>tvsubst_pat</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ|type"><span class="tconst"><span>typ</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>τ</span></span><span> </span><span class="bound"><span>σ</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="bound"><span>τ</span></span><span> </span><span class="bound"><span>σ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_tvsubst_prepat|fact"><span>nonrep_prepat_tvsubst_prepat</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.PVars.rep_eq|fact"><span class="entity_def" id="Pattern.PVars.abs_eq|fact"><span class="entity_def" id="Pattern.PVars.transfer|fact"><span class="entity_def" id="Pattern.PVars.rsp|fact"><span class="entity_def" id="Pattern.PVars_def|fact"><span class="entity_def" id="Pattern.PVars.rep_eq|thm"><span class="entity_def" id="Pattern.PVars.abs_eq|thm"><span class="entity_def" id="Pattern.PVars.transfer|thm"><span class="entity_def" id="Pattern.PVars.rsp|thm"><span class="entity_def" id="Pattern.PVars_def|thm"><span class="entity_def" id="Pattern.PVars_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Pattern.PVars|const"><span>PVars</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.PTVars.rep_eq|fact"><span class="entity_def" id="Pattern.PTVars.abs_eq|fact"><span class="entity_def" id="Pattern.PTVars.transfer|fact"><span class="entity_def" id="Pattern.PTVars.rsp|fact"><span class="entity_def" id="Pattern.PTVars_def|fact"><span class="entity_def" id="Pattern.PTVars.rep_eq|thm"><span class="entity_def" id="Pattern.PTVars.abs_eq|thm"><span class="entity_def" id="Pattern.PTVars.transfer|thm"><span class="entity_def" id="Pattern.PTVars.rsp|thm"><span class="entity_def" id="Pattern.PTVars_def|thm"><span class="entity_def" id="Pattern.PTVars_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Pattern.PTVars|const"><span>PTVars</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'tv</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PPTVars|const"><span class="const"><span>PPTVars</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PVars_vvsubst_pat|fact"><span class="entity_def" id="Pattern.PVars_vvsubst_pat|thm"><span>PVars_vvsubst_pat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PVars_tvsubst_pat|fact"><span class="entity_def" id="Pattern.PVars_tvsubst_pat|thm"><span>PVars_tvsubst_pat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PTVars_vvsubst_pat|fact"><span class="entity_def" id="Pattern.PTVars_vvsubst_pat|thm"><span>PTVars_vvsubst_pat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PTVars_tvsubst_pat|fact"><span class="entity_def" id="Pattern.PTVars_tvsubst_pat|thm"><span>PTVars_tvsubst_pat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>τ</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.vvsubst_prepat_tvsubst_prepat|fact"><span class="entity_def" id="Pattern.vvsubst_prepat_tvsubst_prepat|thm"><span>vvsubst_prepat_tvsubst_prepat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_prepat|const"><span class="const"><span>vvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.vvsubst_typ_tvsubst_typ|fact"><span>vvsubst_typ_tvsubst_typ</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.vvsubst_pat_tvsubst_pat|fact"><span class="entity_def" id="Pattern.vvsubst_pat_tvsubst_pat|thm"><span>vvsubst_pat_tvsubst_pat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.supp|const"><span class="const"><span>supp</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.TyVar|const"><span class="const"><span>TyVar</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_prepat_tvsubst_prepat|fact"><span>vvsubst_prepat_tvsubst_prepat</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.tvsubst_prepat_comp|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_comp|thm"><span>tvsubst_prepat_comp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ'</span></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_comp|fact"><span>tvsubst_typ_comp</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.tvsubst_prepat_cong|fact"><span class="entity_def" id="Pattern.tvsubst_prepat_cong|thm"><span>tvsubst_prepat_cong</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat|type"><span class="tconst"><span>prepat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PPTVars|const"><span class="const"><span>PPTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>τ'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.prepat.PPVars|const"><span class="const"><span>PPVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>  
  </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat|const"><span class="const"><span>tvsubst_prepat</span></span></a><span> </span><span class="free"><span>τ'</span></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ_cong|fact"><span>tvsubst_typ_cong</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.tvsubst_pat_comp|fact"><span class="entity_def" id="Pattern.tvsubst_pat_comp|thm"><span>tvsubst_pat_comp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>τ'</span></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>τ'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>σ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>σ'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat_comp|fact"><span>tvsubst_prepat_comp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.tvsubst_pat_cong|fact"><span class="entity_def" id="Pattern.tvsubst_pat_cong|thm"><span>tvsubst_pat_cong</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.SSupp_typ|const"><span class="const"><span>SSupp_typ</span></span></a><span> </span><span class="free"><span>τ'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/BNF_Wellorder_Constructions.html#BNF_Wellorder_Constructions.ordLess2|const"><span>&lt;o</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span class="const"><span>UNIV</span></span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'tv</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span class="tconst"><span>set</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.card_of|const"><span>|</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>τ</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>τ'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>.</span></a></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>  
  </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>τ</span></span><span> </span><span class="free"><span>σ</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>τ'</span></span><span> </span><span class="free"><span>σ'</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat_cong|fact"><span>tvsubst_prepat_cong</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.vvsubst_pat_id|fact"><span class="entity_def" id="Pattern.vvsubst_pat_id|thm"><span>vvsubst_pat_id</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_id|fact"><span>typ.map_id</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.trans|fact"><span>trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong_id|fact"><span>lfset.map_cong_id</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_id|fact"><span>lfset.map_id</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.Pattern.pat.mr_set_transfer|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_map_transfer|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_id|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_mono_strong0|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_mono|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_map|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_flip|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_cong|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_Grp|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_le_rel_OO|fact"><span class="entity_def" id="Pattern.Pattern.pat.UN_bound|fact"><span class="entity_def" id="Pattern.Pattern.pat.Un_bound|fact"><span class="entity_def" id="Pattern.Pattern.pat.supp_comp_bound|fact"><span class="entity_def" id="Pattern.Pattern.pat.UNIV_cinfinite|fact"><span class="entity_def" id="Pattern.Pattern.pat.natLeq_bound|fact"><span class="entity_def" id="Pattern.Pattern.pat.set_bd|fact"><span class="entity_def" id="Pattern.Pattern.pat.set_map|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_transfer|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_transp|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_symp|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_reflp|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_refl_strong|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_refl|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_cong_simp|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_cong|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_mono_strong|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_mono|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_map|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_Grp|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_flip|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_eq_onp|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_eq|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_conversep|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_compp_Grp|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_compp|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_set|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_True|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_transfer|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_rel|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_map|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_cong_simp|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_cong|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_mono|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_mono_strong|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_ident|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_transfer|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_id0|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_id|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_cong_pred|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_cong_simp|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_cong_id|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_cong|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_cong0|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_comp|fact"><span class="entity_def" id="Pattern.Pattern.pat.inj_map_strong|fact"><span class="entity_def" id="Pattern.Pattern.pat.inj_map|fact"><span class="entity_def" id="Pattern.Pattern.pat.in_rel|fact"><span class="entity_def" id="Pattern.Pattern.pat.wit|fact"><span class="entity_def" id="Pattern.Pattern.pat.var_regular|fact"><span class="entity_def" id="Pattern.Pattern.pat.var_large|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_set|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_transfer|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_OO_Grp|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_OO|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_conversep|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_mono_strong|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_eq|fact"><span class="entity_def" id="Pattern.Pattern.pat.mr_in_rel|fact"><span class="entity_def" id="Pattern.Pattern.pat.set_bd_UNIV|fact"><span class="entity_def" id="Pattern.Pattern.pat.set_map0|fact"><span class="entity_def" id="Pattern.Pattern.pat.pred_mono_strong0|fact"><span class="entity_def" id="Pattern.Pattern.pat.rel_mono_strong0|fact"><span class="entity_def" id="Pattern.Pattern.pat.map_comp0|fact"><span class="entity_def" id="Pattern.Pattern.pat.in_mono|fact"><span class="entity_def" id="Pattern.Pattern.pat.in_bd|fact"><span class="entity_def" id="Pattern.Pattern.pat.collect_set_map|fact"><span class="entity_def" id="Pattern.Pattern.pat.bd_Cnotzero|fact"><span class="entity_def" id="Pattern.Pattern.pat.bd_Cinfinite|fact"><span class="entity_def" id="Pattern.Pattern.pat.bd_Card_order|fact"><span class="entity_def" id="Pattern.Pattern.pat.bd_regularCard|fact"><span class="entity_def" id="Pattern.Pattern.pat.bd_cinfinite|fact"><span class="entity_def" id="Pattern.Pattern.pat.bd_card_order|fact"><span class="entity_def" id="Pattern.Pattern.pat.bd_infinite_regular_card_order|fact"><span class="entity_def" id="Pattern.Pattern.mr_rel_pat_def|fact"><span class="entity_def" id="Pattern.pat.Pattern.pred_pat_def|fact"><span class="entity_def" id="Pattern.Pattern.pat.UN_bound|thm"><span class="entity_def" id="Pattern.Pattern.pat.Un_bound|thm"><span class="entity_def" id="Pattern.Pattern.pat.UNIV_cinfinite|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_set_transfer(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_set_transfer(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_map_transfer|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_id|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_mono_strong0|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_mono|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_map(3)|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_map(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_map(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_flip|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_cong|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_Grp|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_le_rel_OO|thm"><span class="entity_def" id="Pattern.Pattern.pat.supp_comp_bound|thm"><span class="entity_def" id="Pattern.Pattern.pat.natLeq_bound|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_bd(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_bd(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_map(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_map(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_transfer|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_transp|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_symp|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_reflp|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_refl_strong|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_refl|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_cong_simp|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_cong|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_mono_strong|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_mono|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_map(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_map(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_Grp|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_flip|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_eq_onp|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_eq|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_conversep|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_compp_Grp|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_compp|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_set|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_True|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_transfer|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_rel|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_map|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_cong_simp|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_cong|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_mono|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_mono_strong|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_ident|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_transfer|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_id0|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_id|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_cong_pred|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_cong_simp|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_cong_id|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_cong|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_cong0|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_comp|thm"><span class="entity_def" id="Pattern.Pattern.pat.inj_map_strong|thm"><span class="entity_def" id="Pattern.Pattern.pat.inj_map|thm"><span class="entity_def" id="Pattern.Pattern.pat.in_rel|thm"><span class="entity_def" id="Pattern.Pattern.pat.var_regular|thm"><span class="entity_def" id="Pattern.Pattern.pat.var_large|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_set(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_set(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_transfer|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_OO_Grp|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_OO|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_conversep|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_mono_strong|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_rel_eq|thm"><span class="entity_def" id="Pattern.Pattern.pat.mr_in_rel|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_bd_UNIV(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_bd_UNIV(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_map0(2)|thm"><span class="entity_def" id="Pattern.Pattern.pat.set_map0(1)|thm"><span class="entity_def" id="Pattern.Pattern.pat.pred_mono_strong0|thm"><span class="entity_def" id="Pattern.Pattern.pat.rel_mono_strong0|thm"><span class="entity_def" id="Pattern.Pattern.pat.map_comp0|thm"><span class="entity_def" id="Pattern.Pattern.pat.in_mono|thm"><span class="entity_def" id="Pattern.Pattern.pat.in_bd|thm"><span class="entity_def" id="Pattern.Pattern.pat.collect_set_map|thm"><span class="entity_def" id="Pattern.Pattern.pat.bd_Cnotzero|thm"><span class="entity_def" id="Pattern.Pattern.pat.bd_Cinfinite|thm"><span class="entity_def" id="Pattern.Pattern.pat.bd_Card_order|thm"><span class="entity_def" id="Pattern.Pattern.pat.bd_regularCard|thm"><span class="entity_def" id="Pattern.Pattern.pat.bd_cinfinite|thm"><span class="entity_def" id="Pattern.Pattern.pat.bd_card_order|thm"><span class="entity_def" id="Pattern.Pattern.pat.bd_infinite_regular_card_order|thm"><span class="entity_def" id="Pattern.Pattern.mr_rel_pat_def|thm"><span class="entity_def" id="Pattern.pat.Pattern.pred_pat_def|thm"><span class="entity_def" id="Pattern.Pattern.mr_rel_pat_def|axiom"><span class="entity_def" id="Pattern.pat.Pattern.pred_pat_def|axiom"><span class="entity_def" id="Pattern.Pattern.mr_rel_pat|const"><span class="entity_def" id="Pattern.pat.Pattern.pred_pat|const"><span>mrbnf</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'tv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Prelim/Card_Prelim.html#Card_Prelim.var|class"><span class="tclass"><span>var</span></span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat|type"><span class="tconst"><span>pat</span></span></a><span>"</span></span></span><span>
  map</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a></span><span>
  sets</span><span class="main"><span>:</span></span><span>
    free</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a></span><span>
    bound</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span>"</span></span></span><span>
  bd</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.natLeq|const"><span class="const"><span>natLeq</span></span></a><span>"</span></span></span><span>
  rel</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f1 f2 g1 g2
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="quasi_keyword"><span>fixing</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f1</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f2</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>g1</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>g2</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_comp|fact"><span>typ.map_comp</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P f1 f2 g1 g2
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="quasi_keyword"><span>fixing</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f1</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f2</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>g1</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>g2</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.map_cong|fact"><span>typ.map_cong</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="quasi_keyword"><span>fixing</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>g</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_map|fact"><span>typ.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f g
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="quasi_keyword"><span>fixing</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>g</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.set_map|fact"><span>typ.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.infinite_regular_card_order_natLeq|fact"><span>infinite_regular_card_order_natLeq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_bd|fact"><span>typ.FVars_bd</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_bd|fact"><span>lfset.set_bd</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.stable_UNION|fact"><span>stable_UNION</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.stable_natLeq|fact"><span>stable_natLeq</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> P
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.typ.FVars_bd|fact"><span>typ.FVars_bd</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_bd|fact"><span>lfset.set_bd</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Composition.html#BNF_Composition.ID.set_bd|fact"><span>ID.set_bd</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values_lfin_iff|fact"><span>values_lfin_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.stable_UNION|fact"><span>stable_UNION</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Cardinal_Order_Relation.html#BNF_Cardinal_Order_Relation.stable_natLeq|fact"><span>stable_natLeq</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.vvsubst_pat_PVar|fact"><span class="entity_def" id="Pattern.vvsubst_pat_PVar|thm"><span>vvsubst_pat_PVar</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.vvsubst_typ|const"><span class="const"><span>vvsubst_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.tvsubst_pat_PVar|fact"><span class="entity_def" id="Pattern.tvsubst_pat_PVar|thm"><span>tvsubst_pat_PVar</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SystemFSub.html#SystemFSub.tvsubst_typ|const"><span class="const"><span>tvsubst_typ</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Pattern.nonrep_PRec_def|fact"><span class="entity_def" id="Pattern.nonrep_PRec_def|thm"><span class="entity_def" id="Pattern.nonrep_PRec_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Pattern.nonrep_PRec|const"><span>nonrep_PRec</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin|const"><span>∈∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="bound"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.nonrep_PRec_alt|fact"><span class="entity_def" id="Pattern.nonrep_PRec_alt|thm"><span>nonrep_PRec_alt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec|const"><span class="const"><span>nonrep_PPRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|const"><span class="const"><span>Rep_pat</span></span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_def|fact"><span>nonrep_PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec_def|fact"><span>nonrep_PPRec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_def|fact"><span>PVars_def</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Prelim/Prelim.html#Prelim.Int_emptyD|fact"><span>Int_emptyD</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PRec_inject|fact"><span class="entity_def" id="Pattern.PRec_inject|thm"><span>PRec_inject</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>UU</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>UU</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>PP</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>UU</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat_inject|fact"><span>Rep_pat_inject</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.inj_map_strong|fact"><span>lfset.inj_map_strong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>rotated</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.vvsubst_pat_PRec|fact"><span class="entity_def" id="Pattern.vvsubst_pat_PRec|thm"><span>vvsubst_pat_PRec</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat|const"><span class="const"><span>vvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_pat_def|fact"><span>vvsubst_pat_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.map_fun_def|fact"><span>map_fun_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_vvsubst_prepat|fact"><span>nonrep_prepat_vvsubst_prepat</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRec|fact"><span>nonrep_prepat_PRec</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_vvsubst_prepat|fact"><span>nonrep_prepat_vvsubst_prepat</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong_id|fact"><span>lfset.map_cong_id</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRec|fact"><span>nonrep_prepat_PRec</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_vvsubst_prepat|fact"><span>nonrep_prepat_vvsubst_prepat</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec_def|fact"><span>nonrep_PPRec_def</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRec|fact"><span>nonrep_prepat_PRec</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_vvsubst_prepat|fact"><span>nonrep_prepat_vvsubst_prepat</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.vvsubst_prepat.simps|fact"><span>vvsubst_prepat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.tvsubst_pat_PRec|fact"><span class="entity_def" id="Pattern.tvsubst_pat_PRec|thm"><span>tvsubst_pat_PRec</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij|const"><span class="const"><span>bij</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.map_lfset|const"><span class="const"><span>map_lfset</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span class="const"><span>id</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat|const"><span class="const"><span>tvsubst_pat</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_pat_def|fact"><span>tvsubst_pat_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_def|fact"><span>o_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.map_fun_def|fact"><span>map_fun_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_def|fact"><span>id_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>1 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_tvsubst_prepat|fact"><span>nonrep_prepat_tvsubst_prepat</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inject|fact"><span>Abs_pat_inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRec|fact"><span>nonrep_prepat_PRec</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_tvsubst_prepat|fact"><span>nonrep_prepat_tvsubst_prepat</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong_id|fact"><span>lfset.map_cong_id</span></a><span>
      </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRec|fact"><span>nonrep_prepat_PRec</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_tvsubst_prepat|fact"><span>nonrep_prepat_tvsubst_prepat</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_comp|fact"><span>lfset.map_comp</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.map_cong|fact"><span>lfset.map_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PPRec_def|fact"><span>nonrep_PPRec_def</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_PRec|fact"><span>nonrep_prepat_PRec</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_prepat_tvsubst_prepat|fact"><span>nonrep_prepat_tvsubst_prepat</span></a><span>
      </span><a class="entity_ref" href="Pattern.html#Pattern.tvsubst_prepat.simps|fact"><span>tvsubst_prepat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PVars_PVar|fact"><span class="entity_def" id="Pattern.PVars_PVar|thm"><span>PVars_PVar</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>{</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_def|fact"><span>PVars_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar_def|fact"><span>PVar_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PVars_PRec|fact"><span class="entity_def" id="Pattern.PVars_PRec|thm"><span>PVars_PRec</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_def|fact"><span>PVars_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PTVars_PVar|fact"><span class="entity_def" id="Pattern.PTVars_PVar|thm"><span>PTVars_PVar</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVar|const"><span class="const"><span>PVar</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="SystemFSub.html#SystemFSub.FVars_typ|const"><span class="const"><span>FVars_typ</span></span></a><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars_def|fact"><span>PTVars_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVar_def|fact"><span>PVar_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.PTVars_PRec|fact"><span class="entity_def" id="Pattern.PTVars_PRec|thm"><span>PTVars_PRec</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec|const"><span class="const"><span>nonrep_PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PRec|const"><span class="const"><span>PRec</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.values|const"><span class="const"><span>values</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars_def|fact"><span>PTVars_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PRec_def|fact"><span>PRec_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.nonrep_PRec_alt|fact"><span>nonrep_PRec_alt</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Abs_pat_inverse|fact"><span>Abs_pat_inverse</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.lfin_map_lfset|fact"><span>lfin_map_lfset</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.pat.Rep_pat|fact"><span>Rep_pat</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Labeled_FSet.html#Labeled_FSet.Labeled_FSet.lfset.set_map|fact"><span>lfset.set_map</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.finite_PVars|fact"><span class="entity_def" id="Pattern.finite_PVars|thm"><span>finite_PVars</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PVars|const"><span class="const"><span>PVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PVars_def|fact"><span>PVars_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.finite_PPVars|fact"><span>finite_PPVars</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Pattern.finite_PTVars|fact"><span class="entity_def" id="Pattern.finite_PTVars|thm"><span>finite_PTVars</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span class="const"><span>finite</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Pattern.html#Pattern.PTVars|const"><span class="const"><span>PTVars</span></span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Pattern.html#Pattern.PTVars_def|fact"><span>PTVars_def</span></a><span> </span><a class="entity_ref" href="Pattern.html#Pattern.finite_PPTVars|fact"><span>finite_PPTVars</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>